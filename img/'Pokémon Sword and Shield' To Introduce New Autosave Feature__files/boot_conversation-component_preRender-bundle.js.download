(window.webpackJsonp_spotim_580132258=window.webpackJsonp_spotim_580132258||[]).push([[5],{100:function(e,t,n){"use strict";var r=n(29),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageStackObject=function(e){void 0===e&&(e={});var t=u({id:(0,o.default)(),message:i.createMessageObject(),isAggregated:!1,isPostCommentActionEnabled:!1,isOutOfOrder:!1,childrenStackIds:[],loadingTop:!1,loadingBottom:!1,hasNext:!1,hasPrev:!1,showAllReplies:!1,isLastMessage:!1},e);e.message&&(t.message=i.createMessageObject(e.message));return t},t.isMessageId=function(e,t){var n=e.message;return null!==n&&n.id===t},t.hasMessage=function(e){return null!==e.message},t.getMessage=function(e){return e.message},t.getChildrenStackIds=function(e){return e&&e.childrenStackIds||[]},t.getRepliesCount=function(e){return e.message.repliesCount},t.getMessageId=function(e){var t=e.message;return null===t?null:t.id},t.addChildStackId=function(e,t,n){var r=void 0===n?{}:n,a=r.updateMessageRepliesCount,s=void 0===a||a,o=r.index,d=void 0===o?-1:o,l=JSON.parse(JSON.stringify(e));-1===l.childrenStackIds.findIndex((function(e){return e===t}))&&(-1===d?l.childrenStackIds.push(t):l.childrenStackIds.splice(d,0,t));var c=l;if(s){var E=i.createMessageObject(u(u({},l.message),{repliesCount:l.message.repliesCount+1}));c.message=E}return c},t.setAggregated=function(e,t){var n=JSON.parse(JSON.stringify(e)),r=i.createMessageObject(u(u({},e.message),{isMarked:!0,isNew:!1}));return n.isAggregated=t,n.message=r,n},t.isEqual=function(e,t){return t.id===e.id||t.message&&e.message&&t.message.id===e.message.id},t.updateMessageByParent=t.addChild=t.updateMessagePagination=void 0;var s=a(n(16)),o=a(n(63)),i=r(n(86)),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var d=(0,s.default)((function(e,t){e.hasNext=t.hasNext,e.message.offset=t.offset}));t.updateMessagePagination=d;var l=(0,s.default)((function(e,t){e.childrenStackIds.push(t.id)}));t.addChild=l;var c=(0,s.default)((function(e,t){var n=t.message;e.message.depth=n.depth+1,n.isDeleted||(e.message.replyToUsername=n.user.username,n.userDisplayName?e.message.replyToDisplayName=n.userDisplayName:e.message.replyToDisplayName=n.user.displayName)}));t.updateMessageByParent=c},1002:function(e,t){},1012:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkUsersToMessage=function(e,t,n){void 0===n&&(n=e.userId);e.user=t[n],e.userDisplayName&&(e.user.displayName=e.userDisplayName);e.entities&&e.entities.forEach((function(e){"user-mention"===e.type.toLowerCase()&&(e.user=t[e.userId])}));if(e.replyToUserId&&!e.replyToDisplayName){var r=t[e.replyToUserId];r&&(e.replyToDisplayName=r.displayName||r.username)}}},1013:function(e,t,n){"use strict";var r=n(0),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,o=r(n(34)),i=n(15),u=r(n(16)),d=a(n(1014)),l=n(39),c=n(86);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=d.createConversationObject(),S=(0,i.handleActions)((s={},(0,o.default)(s,l.INITIALIZE_CONVERSATION,(function(e,t){var n=t.payload;return d.createConversationObject(f(f(f({},_),n.conversation),{},{starRatingSummary:n.starRatingSummary}))})),(0,o.default)(s,l.CLEAR_CONVERSATION,(function(){return _})),(0,o.default)(s,l.FETCH_CONVERSATION_END,(function(e,t){var n=t.payload.conversation;return d.createConversationObject(f(f({},e),n))})),(0,o.default)(s,l.CREATE_MESSAGE_START,(0,u.default)((function(e,t){var n=t.payload.message;(0,c.isRootMessage)(n)?e.isSubmittingComment=!0:(e.isSubmittingReply=!0,e.submittedReplyParentMessageId=n.parentMessageId)}))),(0,o.default)(s,l.CREATE_MESSAGE_END,(0,u.default)((function(e,t){var n=t.payload,r=n.message;n.isRetry||(e.messagesCount++,(0,c.isRootMessage)(r)&&e.commentsCount++,r.starsRating>0&&(e.starsRatingCount+=1,e.averageStarsRating=(e.averageStarsRating*e.starsRatingCount+r.starsRating)/e.starsRatingCount)),e.hasCommented=!0,(0,c.isRootMessage)(r)?e.isSubmittingComment=!1:(e.isSubmittingReply=!1,e.submittedReplyParentMessageId=r.parentMessageId)}))),(0,o.default)(s,(0,i.combineActions)(l.MODERATE_MESSAGE_BLOCK,l.UPDATE_USER_SUSPENSION),(0,u.default)((function(e,t){var n=t.payload.message;n&&((0,c.isRootMessage)(n)?e.isSubmittingComment=!1:(e.isSubmittingReply=!1,delete e.submittedReplyParentMessageId))}))),(0,o.default)(s,l.CLOSE_REPLY_SAY_CONTROL,(0,u.default)((function(e,t){e.isSubmittingReply=!1,delete e.submittedReplyParentMessageId}))),(0,o.default)(s,(0,i.combineActions)(l.DELETE_MESSAGE_START,l.REJECT_MESSAGE_START),(0,u.default)((function(e,t){var n=t.payload.message;n.starsRating>0&&(e.starsRatingCount-=1,e.averageStarsRating=(e.averageStarsRating*e.starsRatingCount-n.starsRating)/e.starsRatingCount),e.messagesCount--,0===n.depth&&e.commentsCount--}))),(0,o.default)(s,(0,i.combineActions)(l.DELETE_MESSAGE_END,l.REJECT_MESSAGE_END),(function(e,t){var n=t.payload,r=n.conversation,a=n.starsRating;return d.removeStarsRatingVote(d.createConversationObject(f(f({},e),r)),a)})),(0,o.default)(s,l.EDIT_MESSAGE_START,(function(e,t){var n=t.payload,r=n.conversation,a=n.message;return d.createConversationObject(f(f(f({},e),r),{},{isSubmittingEdit:!0,editedMessageId:a.id}))})),(0,o.default)(s,l.EDIT_MESSAGE_END,(function(e,t){var n=t.payload.conversation;return d.createConversationObject(f(f(f({},e),n),{},{isSubmittingEdit:!1,editedMessageId:void 0}))})),(0,o.default)(s,l.GET_STARS_RATING_SUMMARY,(function(e,t){var n=t.payload,r=n.averageStarsRating,a=n.starsRatingCount;return d.createConversationObject(f(f({},e),{},{averageStarsRating:r,starsRatingCount:a}))})),(0,o.default)(s,l.REALTIME_MESSAGE_NEW,(function(e,t){var n=t.payload.conversation;return d.createConversationObject(f(f({},e),n))})),(0,o.default)(s,l.RESPONSE_TOGGLE_HIDE_CONVERSATION,(function(e){return d.createConversationObject(f(f({},e),{},{isHidden:!e.isHidden}))})),(0,o.default)(s,l.GET_MODERATION_DEFAULT_POLICY,{next:function(e,t){var n=t.payload.defaultPolicy;return d.createConversationObject(f(f({},e),{},{defaultPolicy:n}))}}),(0,o.default)(s,l.UPDATE_CONVERSATION_MESSAGES_COUNT,(0,u.default)((function(e,t){e.messagesCount=t.payload.replies+t.payload.comments,e.commentsCount=t.payload.comments}))),(0,o.default)(s,l.UPDATE_SHOULD_FETCH_FEATURED_COMMENT,(0,u.default)((function(e,t){e.shouldFetchFeaturedComment=t.payload}))),(0,o.default)(s,l.SET_IS_SETTING_COMMUNITY_QUESTION,(0,u.default)((function(e,t){e.isSettingCommunityQuestion=t.payload.isSettingCommunityQuestion}))),s),_);t.default=S},1015:function(e,t,n){"use strict";var r=n(0),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,o=r(n(34)),i=n(15),u=n(39),d=a(n(87)),l=n(162),c=n(206);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=(0,i.handleActions)((s={},(0,o.default)(s,u.OPEN_MAIN_SAY_CONTROL,{next:function(e){return f(f({},e),{},{expanded:!1})}}),(0,o.default)(s,u.FOCUS_SAY_CONTROL,{next:function(e,t){var n=t.payload.stackId;return f(f({},e),{},n?{expanded:!1}:{expanded:!0})}}),(0,o.default)(s,u.UNFOCUS_SAY_CONTROL,{next:function(e){return f(f({},e),{},{expanded:!1})}}),(0,o.default)(s,u.CREATE_MESSAGE_END,{next:function(e,t){var n=t.payload.message;return(null==n?void 0:n.parentMessageId)?e:f(f({},e),{},{starsRating:0,isMessageBlocked:!1,isModerationAlertVisible:!1,verdict:"",tempMessageId:null})}}),(0,o.default)(s,u.RANK_CONVERSATION,{next:function(e,t){var n=t.payload.starsRating;return f(f({},e),{},{starsRating:n})}}),(0,o.default)(s,u.CLOSE_MODERATION_ALERT,{next:function(e,t){return t.payload.parentMessageId||!e.isMessageBlocked?e:f(f({},e),{},{isModerationAlertVisible:!1})}}),(0,o.default)(s,u.MODERATE_MESSAGE_BLOCK,{next:function(e,t){var n=t.payload,r=n.message,a=n.taggers,s=n.verdict,o=n.tempId;return(null==r?void 0:r.parentMessageId)?e:f(f({},e),{},{isMessageBlocked:!0,isModerationAlertVisible:!0,moderationTags:a,verdict:s,tempMessageId:o})}}),(0,o.default)(s,u.NOTIFY_MODERATION_ALERT_RENDERED,{next:function(e,t){return f(f({},e),{},{isModerationAlertRendered:!0})}}),(0,o.default)(s,u.REALTIME_MODERATE,{next:function(e,t){var n=t.payload,r=n.error,a=n.parentMessageId,s=n.tags,o=n.verdict;if(a||r||e.isMessageBlocked)return e;var i=d.isRealtimeMessageBlocked(o,s),u={isModerationAlertVisible:i,moderationTags:i?s:[],verdict:i?o:null};return f(f({},e),u)}}),(0,o.default)(s,(0,i.combineActions)(u.UPDATE_USER_SUSPENSION,u.FETCH_USER_SUSPENSION_STATUS),{next:function(e,t){var n=t.payload,r=n.isUserSuspended,a=n.verdict,s=n.moderationTags,o={verdict:r?a||c.TPolicyVerdict.BLOCK_ALL:null,moderationTags:r?s||[l.TPolicyTag.SUSPENDED]:[],isMessageBlocked:r,isModerationAlertVisible:r};return f(f({},e),o)}}),s),{expanded:!1,starsRating:0,isMessageBlocked:!1,isModerationAlertVisible:!1,isModerationAlertRendered:!1,moderationTags:[],verdict:null,tempMessageId:null});t.default=_},1016:function(e,t,n){"use strict";var r=n(0),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,o=r(n(34)),i=n(15),u=n(39),d=a(n(87)),l=n(162),c=n(206);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={settings:{isModerationAlertRendered:!1,isUserSuspended:!1}},S=(0,i.handleActions)((s={},(0,o.default)(s,u.INITIALIZE_CONVERSATION,{next:function(e,t){var n=t.payload.highlight,r=void 0===n?{}:n,a=_,s=r.id;return!0===r.isSayControlExpanded&&(a=f(f({},a),{},(0,o.default)({},s,p()))),a}}),(0,o.default)(s,u.CLEAR_CONVERSATION,(function(){return _})),(0,o.default)(s,u.OPEN_MESSAGE_SAY_CONTROL,{next:function(e,t){var n=t.payload.messageId,r=e[n]&&Object.assign({},e[n]),a=r&&r.isRendered;r&&!r.isCreate?r.isCreate=!0:r=p({isCreate:!0,isRendered:a},e.settings.isUserSuspended),r&&void 0===a&&(r.isRendered=!1);var s=Object.assign({},e);return Object.keys(s).forEach((function(e){s[e].isCreate=!1,s[e].isRendered=!1})),s[n]=r,s}}),(0,o.default)(s,u.SAY_CONTROL_RENDERED,(function(e,t){t.payload.messageId})),(0,o.default)(s,u.SAY_CONTROL_RENDERED,(function(e,t){var n=t.payload.messageId,r=e[n];if(r){r=f(f({},r),{},{isRendered:!0});var a=f({},e);return a[n]=r,a}})),(0,o.default)(s,u.OPEN_EDIT_SAY_CONTROL,(function(e,t){var n=t.payload,r=n.messageId,a=n.starsRating,s=e[r],o=s&&s.isRendered;(s=s?f(f({},s),{},{starsRating:a,isEdit:!0}):p({starsRating:a,isEdit:!0,isRendered:o}))&&void 0===o&&(s.isRendered=!1);var i=f({},e);return i[r]=s,i})),(0,o.default)(s,u.RANK_CONVERSATION_MESSAGE_SAY_CONTROL,(function(e,t){var n=t.payload,r=n.starsRating,a=n.messageId;return e[a]=f(f({},e[a]),{},{starsRating:r}),f({},e)})),(0,o.default)(s,u.CREATE_MESSAGE_START,(function(e,t){var n=t.payload.message,r=void 0===n?null:n,a=f({},e);if(r&&r.parentMessageId){var s=e[r.parentMessageId];s||(s=p()),s.isCreate=!0,a[r.parentMessageId]=s}return a})),(0,o.default)(s,u.EDIT_MESSAGE_END,(function(e){var t=f({},e);return g(Object.keys(t).map((function(e){return t[e]}))),t})),(0,o.default)(s,u.CLOSE_EDIT_SAY_CONTROL,(function(e,t){var n=t.payload.messageId,r=f({},e);return r[n].isEdit=!1,r[n].isRendered=!1,r})),(0,o.default)(s,u.CLOSE_REPLY_SAY_CONTROL,(function(e,t){var n=t.payload.messageId,r=f({},e);return r[n].isCreate=!1,r[n].isRendered=!1,r})),(0,o.default)(s,u.CREATE_MESSAGE_END,(function(e,t){var n=t.payload.message.parentMessageId;if(!n)return e;var r=f({},e);return r[n]=p({isMessageBlocked:!1,isModerationAlertVisible:!1,moderationTags:[],verdict:void 0}),r})),(0,o.default)(s,u.FETCH_CONVERSATION_END,{next:function(e,t){var n=t.payload.highlight,r=void 0===n?{}:n,a=e,s=r.id;return!0===r.isSayControlExpanded&&(e[s]=p(),a=f({},e)),g(Object.keys(a).map((function(e){return a[e]}))),a}}),(0,o.default)(s,u.MODERATE_MESSAGE_BLOCK,{next:function(e,t){var n=t.payload,r=n.message,a=n.taggers,s=n.verdict,o=n.tempId,i=f({},e);if(r&&r.parentMessageId){var u=e[r.parentMessageId];u||(u=p()),u.isMessageBlocked=!0,u.isCreate=!0,u.isModerationAlertVisible=!0,u.moderationTags=a,u.verdict=s,u.tempMessageId=o,i[r.parentMessageId]=u}return i}}),(0,o.default)(s,u.CLOSE_MODERATION_ALERT,{next:function(e,t){var n=t.payload.parentMessageId,r=f({},e);if(n){var a=e[n];a||(a=p()),a.isModerationAlertVisible=!1,r[n]=a}return r}}),(0,o.default)(s,u.NOTIFY_MODERATION_ALERT_RENDERED,{next:function(e,t){var n=f(f({},e.settings),{},{isModerationAlertRendered:!0});return f(f({},e),{},{settings:n})}}),(0,o.default)(s,u.REALTIME_MODERATE,{next:function(e,t){var n=t.payload,r=n.error,a=n.parentMessageId,s=n.tags,o=n.verdict;if(r||e.isMessageBlocked||e.settings.isUserSuspended)return e;var i=d.isRealtimeMessageBlocked(o,s),u=f({},e);if(a){var l=e[a];l||(l=p()),l.isModerationAlertVisible=i,l.moderationTags=i?s:[],l.verdict=i?o:null,u[a]=l}return u}}),(0,o.default)(s,(0,i.combineActions)(u.UPDATE_USER_SUSPENSION,u.FETCH_USER_SUSPENSION_STATUS),{next:function(e,t){var n=t.payload,r=n.isUserSuspended,a=n.verdict,s=n.moderationTags,i=f(f({},e.settings),{},{isUserSuspended:r}),u=r?Object.keys(e).filter((function(e){return"settings"!==e})).reduce((function(t,n){return f(f({},t),{},(0,o.default)({},n,f(f({},e[n]),{},{isMessageBlocked:!0,isModerationAlertVisible:!0,moderationTags:s||[l.TPolicyTag.SUSPENDED],verdict:a||c.TPolicyVerdict.BLOCK_ALL})))}),{}):e;return f(f({},u),{},{settings:i})}}),s),_);function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return f({starsRating:0,isExpanded:!0,isEdit:!1,isCreate:!1,isMessageBlocked:t,isModerationAlertVisible:t,moderationTags:t?[l.TPolicyTag.SUSPENDED]:[],verdict:t?c.TPolicyVerdict.BLOCK_ALL:null,tempMessageId:null},e)}function g(e){e.map((function(e){Object.assign(e,{isCreate:!1,isEdit:!1,isRendered:!1,isMessageBlocked:!1,isModerationAlertVisible:!1,moderationTags:[],verdict:null,tempMessageId:null})}))}t.default=S},1017:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=r(n(34)),o=n(15),i=n(286),u=n(39),d=n(55),l=n(86);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,o.handleActions)((a={},(0,s.default)(a,i.CLOSE_SIGNUP_WIZARD,(function(e){return E(E({},e),{},{enabled:!1})})),(0,s.default)(a,u.SET_CURRENT_USER,(function(e,t){var n=t.payload.currentUser;return E(E({},e),{},{enabled:!(0,d.isLoggedIn)(n)})})),(0,s.default)(a,u.CREATE_MESSAGE_START,(function(e,t){var n=t.payload,r=n.message,a=n.isLoggedIn;return E(E({},e),{},{enabled:(0,l.isRootMessage)(r)&&a})})),a),{enabled:!1});t.default=f},1018:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=r(n(34)),o=n(15),i=n(287),u=n(1019),d=n(1020),l=n(1021),c=n(1022);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={verifyEmailSent:!1,emailSignupUser:null,emailSignupStatus:c.NONE,emailSignupErrorType:null,username:null,usernameAvailable:!1,usernameSuggestions:[],usernameLoading:!1},S=(0,o.handleActions)((a={},(0,s.default)(a,i.RESPONSE_VERIFY_EMAIL,{next:function(e){return f(f({},e),{},{verifyEmailSent:!0})}}),(0,s.default)(a,u.REQUEST_VERIFY_USERNAME,{next:function(e){return f(f({},e),{},{usernameLoading:!0})}}),(0,s.default)(a,u.RESPONSE_VERIFY_USERNAME,{next:function(e,t){var n=t.payload,r=n.username,a=n.isAvailable,s=n.suggestions;return f(f({},e),{},{usernameLoading:!1,username:r,usernameAvailable:a,usernameSuggestions:s})},throw:function(e){return f(f({},e),{},{usernameLoading:!1})}}),(0,s.default)(a,d.REQUEST_SET_CURRENT_USER_EMAIL_SIGNUP,{next:function(e){return f(f({},e),{},{emailSignupStatus:c.LOADING})}}),(0,s.default)(a,d.RESPONSE_SET_CURRENT_USER_EMAIL_SIGNUP,{next:function(e,t){var n=t.error,r=t.payload,a=r.currentUser,s=r.error;return n?(e.emailSignupStatus=c.ERROR,e.emailSignupErrorType=s):(e.emailSignupStatus=c.SUCCESS,e.emailSignupUser=a),f({},e)},throw:function(e,t){var n=t.payload.error;return f(f({},e),{},{emailSignupStatus:c.ERROR,emailSignupErrorType:n&&n.body&&n.body.type||""})}}),(0,s.default)(a,l.SET_CURRENT_USER_RESET,{next:function(e){return f(f({},e),{},{emailSignupStatus:c.NONE,emailSignupErrorType:null,currentUser:null})}}),a),_);t.default=S},1019:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.username;return function(){var e=(0,o.default)(a.default.mark((function e(n){var r,s,o,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"REQUEST_VERIFY_USERNAME",payload:{username:t}}),e.prev=1,e.next=4,u.default.verifyUsername(t);case 4:r=e.sent,a=c(c({},r.body),{},{username:t}),s=i.default.map(a,{username:"username",available:"isAvailable",suggestions:"suggestions"}),o=s.isAvailable,l=s.suggestions,n({type:"RESPONSE_VERIFY_USERNAME",payload:{username:t,isAvailable:o,suggestions:l}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),(0,d.default)("RESPONSE_VERIFY_USERNAME",e.t0),n({type:"RESPONSE_VERIFY_USERNAME",payload:{error:e.t0},error:!0});case 13:case"end":return e.stop()}var a}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},t.RESPONSE_VERIFY_USERNAME=t.REQUEST_VERIFY_USERNAME=void 0;var a=r(n(40)),s=r(n(34)),o=r(n(41)),i=r(n(64)),u=r(n(474)),d=r(n(5));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.REQUEST_VERIFY_USERNAME="REQUEST_VERIFY_USERNAME";t.RESPONSE_VERIFY_USERNAME="RESPONSE_VERIFY_USERNAME"},1020:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESPONSE_SET_CURRENT_USER_EMAIL_SIGNUP=t.REQUEST_SET_CURRENT_USER_EMAIL_SIGNUP=void 0;t.REQUEST_SET_CURRENT_USER_EMAIL_SIGNUP="REQUEST_SET_CURRENT_USER_EMAIL_SIGNUP";t.RESPONSE_SET_CURRENT_USER_EMAIL_SIGNUP="RESPONSE_SET_CURRENT_USER_EMAIL_SIGNUP"},1021:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{type:"SET_CURRENT_USER_RESET",payload:{}}},t.SET_CURRENT_USER_RESET=void 0;t.SET_CURRENT_USER_RESET="SET_CURRENT_USER_RESET"},1022:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOADING=t.ERROR=t.SUCCESS=t.NONE=void 0;t.NONE="none";t.SUCCESS="success";t.ERROR="error";t.LOADING="loading"},1023:function(e,t,n){"use strict";var r=n(0),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,o=r(n(34)),i=n(15),u=a(n(1024)),d=n(39);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=u.createRatingSummary(),f=(0,i.handleActions)((s={},(0,o.default)(s,d.CREATE_MESSAGE_START,{next:function(e,t){var n=t.payload.message.starsRating;return n>0?u.addRating(e,n):e}}),(0,o.default)(s,d.EDIT_MESSAGE_START,{next:function(e,t){var n=t.payload.message,r=n.oldStarsRating,a=n.starsRating;return u.removeRating(u.addRating(e,a),r)}}),(0,o.default)(s,d.GET_STARS_RATING_SUMMARY,{next:function(e,t){var n=t.payload,r=n.segments,a=n.isExpanded;return u.createRatingSummary(c(c({},e),{},{segments:r,isExpanded:a}))}}),s),E);t.default=f},1025:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=r(n(34)),o=n(15),i=n(68),u=n(39);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=(0,o.handleActions)((a={},(0,s.default)(a,u.GET_BASIC_USER_PROFILE_START,{next:function(e){return l(l({},e),{},{loading:!0})}}),(0,s.default)(a,u.GET_BASIC_USER_PROFILE_END,{next:function(e,t){var n=t.payload.user;return l(l({},e),{},{loading:!1,user:(0,i.createUserObject)(n)})},throw:function(e){return l(l({},e),{},{loading:!1,user:null})}}),a),{loading:!1,user:null,error:null});t.default=c},1026:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=r(n(34)),o=n(15),i=r(n(1027)),u=n(68),d=n(39);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={conversationId:null,loading:!1,users:[],error:null,offset:0,count:0},f=(0,o.handleActions)((a={},(0,s.default)(a,d.RESET_UP_VOTES,{next:function(e){return c(c({},e),E)}}),(0,s.default)(a,d.REQUEST_GET_UP_VOTES,{next:function(e,t){var n=t.payload,r=n.offset,a=n.conversationId;return c(c({},e),{},{conversationId:a,loading:!0,users:0===r?[]:e.users,offset:r})}}),(0,s.default)(a,d.RESPONSE_GET_UP_VOTES,{next:function(e,t){var n=t.payload,r=n.conversationId,a=n.users,s=n.offset,o=n.count;a=a.map(u.createUserObject);var d=e.users;return 0===s?d=a:a.length>0&&(d=(0,i.default)(d,a,"id")),c(c({},e),{},{conversationId:r,loading:!1,users:d,offset:s,count:o})},throw:function(e){return c(c({},e),{},{loading:!1,conversationId:null,users:[]})}}),a),E);t.default=f},105:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.viewportObserver=t.cloudinary=void 0;var a=r(n(271)),s=r(n(158)),o=n(943),i=r(n(113)),u=(0,a.default)(i.default.cloudinary.url,i.default.cloudinary.apiKey,s.default.cloudinarySign.getFullUrl());t.cloudinary=u;var d=new o.ViewportObserver;t.viewportObserver=d},1061:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(54)),s=n(15),o=n(137),i=n(164),u=n(166),d=n(215),l=n(216),c=n(217),E=n(39),f=n(1108),_=n(1109),S=n(287);var p=(0,s.handleActions)([E.INITIALIZE_CONVERSATION,E.CLEAR_CONVERSATION,E.INITIALIZE_MODULE_OPTIONS,E.FETCH_CONVERSATION_START,E.FETCH_CONVERSATION_END,o.GET_REPLIES_START,o.GET_REPLIES_END_ERROR,E.CREATE_MESSAGE_START,E.CREATE_MESSAGE_END,E.CLEAN_FAILED_MESSAGE,E.DELETE_MESSAGE_START,E.DELETE_MESSAGE_END,E.REJECT_MESSAGE_START,E.REJECT_MESSAGE_END,E.EDIT_MESSAGE_START,E.EDIT_MESSAGE_END,E.VOTE_TOGGLE_MESSAGE_END,E.REPORT_MESSAGE_END,E.REALTIME_MESSAGE_NEW,i.UPDATED_MESSAGES,u.REALTIME_MESSAGE_VOTE,d.DELETE_MESSAGES,l.REJECT_MESSAGES,E.FOCUS_SAY_CONTROL,E.UNFOCUS_SAY_CONTROL,E.OPEN_MAIN_SAY_CONTROL,E.OPEN_EDIT_SAY_CONTROL,E.CLOSE_EDIT_SAY_CONTROL,c.EXPAND_AGGREGATED_MESSAGES,E.RANK_CONVERSATION,E.TOGGLE_MARK_MESSAGE,E.GET_BASIC_USER_PROFILE_START,E.GET_BASIC_USER_PROFILE_END,f.SCROLL_HOST_START,_.SCROLL_HOST_STOP,E.GET_STARS_RATING_SUMMARY,E.REQUEST_GET_UP_VOTES,E.RESPONSE_GET_UP_VOTES,S.REQUEST_VERIFY_EMAIL,S.RESPONSE_VERIFY_EMAIL].reduce((function(e,t){return e[t]=function(e){return{throw:function(t,n){var r=n.payload.error;return console.log("ERROR",e,r),[].concat((0,a.default)(t),[r])},next:function(e){return e}}}(t),e}),{}),[]);t.default=p},107:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.createMessagesStackListObject=function(e){void 0===e&&(e={});return s({messages:{},rootOrder:[],aggregatedMessage:[]},e)},t.hasItems=function(e){return Object.keys(e.messages).length>0},t.findBy=function(e,t){return Object.values(e.messages).find(t)||null},t.findByMessageId=o,t.getRootMessageStack=function(e,t){var n=o(e,t);for(;n&&n.message.parentMessageId;)n=o(e,n.message.parentMessageId);return n},t.findByStackId=function(e,t){return e.messages[t]},t.addMessageStack=function(e,t){return(0,a.default)(e,(function(e){e.messages[t.id]=t}))},t.addRootMessageStack=function(e,t){return(0,a.default)(e,(function(e){e.messages[t.id]=t,e.rootOrder.unshift(t.id)}))},t.deleteByMessageId=function(e,t){return(0,a.default)(e,(function(e){var n=e.messages[t].message.parentMessageId;if(n){var r=e.messages[n];r.childrenStackIds=r.childrenStackIds.filter((function(e){return e!==t}))}delete e.messages[t]}))},t.updateBy=i,t.updateByStackId=function(e,t,n){return i(e,t,n)},t.updateByMessageId=function(e,t,n){return i(e,t,n)},t.getAggregatedStacksSequence=function(e){return e.aggregatedMessage.map((function(t){return e.messages[t]}))},t.getRootmessages=function(e){return e.rootOrder.map((function(t){return e.messages[t]}))},t.count=function(e){return Object.keys(e.messages).length},t.getLastMessageStack=function(e,t){var n=t,r=t;for(;r;)(r=o(e,n.childrenStackIds[n.childrenStackIds.length-1]))&&(n=r);return n},t.traverse=function e(t,n){var r=[];if(0===n.childrenStackIds.length)return r;for(var a=n.childrenStackIds.map((function(e){return o(t,e)})),s=0,i=a;s<i.length;s++){var u=i[s];r.push(u),r=r.concat(e(t,u))}return r};var a=r(n(16)),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){return e.messages[t]}function i(e,t,n){return(0,a.default)(e,(function(e){e.messages[t]=s(s(s({},e.messages[t]),n),{message:s(s(s({},e.messages[t].message),n.message),{user:s(s({},e.messages[t].message.user),n.message.user)})})}))}},108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPING_NOTIFY_INTERVAL=t.AGGREGATE_TYPING_TRESHOLD=t.AGGREGATE_MESSAGES_EXPAND_CHUNK=t.REPLIES_PAGE_SIZE=t.MOBILE_COMMENTS_FIRST_PAGE_SIZE=t.COMMENTS_PAGE_SIZE=t.COMMENTS_FIRST_PAGE_SIZE=void 0;t.COMMENTS_FIRST_PAGE_SIZE=25;t.COMMENTS_PAGE_SIZE=10;t.MOBILE_COMMENTS_FIRST_PAGE_SIZE=5;t.REPLIES_PAGE_SIZE=15;t.AGGREGATE_MESSAGES_EXPAND_CHUNK=25;t.AGGREGATE_TYPING_TRESHOLD=4;t.TYPING_NOTIFY_INTERVAL=1e4},1108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{type:"SCROLL_HOST_START"}},t.SCROLL_HOST_START=void 0;t.SCROLL_HOST_START="SCROLL_HOST_START"},1109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{type:"SCROLL_HOST_STOP"}},t.SCROLL_HOST_STOP=void 0;t.SCROLL_HOST_STOP="SCROLL_HOST_STOP"},1110:function(e,t,n){"use strict";var r=n(29),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,o=n(15),i=a(n(16)),u=r(n(76)),d=r(n(107)),l=n(39),c=a(n(557)),E=a(n(1111)),f=n(164),_=n(166),S=n(215),p=n(218),g=a(n(1112)),O=n(137),T=n(216),m=(0,o.handleActions)(((s={})[(0,o.combineActions)(l.INITIALIZE_CONVERSATION,l.FETCH_CONVERSATION_END,l.CREATE_MESSAGE_START,l.CREATE_MESSAGE_END,l.CLEAN_FAILED_MESSAGE,l.ADD_HIGHLIGHTED_MESSAGE)]=(0,i.default)((function(e,t){e.messages=(0,E.default)(e.messages,t),e.rootOrder=(0,g.default)(e.rootOrder,t)})),s[l.REALTIME_MESSAGE_NEW]=(0,i.default)((function(e,t){var n=t.payload,r=n.message,a=n.shouldAggregate,s=n.messageStack;if(0===r.depth)a&&!r.featuredComment?(s.isAggregated=!0,e.aggregatedMessage.push(r.id)):e.rootOrder.unshift(r.id),s.isLastMessage=!0;else{var o=e.messages[r.parentMessageId];if(o){var i=o.message;s.message.depth=i.depth+1,s.message.replyToDisplayName=i.userDisplayName||i.user.displayName,s.message.replyToUsername=i.user.username,o.isLastMessage=!1,o.isAggregated&&(s.isAggregated=!0,e.aggregatedMessage.push(r.id)),o.childrenStackIds.push(r.id),o.message.repliesCount++}}e.messages[r.id]=s})),s.EDIT_MESSAGE=(0,i.default)((function(e,t){e.messages[t.payload.message.id]=t.payload.message})),s[(0,o.combineActions)(l.EDIT_MESSAGE_START,l.EDIT_MESSAGE_END).toString()]={next:(0,i.default)((function(e,t){var n=t.payload.message.id;e.messages[n]=(0,c.default)(e.messages[n],t)})),throw:(0,i.default)((function(e,t){var n=t.payload.message.id;e.messages[n]=(0,c.default)(e.messages[n],t)}))},s[(0,o.combineActions)(f.UPDATED_MESSAGES,_.REALTIME_MESSAGE_VOTE,l.TOGGLE_MARK_MESSAGE,l.VOTE_TOGGLE_MESSAGE_START,l.PIN_MESSAGE_STATUS,l.WHITE_LIST_USER_STATUS,O.GET_REPLIES_END,p.GET_PREVIOUS_REPLIES_END,l.REPORT_MESSAGE_END,l.MUTE_USER,l.UNMUTE_USER).toString()]=(0,i.default)((function(e,t){e.messages=(0,E.default)(e.messages,t)})),s[(0,o.combineActions)(l.DELETE_MESSAGE_START).toString()]=(0,i.default)((function(e,t){var n=t.payload.message,r=d.findByMessageId(e,n.id);if(r){var a=0===r.message.depth;if(r.childrenStackIds.length>0)r.message.isDeleted=!0,r.childrenStackIds.map((function(t){return d.findByStackId(e,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else if(a)r.message.isDeleted=!0;else{var s=d.findByMessageId(e,n.parentMessageId);s.childrenStackIds=s.childrenStackIds.filter((function(e){return e!==n.id})),s.message.repliesCount--,delete e.messages[n.id]}}})),s[T.REJECT_MESSAGES]=(0,i.default)((function(e,t){t.payload.messages.forEach((function(t){var n,r,a,s,o=d.findByMessageId(e,t.id);if(o)if(o.childrenStackIds.length>0||o.hasNext)o.message.status=u.BLOCKED,e.messages[t.id].message.isPublished=!1,o.childrenStackIds.map((function(t){return d.findByStackId(e,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else{var i=null===(a=null===(r=null===(n=null==e?void 0:e.messages)||void 0===n?void 0:n[t.id])||void 0===r?void 0:r.message)||void 0===a?void 0:a.parentMessageId;if(i)(null===(s=null==e?void 0:e.messages)||void 0===s?void 0:s[i]).message.repliesCount--,e.messages[t.id].message.status=u.BLOCKED,e.messages[t.id].message.isPublished=!1;else o.message.status=u.BLOCKED,e.messages[t.id].message.isPublished=!1}}))})),s[S.DELETE_MESSAGES]=(0,i.default)((function(e,t){t.payload.messages.forEach((function(t){var n=d.findByMessageId(e,t.id);if(n)if(n.childrenStackIds.length>0||n.hasNext)n.message.isDeleted=!0,n.childrenStackIds.map((function(t){return d.findByStackId(e,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else{var r=e.messages[t.id].message.parentMessageId;if(r)e.messages[r].message.repliesCount--,e.messages[t.id].message.isDeleted=!0;else n.message.isDeleted=!0}}))})),s),d.createMessagesStackListObject());t.default=m},1111:function(e,t,n){"use strict";var r=n(29),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,o=n(15),i=a(n(16)),u=r(n(100)),d=n(164),l=r(n(557)),c=n(39),E=n(166),f=n(218),_=n(137),S=n(86),p=n(305),g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},O=(0,o.handleActions)(((s={})[(0,o.combineActions)(c.INITIALIZE_CONVERSATION,c.FETCH_CONVERSATION_END,c.ADD_HIGHLIGHTED_MESSAGE)]=(0,i.default)((function(e,t){for(var n=t.payload,r=n.comments,a=n.reportedComments,s=0,o=r;s<o.length;s++){var i=o[s];if(!e[i.id]){if(a)a[i.id]&&(i=(0,p.reportMessage)(i));var d=u.createMessageStackObject({id:i.id,message:i,hasNext:i.hasNext});if(i.parentMessageId){var l=e[i.parentMessageId];e[i.parentMessageId]=u.addChild(e[i.parentMessageId],i),d=u.updateMessageByParent(d,l)}e[i.id]=d}}})),s[_.GET_REPLIES_END]=(0,i.default)((function(e,t){for(var n=t.payload,r=n.comments,a=n.parentMessage,s=n.conversation,o=0,i=r;o<i.length;o++){var d=i[o];if(!e[d.id]){var l=u.createMessageStackObject({id:d.id,message:d,hasNext:d.hasNext});if(d.parentMessageId){var c=e[d.parentMessageId];e[d.parentMessageId]=u.addChild(e[d.parentMessageId],d),l=u.updateMessageByParent(l,c)}e[d.id]=l}}e[a.id]=u.updateMessagePagination(e[a.id],s)})),s[c.CREATE_MESSAGE_END]={next:(0,i.default)((function(e,t){var n=t.payload,r=n.message,a=n.isLoggedIn;T(e,n.isRetry,r,a)})),throw:(0,i.default)((function(e,t){var n=t.payload,r=n.message,a=n.isLoggedIn;T(e,n.isRetry,r,a)}))},s[c.CLEAN_FAILED_MESSAGE]=(0,i.default)((function(e,t){var n,r,a=t.payload.message,s=null===(r=null===(n=e[a.id])||void 0===n?void 0:n.message)||void 0===r?void 0:r.parentMessageId;if(s){var o=e[s];o.childrenStackIds=o.childrenStackIds.filter((function(e){return e!==a.id})),o.message.repliesCount--}delete e[a.id]})),s[(0,o.combineActions)(E.REALTIME_MESSAGE_VOTE,c.TOGGLE_MARK_MESSAGE,c.VOTE_TOGGLE_MESSAGE_START,c.PIN_MESSAGE_STATUS,c.WHITE_LIST_USER_STATUS,c.REPORT_MESSAGE_END).toString()]=(0,i.default)((function(e,t){var n=t.payload.message;e[n.id]=(0,l.default)(e[n.id],t)})),s[d.UPDATED_MESSAGES]=(0,i.default)((function(e,t){for(var n=0,r=t.payload;n<r.length;n++){var a=r[n],s=e[a.id];s&&(s.message=(0,l.updateMessageStack)(s,a))}})),s[f.GET_PREVIOUS_REPLIES_END]=(0,i.default)((function(e,t){for(var n,r=t.payload,a=r.replies,s=void 0===a?[]:a,o=r.parentMessage,i=r.conversation,d=[],l=0,c=s;l<c.length;l++){var E=c[l];if(!e[E.id]){var f=u.createMessageStackObject({id:E.id,message:E,hasNext:E.hasNext}),_=e[E.parentMessageId];f=u.updateMessageByParent(f,_),E.parentMessageId===o.id?d.push(f.id):e[E.parentMessageId]=u.addChild(e[E.parentMessageId],E),e[f.id]=f}}var S=e[o.id];S.hasNext=i.hasNext,S.message.offset=i.offset,(n=S.childrenStackIds).unshift.apply(n,d.reverse())})),s[(0,o.combineActions)(c.MUTE_USER,c.UNMUTE_USER).toString()]=(0,i.default)((function(e,t){var n=t.payload.userId;Object.values(e).filter((function(e){return e.message.user.id===n})).forEach((function(n){e[n.id]=(0,l.default)(e[n.id],t)}))})),s),{});function T(e,t,n,r){for(var a,s=u.createMessageStackObject({id:n.id,message:g(g({},n),{isNew:!0,isMine:!0})}),o=0,i=Object.values(e);o<i.length;o++){i[o].isPostCommentActionEnabled=!1}(e[n.id]=s,t||(0,S.isRootMessage)(n))||(a=e[n.parentMessageId])&&(r||(s.isPostCommentActionEnabled=!0),a.isAggregated&&(s.isAggregated=!0),a.childrenStackIds.unshift(n.id),a.message.repliesCount++);s&&(e[n.id]=s,(0,S.isRootMessage)(n)||(a=e[n.parentMessageId])&&(0,p.updateMessageIdInList)(a.childrenStackIds,n.tempId,n.id))}t.default=O},1112:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=n(15),o=r(n(16)),i=n(39),u=n(86),d=n(305),l=function(e,t){var n=t.payload,r=n.message,a=n.isRetry;(0,u.isRootMessage)(r)&&(!a&&(0,u.isRootMessage)(r)&&e.unshift(r.id),(0,d.updateMessageIdInList)(e,r.tempId,r.id))},c=(0,s.handleActions)(((a={})[(0,s.combineActions)(i.INITIALIZE_CONVERSATION,i.FETCH_CONVERSATION_END,i.ADD_HIGHLIGHTED_MESSAGE)]=(0,o.default)((function(e,t){for(var n=0,r=t.payload.comments;n<r.length;n++){var a=r[n];(0,u.isRootMessage)(a)&&!e.includes(a.id)&&e.push(a.id)}})),a[i.CREATE_MESSAGE_END]={next:(0,o.default)(l),throw:(0,o.default)(l)},a[i.CLEAN_FAILED_MESSAGE]=(0,o.default)((function(e,t){var n=t.payload.message;return(0,u.isRootMessage)(n)?e.filter((function(e){return e!==n.id})):e})),a),[]);t.default=c},1113:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getMaxMobileWidth=function(e){return e.maxMobileWidth},t.isLiveBlog=function(e){return e.isConversationLiveBlog},t.default=void 0;var a,s=r(n(34)),o=n(15),i=n(39);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=(0,o.handleActions)((a={},(0,s.default)(a,i.INITIALIZE_MODULE_OPTIONS,(function(e,t){return t.payload.moduleOptions})),(0,s.default)(a,i.SET_COMMUNITY_QUESTION,(function(e,t){var n=t.payload.moduleOptions;return d(d({},e),n)})),a),{});t.default=l},1114:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileDevice=function(e){return e.isMobile},t.isMobileUA=function(e){return e.isMobileUA},t.default=void 0;var a=r(n(34)),s=n(15),o=n(560);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,s.handleActions)((0,a.default)({},o.SET_IS_MOBILE,(function(e,t){var n=t.payload;return u(u({},e),{},{isMobile:n.isMobile,isMobileUA:n.isMobileUA})})),{isMobile:!1});t.default=d},1115:function(e,t,n){"use strict";var r=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.calculateIsMobile=void 0;var a=n(561),s=r(n(47)),o=r(n(48)),i=n(189),u=n(259);t.calculateIsMobile=function(e){return function(t,n){if(e){var r=n(),d=o.getMaxMobileWidth(r),l=(0,s.isMobileView)(e,d);t({type:a.SET_IS_MOBILE,payload:{isMobile:l,isMobileUA:s.default}}),t((0,i.setPlatform)(s.default?u.PLATFORMS.MOBILE:u.PLATFORMS.DESKTOP))}}}},1116:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=r(n(16)),o=n(39),i=(0,n(15).handleActions)(((a={})[o.FETCH_USER_SUSPENSION_STATUS]=(0,s.default)((function(e,t){var n=t.payload,r=n.isUserSuspended,a=n.expirationTime;e.isFetched=!0,e.isUserSuspended=r,a&&(e.expirationTime=new Date(1e3*a).toLocaleDateString())})),a[o.UPDATE_USER_SUSPENSION]=(0,s.default)((function(e,t){e.isUserSuspended=!0})),a),{isFetched:!1});t.default=i},1117:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=r(n(16)),o=n(15),i=r(n(4)),u=n(39),d=n(306),l={communityView:i.default.get("tenant_config.conversation.default_community_view",d.CommunityView.Explore),preloadConversation:!1,focusSayControlOnSwitchTab:!1,scrollToHeader:!1},c=(0,o.handleActions)(((a={})[u.SET_COMMUNITY_VIEW]=(0,s.default)((function(e,t){var n=t.payload;e.communityView=n})),a[u.PRELOAD_CONVERSATION]=(0,s.default)((function(e){e.preloadConversation=!0})),a[u.SCROLL_TO_HEADER]=(0,s.default)((function(e,t){var n=t.payload;e.scrollToHeader=n})),a[u.SET_FOCUS_SAY_CONTROL]=(0,s.default)((function(e,t){var n=t.payload;e.focusSayControlOnSwitchTab=n})),a),l);t.default=c},1118:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.notifyOpenUserProfile=function(e){return function(){var t=(0,s.default)(a.default.mark((function t(n,r){var s,l,c,E,f,_,S;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r(),l=s.moduleOptions.useExternalUserId,c=e.displayName,E=e.id,f=e.username,_=e.userId,S={id:E,displayName:c,username:f,userId:_},t.prev=3,!l){t.next=8;break}return t.next=7,u.getExternalUserId.execute(E);case 7:S=t.sent;case 8:o.hostProvider.notifyHostApi(i.OPEN_USER_PROFILE,S),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),(0,d.default)(i.OPEN_USER_PROFILE,t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,n){return t.apply(this,arguments)}}()};var a=r(n(40)),s=r(n(41)),o=n(51),i=n(52),u=n(1119),d=r(n(5))},113:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(112),s=r(n(836)),o=null;o="staging"===window.__SPOTIM_ENV__||"staging"===window.__SPOTIM__.env||"staging"===window.__SPOTIMENV__?n(837).default:n(838).default;var i=(0,a.deepExtendObject)({},s.default,o);t.default=i},1132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={faCircleCheck:{type:"fa-solid",name:"check-circle"},locationIcon:{type:"fa-solid",name:"map-marker-alt"},exclamationCircleSolidIcon:{type:"fa-solid",name:"exclamation-circle"},chevronRightIcon:{type:"fa-solid",name:"chevron-right"},chevronDownIcon:{type:"fa-solid",name:"chevron-down"},starIcon:{type:"fa-solid",name:"star"},closeIcon:{type:"fa-solid",name:"times"},halfStarIcon:{type:"fa-solid",name:"star-half-alt"},ideaLogo:{type:"fa-solid",name:"lightbulb"},problemLogo:{type:"fa-solid",name:"exclamation-triangle"},questionLogo:{type:"fa-solid",name:"question-circle"},exclamationIcon:{type:"fa-solid",name:"exclamation-circle"},thumbtackIcon:{type:"fa-solid",name:"thumbtack"},youtubeIcon:{type:"fa-brands",name:"youtube"},commentIcon:{type:"fa-regular",name:"comment"},voteUpIcon:{type:"custom",name:"icon-up-vote"},mentionIcon:{type:"fa-solid",name:"at"},bellIcon:{type:"fa-solid",name:"bell"},regularBellIcon:{type:"fa-regular",name:"bell"},voteDownIcon:{type:"custom",name:"icon-down-vote"},menuDots:{type:"fa-solid",name:"ellipsis-v"},arrowDown:{type:"fa-solid",name:"arrow-down"},trash:{type:"fa-solid",name:"trash"},flag:{type:"fa-solid",name:"flag"},flagRegular:{type:"fa-regular",name:"flag"},reply:{type:"fa-solid",name:"reply"},shareIcon:{type:"fa-solid",name:"share-alt"},linkIcon:{type:"fa-solid",name:"link"},emailIcon:{type:"fa-solid",name:"envelope"},facebookIcon:{type:"fa-brands",name:"facebook-f"},twitterIcon:{type:"fa-brands",name:"twitter"},instagramIcon:{type:"fa-brands",name:"instagram-square"},check:{type:"fa-solid",name:"check"},emoji:{type:"custom",name:"emoji-light"},cloudyIcon:{type:"fa-solid",name:"cloud-sun-rain"},outlinedLogo:{type:"custom",name:"spotim-logo-outline"},disqusIcon:{type:"custom",name:"disqus-logo-solid"},attachmentPhotoIcon:{type:"fa-solid",name:"image"},playIcon:{type:"fa-solid",name:"play"},boldIcon:{type:"fa-solid",name:"bold"},italicIcon:{type:"fa-solid",name:"italic"},ulListIcon:{type:"fa-solid",name:"list-ul"},olListIcon:{type:"fa-solid",name:"list-ol"},quoteRightIcon:{type:"fa-solid",name:"quote-right"},textSizeIcon:{type:"custom",name:"text-size"},fontCaseIcon:{type:"custom",name:"font-case-light"},gifIcon:{type:"custom",name:"gif-outlined"},gifIconSolid:{type:"custom",name:"gif-solid"},formatIcon:{type:"custom",name:"format-font-outlined"},formatIconSolid:{type:"custom",name:"format-font-solid"},cameraIcon:{type:"custom",name:"camera"},infoCircle:{type:"fa-solid",name:"info-circle"},onboardingNew:{type:"custom",name:"onboarding-new"}};t.default=r},1133:function(e,t,n){var r=n(30),a=n(1134);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var s={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};r(a,s);e.exports=a.locals||{}},1134:function(e,t,n){(e.exports=n(31)()).push([e.i,"",""])},121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLICKED_SHOW_MORE_COMMENTS_EVENT_NAME=t.CLICKED_SHOW_MORE_REPLIES_EVENT_NAME=t.DISQUS_FORUM_CLAIM_EVENT_NAME=t.SPOT_IM_LOGIN_START=t.SHOW_LOGIN_MODAL_EVENT_NAME=t.CONVERSATION_SELECTOR=t.CONVERSATION_ID=t.MODALS_SELECTOR=t.MODULE_NAME=void 0;t.MODULE_NAME="Conversation";t.MODALS_SELECTOR="#spot-im-frame-modal";t.CONVERSATION_ID="spcv_conversation";t.CONVERSATION_SELECTOR='[data-spotim-module="conversation"], [data-spot-im-module-default-area="conversation"]';t.SHOW_LOGIN_MODAL_EVENT_NAME="show-login-modal";t.SPOT_IM_LOGIN_START="spot-im-login-start";t.DISQUS_FORUM_CLAIM_EVENT_NAME="spot-im-forum-claim";t.CLICKED_SHOW_MORE_REPLIES_EVENT_NAME="spot-im-show-more-replies-clicked";t.CLICKED_SHOW_MORE_COMMENTS_EVENT_NAME="spot-im-show-more-comments-clicked"},133:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.setupInterceptors=function(e){(0,i.setSpotIdInjectorValue)(e),P.setSyncToken((0,o.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.syncToken)(!0);case 2:case"end":return e.stop()}}),e)})))),P.setGetToken((0,o.default)(s.default.mark((function e(){return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,A.syncToken)(!1);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),h.setSpotId(e),D.setVersionId("development"),[].concat((0,a.default)(Object.keys(c.default).map((function(e){return c.default[e]}))),(0,a.default)(Object.keys(E.default).map((function(e){return E.default[e]}))),(0,a.default)(Object.keys(f.default).map((function(e){return f.default[e]}))),(0,a.default)(Object.keys(_.default).map((function(e){return _.default[e]}))),(0,a.default)(Object.keys(S.default).map((function(e){return S.default[e]}))),(0,a.default)(Object.keys(p.default).map((function(e){return p.default[e]}))),(0,a.default)(Object.keys(g.default).map((function(e){return g.default[e]}))),(0,a.default)(Object.keys(O.default).map((function(e){return O.default[e]}))),(0,a.default)(Object.keys(T.default).map((function(e){return T.default[e]}))),(0,a.default)(Object.keys(m.default).map((function(e){return m.default[e]}))),(0,a.default)(Object.keys(I.default).map((function(e){return I.default[e]}))),(0,a.default)(Object.keys(v.default).map((function(e){return v.default[e]})))).forEach((function(e){e.extendOptions({requestInterceptors:L,responseInterceptors:G})}))},t.getModerationTickets=t.getPinnedMessageStatus=t.removePinnedMessage=t.addPinnedMessage=t.getWhiteListUserStatus=t.removeWhiteListUser=t.addWhiteListUser=t.updateCommunityQuestion=t.globalReject=void 0;var a=r(n(54)),s=r(n(40)),o=r(n(41)),i=n(953),u=n(954),d=n(955),l=n(480),c=r(n(481)),E=r(n(477)),f=r(n(158)),_=r(n(482)),S=r(n(956)),p=r(n(483)),g=r(n(475)),O=r(n(484)),T=r(n(957)),m=r(n(485)),I=r(n(958)),v=r(n(959)),A=n(960),y=n(961),M=n(964),R=n(965),N=n(966),b=n(967),P=(0,u.createInterceptors)(),h=(0,i.createInterceptors)(),C=(0,d.createInterceptors)(),D=(0,l.createInterceptors)(),L=[P,h,D],G=[C,P];var U=y.globalReject.extend({requestInterceptors:L,responseInterceptors:G});t.globalReject=U;var j=M.updateCommunityQuestion.extend({requestInterceptors:L,responseInterceptors:G});t.updateCommunityQuestion=j;var w=N.addWhiteListUser.extend({requestInterceptors:L,responseInterceptors:G});t.addWhiteListUser=w;var V=N.removeWhiteListUser.extend({requestInterceptors:L,responseInterceptors:G});t.removeWhiteListUser=V;var k=N.getWhiteListUserStatus.extend({requestInterceptors:L,responseInterceptors:G});t.getWhiteListUserStatus=k;var x=b.addPinnedMessage.extend({requestInterceptors:L,responseInterceptors:G});t.addPinnedMessage=x;var F=b.removePinnedMessage.extend({requestInterceptors:L,responseInterceptors:G});t.removePinnedMessage=F;var H=b.getPinnedMessageStatus.extend({requestInterceptors:L,responseInterceptors:G});t.getPinnedMessageStatus=H;var Y=R.getModerationTickets.extend({requestInterceptors:L,responseInterceptors:G});t.getModerationTickets=Y},134:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;void 0===e&&(e={});switch(t.type){case u:return(n={})[t.payload]=((r={}).Overall={count:0},r),n;case d:return(0,a.default)(e,(function(e){var n=t.payload,r=n.conversationId,a=n.messagesTyping,o=n.currentUserId;e[r]={NewComment:{count:0,users:{}}};var i=0;(0,s.default)(a,(function(t){var n=t.messageId||"NewComment";if(e[r][n]={count:t.count,users:{}},(0,s.default)(t.users,(function(t){var a=t.user_id;o===a&&(e[r][n].count-=1,i++)})),e[r][n].count>0){var a=function(e,t){var n=e.pop();n&&n.user_id===t&&(n=e.pop());return n}(t.users,o);a&&(e[r][n].users[a.user_id]={imageId:a.image_id})}})),e[r].Overall.count-=i}));default:return e}},t.startTyping=function(e,t,n){return{type:d,payload:{conversationId:e,messagesTyping:t,currentUserId:n}}},t.getTypingsCount=function(e,t){void 0===t&&(t="Overall");return(0,o.default)(e,'typingUsers["'+e.conversation.id+'"]["'+t+'"]',{}).count||0},t.getTypingStateOfUsers=function(e,t){void 0===t&&(t="NewComment");if(!l(e,t))return[];return c(e,t)},t.isConversationIdExistsInTypingUsers=l,t.getUsersFromMessages=c,t.initializeTyping=function(e){return{type:u,payload:e}},t.getNumberOfTypingUsers=function(e){return e.typingUsers[e.conversation.id].Overall.count},t.TYPING_DELAY=void 0;var a=r(n(16)),s=r(n(968)),o=r(n(117)),i=r(n(978)),u="typing-modules/INIT",d="typing-module/SET";t.TYPING_DELAY=15e3;function l(e,t){return(0,i.default)(e,"conversation")&&(0,i.default)(e,'typingUsers["'+e.conversation.id+'"]["'+t+'"]')}function c(e,t){var n=[],r=(0,o.default)(e,"conversation.id"),a=(0,o.default)(e,"typingUsers["+r+"]"),i=[];return(0,s.default)(a,(function(e,r){"NewComment"!==t&&t!==r||(0,s.default)(e.users,(function(e,t){e&&-1===n.indexOf(t)&&(i.push({id:t,imageId:e.imageId}),n.push(t))}))})),i}},137:function(e,t,n){"use strict";var r=n(0),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){return f(this,void 0,void 0,(function(){var r,a,f,p,g,O,T,m,I,v;return _(this,(function(_){switch(_.label){case 0:t({type:"GET_REPLIES_START",payload:{parentMessageId:e}}),(0,E.default)("[Conversation] - show-more-replies-start"),_.label=1;case 1:return _.trys.push([1,3,,4]),r=n(),a=r.comments.list,f=r.conversation,p=r.currentUser,g=o.findByMessageId(a,e),O=s.getChildrenStackIds(g).map((function(e){return o.findByStackId(a,e)})).map((function(e){return e&&s.getMessage(e)})).filter((function(e){return e.isMine&&e.isNew})).length,[4,u.fetchCommentReplies(f.postId,e,g.message.offset,i.REPLIES_PAGE_SIZE+O)];case 2:return T=_.sent(),m=function(e,t,n){var r=(0,d.parseMessage)(t.id,{comments:(0,l.flatComments)(e.comments),users:e.users}).comments,a={};if(n&&n.messagesVoted)for(var s in a=n.messagesVoted)if(a.hasOwnProperty(s)){var o=a[s];a[s]={isVotedUp:1===o,isVotedDown:-1===o}}return r}(T.conversation,f,p),I=S(T),(0,E.default)("[Conversation] - show-more-replies-finish"),t({type:"GET_REPLIES_END",payload:{comments:m,parentMessage:g.message,conversation:I.conversation}}),[3,4];case 3:return v=_.sent(),(0,c.default)("failed to get replies",v),t({type:"GET_REPLIES_END_ERROR",payload:{error:v},error:!0}),[3,4];case 4:return[2]}}))}))}},t.parseConversation=S,t.GET_REPLIES_END_ERROR=t.GET_REPLIES_END=t.GET_REPLIES_START=void 0;var s=a(n(100)),o=a(n(107)),i=n(108),u=a(n(283)),d=n(203),l=n(204),c=r(n(5)),E=r(n(53)),f=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))},_=function(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};t.GET_REPLIES_START="GET_REPLIES_START";t.GET_REPLIES_END="GET_REPLIES_END";function S(e){return{conversation:{hasNext:e.conversation.has_next,offset:e.conversation.offset}}}t.GET_REPLIES_END_ERROR="GET_REPLIES_END_ERROR"},140:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.closeCommunityGuidelinesModal=t.openCommunityGuidelinesModal=t.fetchCommunityGuidelinesFailure=t.fetchCommunityGuidelinesSuccess=t.fetchCommunityGuidelinesStart=void 0;var a,s=r(n(16)),o=n(15),i=(0,o.createAction)("COMMUNITY_GUIDELINES/FETCH");t.fetchCommunityGuidelinesStart=i;var u=(0,o.createAction)("COMMUNITY_GUIDELINES/FETCH_SUCCESS");t.fetchCommunityGuidelinesSuccess=u;var d=(0,o.createAction)("COMMUNITY_GUIDELINES/FETCH_FAILURE");t.fetchCommunityGuidelinesFailure=d;var l=(0,o.createAction)("COMMUNITY_GUIDELINES/OPEN");t.openCommunityGuidelinesModal=l;var c=(0,o.createAction)("COMMUNITY_GUIDELINES/CLOSE");t.closeCommunityGuidelinesModal=c;var E=(0,o.handleActions)(((a={})["COMMUNITY_GUIDELINES/FETCH_SUCCESS"]=(0,s.default)((function(e,t){e.isFetched=!0,e.content.html=t.payload.html,e.content.policies=t.payload.policies})),a["COMMUNITY_GUIDELINES/FETCH_FAILURE"]=(0,s.default)((function(e,t){e.isFetched=!1,e.isModalOpen=!1})),a["COMMUNITY_GUIDELINES/OPEN"]=(0,s.default)((function(e,t){e.isModalOpen=!0})),a["COMMUNITY_GUIDELINES/CLOSE"]=(0,s.default)((function(e,t){e.isModalOpen=!1})),a),{isModalOpen:!1,isFetched:!1,content:{html:"",policies:{}}});t.default=E},157:function(e,t,n){"use strict";var r=n(29),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getPageInfo=function(e){return{offset:e.order.length,count:10,hasNext:e.order.length<e.totalCount}},t.hasNext=function(e){return e.order.length<e.totalCount},t.isEmpty=function(e){return 0===e.order.length},t.default=t.NotificationType=void 0;var s,o,i=n(15),u=a(n(16)),d=a(n(926)),l=r(n(99)),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};t.NotificationType=o,function(e){e.LIKED_MESSAGE="liked-message",e.REPLIED_YOUR_MESSAGE="replied-your-message",e.ALSO_REPLIED="also-replied",e.MENTION="user-mentioned"}(o||(t.NotificationType=o={}));var E={items:{},order:[],isLoading:!1,unseenCount:0,unreadCount:0,totalCount:0,isLoaded:!1},f=(0,i.handleActions)(((s={})[l.SET_IS_LOADED]=(0,u.default)((function(e,t){t.payload.isLoaded||Object.assign(e,E),e.isLoaded=t.payload.isLoaded})),s[l.GET_START]=(0,u.default)((function(e){e.isLoading=!0})),s[l.GET_END]=(0,u.default)((function(e,t){var n=t.payload,r=n.unseenCount,a=n.unreadCount,s=n.totalCount,o=n.notifications,i=void 0===o?[]:o,u=n.reset,d=void 0!==u&&u,l=n.offset,c=void 0===l?0:l;d&&Object.assign(e,E),null!=r&&(e.unseenCount=r),null!=a&&(e.unreadCount=a),null!=s&&(e.totalCount=s),e.isLoading=!1,0===c&&i.reverse();for(var f=0,S=i;f<S.length;f++){var p=S[f];e.items[p.id]||(0===c?e.order.unshift(p.id):e.order.push(p.id)),e.items[p.id]=_(p)}})),s[l.MARK_ALL_READ]=(0,u.default)((function(e){for(var t=0,n=Object.values(e.items);t<n.length;t++){n[t].read=!0}})),s[l.MARK_AS_READ]=(0,u.default)((function(e,t){var n=t.payload.id,r=e.items[n];r&&(r.read=!0)})),s[l.SET_UNSEEN_NOTIFICATION_COUNT]=(0,u.default)((function(e,t){var n=t.payload.unseenNotificationsCount;e.unseenCount=n})),s),E);t.default=f;function _(e){var t=c({read:!1,updatedAt:new Date,conversationId:void 0,conversationUrl:void 0,conversationTitle:void 0,spotId:void 0,userId:void 0,messageId:void 0,users:{},message:void 0,totalCount:0},e);return t.users=(0,d.default)(e.users),t}},162:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TPolicyTag=void 0,t.TPolicyTag=r,function(e){e.UPPERCASE="uppercase",e.IMAGE="image",e.VIDEO="video",e.EXTERNAL_LINK="external_link",e.DUPLICATION="duplication",e.PERSPECTIVE="perspective",e.BLACKLISTED="blacklisted_sender",e.SPAM="spam",e.UNSUBSTANTIAL="unsubstantial",e.SUSPENDED="suspended"}(r||(t.TPolicyTag=r={}))},164:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.updateMessages=t.UPDATED_MESSAGES=void 0;var a=n(15),s=r(n(1062)),o=r(n(1105)),i=r(n(4)),u=n(207),d=r(n(555));t.UPDATED_MESSAGES="UPDATED_MESSAGES";var l=(0,a.createAction)("UPDATED_MESSAGES",(0,o.default)((0,s.default)(d.default),(0,s.default)((function(e){return i.default.get("init_data.config.policy.roger_mode",!1)&&e&&e.message&&e.message.status!==u.APPROVED?null:null==e?void 0:e.message}))));t.updateMessages=l},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REALTIME_MESSAGE_VOTE=void 0;t.REALTIME_MESSAGE_VOTE="REALTIME_MESSAGE_VOTE"},203:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parseMessage=function(e,t){var n=a.default.map(t,{comments:(0,s.getMessagesMap)("comments",{parent_id:"parentMessageId",root_comment:"rootMessageId",has_next:"hasNext","rank.ranked_by_current_user":"meVote","rank.ranks_down":"downVotesCount","rank.ranks_up":"upVotesCount",index:"index"})}).comments,r=void 0===n?[]:n,l=[],c={};return Object.keys(t.users).forEach((function(e){var n=Object.assign(t.users[e],{id:e}),r=(0,d.parseUser)(n);l.push(r),c[r.id]=r})),r.filter((function(e){return!(!(t=e).entities||0===t.entities.length||t.entities[0].type===u.TEXT&&""===t.entities[0].text&&1===t.entities.length);var t})).forEach((function(t){(0,i.upgradeDeprecated)(t),t.conversationId=e,(0,o.linkUsersToMessage)(t,c),t.user||(t.user={id:t.userId}),t.isVotedUp=1===t.meVote,t.isVotedDown=-1===t.meVote,delete t.meVote,t.upVotesCount||(t.upVotesCount=0),t.downVotesCount||(t.downVotesCount=0)})),{comments:r,usersList:l}};var a=r(n(64)),s=n(1009),o=n(1012),i=n(285),u=n(120),d=n(68)},204:function(e,t,n){"use strict";function r(e){var t=[];if(0===e.replies.length)return t;for(var n=0,a=e.replies;n<a.length;n++){var s=a[n];t.push(s),t=t.concat(r(s))}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.flatComments=function(e){for(var t=[],n=0,a=e;n<a.length;n++){var s=a[n];t.push(s),t=t.concat(r(s))}return t}},205:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.updateReportedComments=function(e){return{type:i.UPDATE_REPORTED_COMMENTS,payload:{reportedComments:e}}},t.default=void 0;var a=r(n(34)),s=n(15),o=r(n(16)),i=n(39),u=(0,s.handleActions)((0,a.default)({},i.UPDATE_REPORTED_COMMENTS,(0,o.default)((function(e,t){var n=t.payload.reportedComments;n&&Object.keys(n).forEach((function(t){e[t]=!0}))}))),{});t.default=u},206:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TPolicyVerdict=void 0,t.TPolicyVerdict=r,function(e){e.APPROVE_ALL="approve_all",e.PUBLISH_AND_MODERATE="publish_and_moderate",e.REQUIRE_APPROVAL="require_approval",e.BLOCK_ALL="block_all",e.FORCE_APPROVE_ALL="force_approve_all",e.FORCE_BLOCK_ALL="force_block_all"}(r||(t.TPolicyVerdict=r={}))},207:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageStatus=t.HIGHLIGHT=t.PENDING=t.BLOCKED=t.APPROVED=void 0;t.APPROVED="approved";t.BLOCKED="blocked";t.PENDING="pending";var r;t.HIGHLIGHT="highlight",t.MessageStatus=r,function(e){e.APPROVED="approved",e.BLOCKED="blocked",e.PENDING="pending"}(r||(t.MessageStatus=r={}))},215:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMessages=function(e){return function(t){t({type:"DELETE_MESSAGES",payload:{messages:e.map(r)}})}},t.DELETE_MESSAGES=void 0;function r(e){return{id:e.id}}t.DELETE_MESSAGES="DELETE_MESSAGES"},216:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.rejectMessages=function(e){return function(t){var n=e.map(s);a.default.get("init_data.config.policy.roger_mode",!1)||t({type:"REJECT_MESSAGES",payload:{messages:n}})}},t.REJECT_MESSAGES=void 0;var a=r(n(4));function s(e){return{id:e.id}}t.REJECT_MESSAGES="REJECT_MESSAGES"},217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{type:"EXPAND_AGGREGATED_MESSAGES"}},t.EXPAND_AGGREGATED_MESSAGES=void 0;t.EXPAND_AGGREGATED_MESSAGES="EXPAND_AGGREGATED_MESSAGES"},218:function(e,t,n){"use strict";var r=n(0),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){return l(this,void 0,void 0,(function(){var r,a,l,f,_;return c(this,(function(c){switch(c.label){case 0:r=n().conversation,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o.fetchCommentReplies(r.postId,e.message.id,e.message.offset,s.REPLIES_PAGE_SIZE)];case 2:return a=c.sent(),l=function(e,t){return(0,i.parseMessage)(t.id,{comments:(0,u.flatComments)(e.conversation.comments),users:e.conversation.users}).comments}(a,r),f=E(a),t({type:"GET_PREVIOUS_REPLIES_END",payload:{replies:l,parentMessage:e.message,conversation:f.conversation}}),[3,4];case 3:return _=c.sent(),(0,d.default)("failed to fetch previous replies",_),t({type:"GET_PREVIOUS_REPLIES_END",payload:{error:_},error:!0}),[3,4];case 4:return[2]}}))}))}},t.parseConversation=E,t.GET_PREVIOUS_REPLIES_END=void 0;var s=n(108),o=a(n(283)),i=n(203),u=n(204),d=r(n(5)),l=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};function E(e){return{conversation:{hasNext:e.conversation.has_next,offset:e.conversation.offset}}}t.GET_PREVIOUS_REPLIES_END="GET_PREVIOUS_REPLIES_END"},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribeSpotimMessage=t.subscribeSpotimMessage=t.postSpotimMessage=void 0;t.postSpotimMessage=function(e){document.dispatchEvent(new CustomEvent("spotim-message",{detail:e}))};t.subscribeSpotimMessage=function(e){document.addEventListener("spotim-message",e)};t.unsubscribeSpotimMessage=function(e){document.removeEventListener("spotim-message",e)}},278:function(e,t,n){"use strict";var r=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.isLoadingGifImages=function(e){var t=e.richEditor;return s.isLoadingGifImages(t.gifImages)},t.getTrendingGifImages=function(e){var t=e.richEditor;return s.getTrendingGifImages(t.gifImages)},t.getTrendingGifImagesOffset=function(e){var t=e.richEditor;return s.getTrendingGifImagesOffset(t.gifImages)},t.getGifImagesSearchQuery=function(e){var t=e.richEditor;return s.getGifImagesSearchQuery(t.gifImages)},t.getGifImagesSearchResults=function(e,t){var n=e.richEditor;return s.getGifImagesSearchResults(n.gifImages,t)},t.getGifImagesSearchOffset=function(e,t){var n=e.richEditor;return s.getGifImagesSearchOffset(n.gifImages,t)},t.default=void 0;var a=n(18),s=r(n(980)),o=(0,a.combineReducers)({gifImages:s.default});t.default=o},283:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchConversation=function(e,t,n,r,s,o,i,u,d,l){return(0,a.default)("v1.0.0/conversation/read",{method:"POST",postId:t,data:{conversation_id:n||e+"_"+t,count:u,offset:o,sort_by:d,depth:l}})},t.fetchCommentReplies=function(e,t,n,r){return(0,a.default)("v1.0.0/conversation/read",{method:"POST",postId:e,data:{count:r,offset:n,parent_id:t}})};var a=r(n(62))},286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeSignupWizard=function(){return function(e){e({type:"CLOSE_SIGNUP_WIZARD"})}},t.CLOSE_SIGNUP_WIZARD=void 0;t.CLOSE_SIGNUP_WIZARD="CLOSE_SIGNUP_WIZARD"},287:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.email,n=e.spotId,r=e.url;return function(){var e=(0,s.default)(a.default.mark((function e(s){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"REQUEST_VERIFY_EMAIL",payload:{email:t,spotId:n,url:r}}),e.prev=1,e.next=4,o.default.verifyEmailStart(t,r,n);case 4:s({type:"RESPONSE_VERIFY_EMAIL",payload:{email:t,spotId:n,url:r}}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(0,i.default)("RESPONSE_VERIFY_EMAIL",e.t0),s({type:"RESPONSE_VERIFY_EMAIL",payload:{error:e.t0},error:!0});case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},t.RESPONSE_VERIFY_EMAIL=t.REQUEST_VERIFY_EMAIL=void 0;var a=r(n(40)),s=r(n(41)),o=r(n(476)),i=r(n(5));t.REQUEST_VERIFY_EMAIL="REQUEST_VERIFY_EMAIL";t.RESPONSE_VERIFY_EMAIL="RESPONSE_VERIFY_EMAIL"},304:function(e,t,n){"use strict";var r=n(0),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageStackList=P,t.getMessageStack=function(e,t){return l.findByMessageId(e.list,t)},t.wasAggregated=function(e,t){return e.transferredFromAggregatedStackIds.indexOf(t)>-1},t.getMoreCount=function(e,t){var n=c.getChildrenStackIds(t).map((function(t){return l.findByStackId(e.list,t)})).filter((function(e){return e&&!e.message.isDeleted})).length;return c.getRepliesCount(t)-n},t.getAllCount=function(e,t){var n=0,r=P(e),a=l.findByMessageId(r,c.getMessage(t).rootMessageId);a&&(n=c.getRepliesCount(a));return n},t.default=void 0;var s,o=a(n(76)),i=n(15),u=r(n(16)),d=n(556),l=a(n(107)),c=a(n(100)),E=n(108),f=n(137),_=n(218),S=n(164),p=n(166),g=n(215),O=n(217),T=n(39),m=n(286),I=n(55),v=r(n(1110)),A=r(n(558)),y=n(86),M=n(216),R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},N={list:l.createMessagesStackListObject(),transferredFromAggregatedStackIds:[],loading:!1,loadingFromShowMore:!1,pagination:(0,d.createPaginationObject)(),scrollTo:!1,isPostCommentActionEnabled:!1},b=(0,i.handleActions)(((s={})[T.INITIALIZE_CONVERSATION]=(0,u.default)((function(e,t){var n=t.payload,r=n.pagination,a=n.scrollToComments,s=void 0!==a&&a;e.list=(0,v.default)(e.list,t),e.loading=!1,e.pagination=(0,d.createPaginationObject)(r),e.scrollTo=s})),s[T.CLEAR_CONVERSATION]=function(e){return R(R({},e),N)},s[T.FETCH_CONVERSATION_START]=(0,u.default)((function(e,t){t.payload.isFromShowMore?e.loadingFromShowMore=!0:e.loading=!0})),s[T.FETCH_CONVERSATION_END]={next:(0,u.default)((function(e,t){var n=t.payload,r=n.pagination,a=n.scrollToComments,s=void 0!==a&&a,o=r.sortBy!==e.pagination.sortBy?l.createMessagesStackListObject():e.list;e.list=(0,v.default)(o,t),e.loading=!1,e.loadingFromShowMore=!1,e.pagination=(0,d.createPaginationObject)(r),e.scrollTo=s})),throw:(0,u.default)((function(e){e.loading=!1,e.loadingFromShowMore=!1}))},s[T.ADD_HIGHLIGHTED_MESSAGE]=(0,u.default)((function(e,t){e.list=(0,v.default)(e.list,t)})),s[O.EXPAND_AGGREGATED_MESSAGES]=(0,u.default)((function(e){for(var t=l.getAggregatedStacksSequence(e.list),n=Math.min(E.AGGREGATE_MESSAGES_EXPAND_CHUNK,t.length),r=0;r<n;r++){var a=t[r];a.isAggregated=!1,e.transferredFromAggregatedStackIds.push(a.id),0===a.message.depth&&e.list.rootOrder.unshift(a.id),e.list.aggregatedMessage.shift()}})),s[T.SET_CURRENT_USER]=(0,u.default)((function(e,t){var n=t.payload.currentUser;(0,I.isLoggedIn)(n)&&Object.values(e.list.messages).forEach((function(e){e.isPostCommentActionEnabled=!1}))})),s[m.CLOSE_SIGNUP_WIZARD]=(0,u.default)((function(e){Object.values(e.list.messages).forEach((function(e){e.isPostCommentActionEnabled=!1})),e.isPostCommentActionEnabled=!1})),s[T.CREATE_MESSAGE_START]=(0,u.default)((function(e,t){e.list=(0,v.default)(e.list,t),e.pagination=(0,A.default)(e.pagination,t),e.failedMessageTemp=void 0})),s[T.CREATE_MESSAGE_END]={next:(0,u.default)((function(e,t){var n=t.payload,r=n.message,a=n.isLoggedIn;0!==r.depth||a||(e.isPostCommentActionEnabled=!0),e.list=(0,v.default)(e.list,t)})),throw:(0,u.default)((function(e,t){var n=t.payload,r=n.message,a=n.isLoggedIn;0!==r.depth||a||(e.isPostCommentActionEnabled=!1),e.list=(0,v.default)(e.list,t),t.payload.error&&(e.failedMessageTemp=t.payload)}))},s[T.CLEAN_FAILED_MESSAGE]=(0,u.default)((function(e,t){e.failedMessageTemp=void 0,e.list=(0,v.default)(e.list,t),e.pagination=(0,A.default)(e.pagination,t)})),s[T.REJECT_MESSAGE_START]=(0,u.default)((function(e,t){e.list.messages[t.payload.message.id].message.messageModeratingStage=y.MessageModeratingStages.LOADING})),s[T.REJECT_MESSAGE_END]=(0,u.default)((function(e,t){e.list.messages[t.payload.message.id].message.messageModeratingStage=y.MessageModeratingStages.FINISHED,e.list.messages[t.payload.message.id].message.status=o.BLOCKED,e.list.messages[t.payload.message.id].message.isPublished=!1})),s[T.REJECT_MESSAGE_FAILED]=(0,u.default)((function(e,t){e.list.messages[t.payload.message.id].message.messageModeratingStage=y.MessageModeratingStages.FAILED,e.list.messages[t.payload.message.id].message.messageModeratingFailedType=y.MessageModeratingFailedType.REJECT})),s[(0,i.combineActions)(f.GET_REPLIES_END,_.GET_PREVIOUS_REPLIES_END,g.DELETE_MESSAGES,M.REJECT_MESSAGES,T.DELETE_MESSAGE_START,T.REPORT_MESSAGE_END).toString()]=(0,u.default)((function(e,t){e.list=(0,v.default)(e.list,t)})),s[T.GLOBAL_REJECT_MESSAGE_END]=(0,u.default)((function(e,t){var n=t.payload.message,r=l.findByMessageId(e.list,n.id);if(r)if(0===n.depth)if(n.isDeleted)r.message=R(R(R({},r.message),n),{user:R(R({},r.message.user),n.user)}),r.childrenStackIds.map((function(t){return l.findByStackId(e.list,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else{var a=e.list.messages[n.id].message.parentMessageId;if(a)(s=e.list.messages[a]).childrenStackIds=s.childrenStackIds.filter((function(e){return e!==n.id})),s.message.repliesCount--;else e.list.rootOrder=e.list.rootOrder.filter((function(e){return e!==n.id}));delete e.list.messages[n.id]}else{var s;if(n.isDeleted)e.list.messages[n.id]=n,r.childrenStackIds.map((function(t){return l.findByStackId(e.list,t)})).forEach((function(e){e.message.replyToUsername="",e.message.replyToDisplayName="",e.message.replyToUserId=void 0}));else(s=e.list.messages[n.parentMessageId]).childrenStackIds=s.childrenStackIds.filter((function(e){return e!==n.id})),s.message.repliesCount--;delete e.list.messages[n.id]}})),s[(0,i.combineActions)(T.EDIT_MESSAGE_START,T.EDIT_MESSAGE_END).toString()]={next:(0,u.default)((function(e,t){e.list=(0,v.default)(e.list,t)})),throw:(0,u.default)((function(e,t){e.list=(0,v.default)(e.list,t)}))},s[T.APPROVE_MESSAGE_START]=(0,u.default)((function(e,t){e.list.messages[t.payload.messageId].message.messageModeratingStage=y.MessageModeratingStages.LOADING})),s[T.APPROVE_MESSAGE_END]=(0,u.default)((function(e,t){e.list.messages[t.payload.messageId].message.messageModeratingStage=y.MessageModeratingStages.FINISHED,e.list.messages[t.payload.messageId].message.status=o.APPROVED})),s[T.APPROVE_MESSAGE_FAILED]=(0,u.default)((function(e,t){e.list.messages[t.payload.messageId].message.messageModeratingStage=y.MessageModeratingStages.FAILED,e.list.messages[t.payload.messageId].message.messageModeratingFailedType=y.MessageModeratingFailedType.APPROVE})),s[(0,i.combineActions)(T.WHITE_LIST_USER_STATUS,T.PIN_MESSAGE_STATUS,T.TOGGLE_MARK_MESSAGE,T.VOTE_TOGGLE_MESSAGE_START,S.UPDATED_MESSAGES,p.REALTIME_MESSAGE_VOTE,T.MUTE_USER,T.UNMUTE_USER).toString()]=(0,u.default)((function(e,t){e.list=(0,v.default)(e.list,t)})),s[T.SHOW_REPORT_MESSAGE_MODAL]=(0,u.default)((function(e,t){var n=t.payload;e.showReportMessageModal=n})),s[T.REALTIME_MESSAGE_NEW]=(0,u.default)((function(e,t){e.list=(0,v.default)(e.list,t),e.pagination=(0,A.default)(e.pagination,t)})),s[T.UPDATE_MESSAGE_FEATURED]=(0,u.default)((function(e,t){var n=t.payload,r=e.list.rootOrder.indexOf(n.id);e.list.rootOrder.splice(r,1),e.list.rootOrder.unshift(n.id),e.list.messages[n.id].message.featuredComment="top"})),s[T.REQUEST_TOGGLE_HIDE_CONVERSATION]=(0,u.default)((function(e){e.loading=!0})),s[T.RESPONSE_TOGGLE_HIDE_CONVERSATION]=(0,u.default)((function(e){e.loading=!1})),s[T.SET_USER_VOTES]=(0,u.default)((function(e,t){t.payload.messages.forEach((function(t){e.list.messages[t.id]=t}))})),s[T.ADD_FEATURED_COMMENT]=(0,u.default)((function(e,t){var n=t.payload;e.list.messages[n.id].message.featured=!0})),s[T.REMOVE_FEATURED_COMMENT]=(0,u.default)((function(e,t){var n=t.payload;"top"===n.featuredComment?(e.list.messages[n.id].message.featuredComment="",e.list.messages[n.id].message.featured=!0):e.list.messages[n.id].message.featured=!1})),s[T.PIN_FEATURED_COMMENT]=(0,u.default)((function(e,t){var n=t.payload;for(var r in e.list.messages)"top"===e.list.messages[r].message.featuredComment&&(e.list.messages[r].message.featuredComment="");var a=e.list.rootOrder.indexOf(n.id);e.list.rootOrder.splice(a,1),e.list.rootOrder.unshift(n.id),e.list.messages[n.id].message.featuredComment="top",e.list.messages[n.id].message.featured=!0})),s),N);function P(e){return e.list}t.default=b},305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMessageIdInList=function(e,t,n){var r=e.findIndex((function(e){return e===t}));-1!==r&&(e[r]=n)},t.reportMessage=function(e){return r(r({},e),{isReported:!0,isDeleted:!0})};var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}},306:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CommunityView=void 0,t.CommunityView=r,function(e){e.Explore="Explore",e.Conversation="Conversation"}(r||(t.CommunityView=r={}))},307:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.setTranslationInitialized=t.setConversationInitialized=t.setUserInitialized=t.setTokenInitialized=void 0;var a,s=r(n(16)),o=n(15),i=n(39),u=(0,o.createAction)(i.SET_TOKEN_INITIALIZED);t.setTokenInitialized=u;var d=(0,o.createAction)(i.SET_USER_INITIALIZED);t.setUserInitialized=d;var l=(0,o.createAction)(i.SET_CONVERSATION_INITIALIZED);t.setConversationInitialized=l;var c=(0,o.createAction)(i.SET_TRANSLATION_INITIALIZED);t.setTranslationInitialized=c;var E=(0,o.handleActions)(((a={})[i.SET_USER_INITIALIZED]=(0,s.default)((function(e,t){e.isUserInitialized=t.payload.isUserInitialized})),a[i.SET_TOKEN_INITIALIZED]=(0,s.default)((function(e,t){e.isTokenInitialized=t.payload.isTokenInitialized})),a[i.SET_CONVERSATION_INITIALIZED]=(0,s.default)((function(e,t){e.isConversationDataLoaded=t.payload.isConversationDataLoaded})),a[i.SET_TRANSLATION_INITIALIZED]=(0,s.default)((function(e,t){e.isTranslationInitialize=t.payload.isTranslationInitialize})),a),{isUserInitialized:!1,isConversationDataLoaded:!1,isTranslationInitialize:!1,isTokenInitialized:!1});t.default=E},309:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDisplayName=t.saveDisplayName=void 0;t.saveDisplayName=function(e,t){var n=localStorage.getItem("SPOTIM_GUEST_DISPLAY_NAME"),r={};n&&Object.assign(r,JSON.parse(n)),r[t]=e,localStorage.setItem("SPOTIM_GUEST_DISPLAY_NAME",JSON.stringify(r))};t.getDisplayName=function(e){var t,n=localStorage.getItem("SPOTIM_GUEST_DISPLAY_NAME");if(n)try{var r=JSON.parse(n);return null!==(t=null==r?void 0:r[e])&&void 0!==t?t:""}catch(e){return localStorage.removeItem("SPOTIM_GUEST_DISPLAY_NAME"),""}return""}},312:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getMessagesCountToFetch=function(){return+(a.default.get("elementOptions.messagesCount")||a.default.get("tenant_config.conversation.read_batch_size",20))};var a=r(n(4))},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_TOKEN_INITIALIZED=t.SET_TRANSLATION_INITIALIZED=t.SET_CONVERSATION_INITIALIZED=t.SET_USER_INITIALIZED=t.SCROLL_TO_HEADER=t.SET_FOCUS_SAY_CONTROL=t.CHANGE_USER_DISPLAY_NAME=t.PRELOAD_CONVERSATION=t.SET_COMMUNITY_VIEW=t.UPDATE_USER_SUSPENSION=t.FETCH_USER_SUSPENSION_STATUS=t.REALTIME_MODERATE=t.NOTIFY_MODERATION_ALERT_RENDERED=t.CLOSE_MODERATION_ALERT=t.MODERATE_MESSAGE_BLOCK=t.MODERATE_MESSAGE=t.SET_SIGNUP_WIZARD_MESSAGE_ID=t.HIDE_NEW_MESSAGE_TOAST=t.SHOW_NEW_MESSAGE_TOAST=t.UPDATE_REPORTED_COMMENTS=t.UNMUTE_USER=t.MUTE_USER=t.UPDATE_SHOULD_FETCH_FEATURED_COMMENT=t.PIN_FEATURED_COMMENT=t.REMOVE_FEATURED_COMMENT=t.ADD_FEATURED_COMMENT=t.SAY_CONTROL_RENDERED=t.EXPAND_COLLAPSED_COMMENTS=t.EXPAND_CHILDREN=t.UPDATE_CONVERSATION_MESSAGES_COUNT=t.STOP_OPTIMIZED_MESSAGE_STACK=t.START_OPTIMIZED_MESSAGE_STACK=t.SHOW_REPORT_MESSAGE_MODAL=t.SET_MESSAGES=t.SET_USER_VOTES=t.SET_MODERATION_DEFAULT_POLICY=t.GET_MODERATION_DEFAULT_POLICY=t.PIN_MESSAGE_STATUS=t.WHITE_LIST_USER_STATUS=t.SET_IS_SETTING_COMMUNITY_QUESTION=t.SET_COMMUNITY_QUESTION=t.GLOBAL_REJECT_MESSAGE_END=t.BLUR_SAY_CONTROL=t.NOTIFY_TYPING=t.UNFOCUS_SAY_CONTROL=t.FOCUS_SAY_CONTROL=t.CLOSE_REPLY_SAY_CONTROL=t.CLOSE_EDIT_SAY_CONTROL=t.RANK_CONVERSATION_MESSAGE_SAY_CONTROL=t.OPEN_MESSAGE_SAY_CONTROL=t.OPEN_EDIT_SAY_CONTROL=t.OPEN_MAIN_SAY_CONTROL=t.REALTIME_FACE_LIST=t.UPDATE_MESSAGE_FEATURED=t.REALTIME_MESSAGE_NEW=t.FETCH_CONVERSATION_END=t.FETCH_CONVERSATION_START=t.VOTE_TOGGLE_MESSAGE_END=t.VOTE_TOGGLE_MESSAGE_START=t.REPORT_MESSAGE_END=t.TOGGLE_MARK_MESSAGE=t.EDIT_MESSAGE_END=t.EDIT_MESSAGE_START=t.REJECT_MESSAGE_FAILED=t.REJECT_MESSAGE_END=t.REJECT_MESSAGE_START=t.DELETE_MESSAGE_END=t.DELETE_MESSAGE_START=t.APPROVE_MESSAGE_FAILED=t.APPROVE_MESSAGE_END=t.APPROVE_MESSAGE_START=t.CLEAN_FAILED_MESSAGE=t.CREATE_MESSAGE_END=t.CREATE_MESSAGE_START=t.GET_STARS_RATING_SUMMARY=t.RANK_CONVERSATION=t.SET_CURRENT_USER=t.RESET_UP_VOTES=t.ADD_HIGHLIGHTED_MESSAGE=t.RESPONSE_GET_UP_VOTES=t.REQUEST_GET_UP_VOTES=t.RESPONSE_TOGGLE_HIDE_CONVERSATION=t.REQUEST_TOGGLE_HIDE_CONVERSATION=t.GET_BASIC_USER_PROFILE_END=t.GET_BASIC_USER_PROFILE_START=t.SCROLL_TO_MESSAGE=t.CONVERSATION_LOAD=t.INITIALIZE_MODULE_OPTIONS=t.CLEAR_CONVERSATION=t.INITIALIZE_CONVERSATION=void 0;t.INITIALIZE_CONVERSATION="INITIALIZE_CONVERSATION";t.CLEAR_CONVERSATION="CLEAR_CONVERSATION";t.INITIALIZE_MODULE_OPTIONS="INITIALIZE_MODULE_OPTIONS";t.CONVERSATION_LOAD="CONVERSATION_LOAD";t.SCROLL_TO_MESSAGE="SCROLL_TO_MESSAGE";t.GET_BASIC_USER_PROFILE_START="GET_BASIC_USER_PROFILE_START";t.GET_BASIC_USER_PROFILE_END="GET_BASIC_USER_PROFILE_END";t.REQUEST_TOGGLE_HIDE_CONVERSATION="REQUEST_TOGGLE_HIDE_CONVERSATION";t.RESPONSE_TOGGLE_HIDE_CONVERSATION="RESPONSE_TOGGLE_HIDE_CONVERSATION";t.REQUEST_GET_UP_VOTES="REQUEST_GET_UP_VOTES";t.RESPONSE_GET_UP_VOTES="RESPONSE_GET_UP_VOTES";t.ADD_HIGHLIGHTED_MESSAGE="ADD_HIGHLIGHTED_MESSAGE";t.RESET_UP_VOTES="RESET_UP_VOTES";t.SET_CURRENT_USER="SET_CURRENT_USER";t.RANK_CONVERSATION="RANK_CONVERSATION";t.GET_STARS_RATING_SUMMARY="GET_STARS_RATING_SUMMARY";t.CREATE_MESSAGE_START="CREATE_MESSAGE_START";t.CREATE_MESSAGE_END="CREATE_MESSAGE_END";t.CLEAN_FAILED_MESSAGE="CLEAN_FAILED_MESSAGE";t.APPROVE_MESSAGE_START="APPROVE_MESSAGE_START";t.APPROVE_MESSAGE_END="APPROVE_MESSAGE_END";t.APPROVE_MESSAGE_FAILED="APPROVE_MESSAGE_FAILED";t.DELETE_MESSAGE_START="DELETE_MESSAGE_START";t.DELETE_MESSAGE_END="DELETE_MESSAGE_END";t.REJECT_MESSAGE_START="REJECT_MESSAGE_START";t.REJECT_MESSAGE_END="REJECT_MESSAGE_END";t.REJECT_MESSAGE_FAILED="REJECT_MESSAGE_FAILED";t.EDIT_MESSAGE_START="EDIT_MESSAGE_START";t.EDIT_MESSAGE_END="EDIT_MESSAGE_END";t.TOGGLE_MARK_MESSAGE="TOGGLE_MARK_MESSAGE";t.REPORT_MESSAGE_END="REPORT_MESSAGE_END";t.VOTE_TOGGLE_MESSAGE_START="VOTE_TOGGLE_MESSAGE_START";t.VOTE_TOGGLE_MESSAGE_END="VOTE_TOGGLE_MESSAGE_END";t.FETCH_CONVERSATION_START="FETCH_CONVERSATION_START";t.FETCH_CONVERSATION_END="FETCH_CONVERSATION_END";t.REALTIME_MESSAGE_NEW="REALTIME_MESSAGE_NEW";t.UPDATE_MESSAGE_FEATURED="UPDATE_MESSAGE_FEATURED";t.REALTIME_FACE_LIST="REALTIME_FACE_LIST";t.OPEN_MAIN_SAY_CONTROL="OPEN_SAY_CONTROL";t.OPEN_EDIT_SAY_CONTROL="OPEN_EDIT_SAY_CONTROL";t.OPEN_MESSAGE_SAY_CONTROL="OPEN_MESSAGE_SAY_CONTROL";t.RANK_CONVERSATION_MESSAGE_SAY_CONTROL="RANK_CONVERSATION_MESSAGE_SAY_CONTROL";t.CLOSE_EDIT_SAY_CONTROL="CLOSE_EDIT_SAY_CONTROL";t.CLOSE_REPLY_SAY_CONTROL="CLOSE_REPLY_SAY_CONTROL";t.FOCUS_SAY_CONTROL="FOCUS_SAY_CONTROL";t.UNFOCUS_SAY_CONTROL="UNFOCUS_SAY_CONTROL";t.NOTIFY_TYPING="NOTIFY_TYPING";t.BLUR_SAY_CONTROL="BLUR_SAY_CONTROL";t.GLOBAL_REJECT_MESSAGE_END="GLOBAL_REJECT_MESSAGE_END";t.SET_COMMUNITY_QUESTION="SET_COMMUNITY_QUESTION";t.SET_IS_SETTING_COMMUNITY_QUESTION="SET_IS_SETTING_COMMUNITY_QUESTION";t.WHITE_LIST_USER_STATUS="WHITE_LIST_USER_STATUS";t.PIN_MESSAGE_STATUS="PIN_MESSAGE_STATUS";t.GET_MODERATION_DEFAULT_POLICY="GET_MODERATION_DEFAULT_POLICY";t.SET_MODERATION_DEFAULT_POLICY="SET_MODERATION_DEFAULT_POLICY";t.SET_USER_VOTES="SET_USER_VOTES";t.SET_MESSAGES="SET_MESSAGES";t.SHOW_REPORT_MESSAGE_MODAL="SHOW_REPORT_MESSAGE_MODAL";t.START_OPTIMIZED_MESSAGE_STACK="START_OPTIMIZED_MESSAGE_STACK";t.STOP_OPTIMIZED_MESSAGE_STACK="STOP_OPTIMIZED_MESSAGE_STACK";t.UPDATE_CONVERSATION_MESSAGES_COUNT="UPDATE_CONVERSATION_MESSAGES_COUNT";t.EXPAND_CHILDREN="EXPAND_CHILDREN";t.EXPAND_COLLAPSED_COMMENTS="EXPAND_COLLAPSED_COMMENTS";t.SAY_CONTROL_RENDERED="SAY_CONTROL_RENDERED";t.ADD_FEATURED_COMMENT="ADD_FEATURED_COMMENT";t.REMOVE_FEATURED_COMMENT="REMOVE_FEATURED_COMMENT";t.PIN_FEATURED_COMMENT="PIN_FEATURED_COMMENT";t.UPDATE_SHOULD_FETCH_FEATURED_COMMENT="UPDATE_SHOULD_FETCH_FEATURED_COMMENT";t.MUTE_USER="MUTE_USER";t.UNMUTE_USER="UNMUTE_USER";t.UPDATE_REPORTED_COMMENTS="UPDATE_REPORTED_COMMENTS";t.SHOW_NEW_MESSAGE_TOAST="SHOW_NEW_MESSAGE_TOAST";t.HIDE_NEW_MESSAGE_TOAST="HIDE_NEW_MESSAGE_TOAST";t.SET_SIGNUP_WIZARD_MESSAGE_ID="SET_SIGNUP_WIZARD_MESSAGE_ID";t.MODERATE_MESSAGE="MODERATE_MESSAGE";t.MODERATE_MESSAGE_BLOCK="MODERATE_MESSAGE_BLOCK";t.CLOSE_MODERATION_ALERT="CLOSE_MODERATION_ALERT";t.NOTIFY_MODERATION_ALERT_RENDERED="NOTIFY_MODERATION_ALERT_RENDERED";t.REALTIME_MODERATE="REALTIME_MODERATE";t.FETCH_USER_SUSPENSION_STATUS="FETCH_USER_SUSPENSION_STATUS";t.UPDATE_USER_SUSPENSION="UPDATE_USER_SUSPENSION";t.SET_COMMUNITY_VIEW="SET_COMMUNITY_VIEW";t.PRELOAD_CONVERSATION="PRELOAD_CONVERSATION";t.CHANGE_USER_DISPLAY_NAME="CHANGE_USER_DISPLAY_NAME";t.SET_FOCUS_SAY_CONTROL="SET_FOCUS_SAY_CONTROL";t.SCROLL_TO_HEADER="SCROLL_TO_HEADER";t.SET_USER_INITIALIZED="SET_USER_INITIALIZED";t.SET_CONVERSATION_INITIALIZED="SET_CONVERSATION_INITIALIZED";t.SET_TRANSLATION_INITIALIZED="SET_TRANSLATION_INITIALIZED";t.SET_TOKEN_INITIALIZED="SET_TOKEN_INITIALIZED"},415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["syncToken","markConversationElement","openConversationModal","findImageUrl","loadModals","notifyHostApi","communicate","showHighlightMessageSticky","realtimeSubscribe","realtimeUnsubscribe","getFrameViewport","scrollHostTop","scrollTo","openLink","track","analyticsTrack","redirectUrl"]},44:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.ContentType=t.disableModalDefaultScroll=t.enableDateFormat=t.dateFormat=t.enableSsoLogout=t.enableSsoLogin=t.isModerationV2CrossProjectFlagEnabled=t.disableUserAvatar=t.subscriberIcon=t.enableUserReputation=t.isOpenWeb=t.isLtr=t.LIVEBLOG_DEFAULT_AREA_SELECTOR=t.LIVEBLOG_SPECIFIC_AREA_SELECTOR=t.CONV_DEFAULT_AREA_SELECTOR=t.CONV_SPECIFIC_AREA_SELECTOR=t.VIEWED_SEO=t.SEO_OPTIMIZED_ID=t.OPENWEB_HOMPAGE=t.USE_SHADOW_DOM_MAIN_EXPERIMENT_ID=t.USE_SHADOW_DOM_OVERLAYS_EXPERIMENT_ID=t.CONVERSATION_ID=t.X_ACCESS_TOKEN=t.SPOTIM_ACCESS_TOKEN=t.DEFAULT_LOCALE=void 0;var a=r(n(4));t.DEFAULT_LOCALE="en";t.SPOTIM_ACCESS_TOKEN="SPOTIM_ACCESS_TOKEN";t.X_ACCESS_TOKEN="x-access-token";t.CONVERSATION_ID="spotim-specific";t.USE_SHADOW_DOM_OVERLAYS_EXPERIMENT_ID="100";t.USE_SHADOW_DOM_MAIN_EXPERIMENT_ID="101";t.OPENWEB_HOMPAGE="https://www.openweb.com/";t.SEO_OPTIMIZED_ID="ow-seo-optimized";t.VIEWED_SEO="OW_VIEWED_SEO_CONVERSATION";t.CONV_SPECIFIC_AREA_SELECTOR='[data-spotim-module="conversation"]:not([data-spotim-not-for-self-bootstrapping])';t.CONV_DEFAULT_AREA_SELECTOR='[data-spot-im-module-default-area="conversation"]';t.LIVEBLOG_SPECIFIC_AREA_SELECTOR='[data-spotim-module="liveblog"]';t.LIVEBLOG_DEFAULT_AREA_SELECTOR='[data-spot-im-module-default-area="liveblog"]';var s=a.default.get("init_data.config.ltr",!0);t.isLtr=s;var o=a.default.get("tenant_config.shared.is_new_branding",!1);t.isOpenWeb=o;var i=a.default.get("tenant_config.shared.enable_user_reputation",!1);t.enableUserReputation=i;var u=a.default.get("tenant_config.conversation.subscriber_badge",{name:"star",type:"fa-solid"});t.subscriberIcon=u;var d=a.default.get("tenant_config.shared.disable_user_avatar",!1);t.disableUserAvatar=d;var l=a.default.get("tenant_config.moderation.v2_cross_project_flag_enabled",!1);t.isModerationV2CrossProjectFlagEnabled=l;var c=a.default.get("tenant_config.shared.enable_sso_login",!1);t.enableSsoLogin=c;var E=a.default.get("tenant_config.shared.enable_sso_logout",!1);t.enableSsoLogout=E;var f=a.default.get("tenant_config.shared.date_format","en-US");t.dateFormat=f;var _=a.default.get("tenant_config.conversation.enable_date_format",!1);t.enableDateFormat=_;var S,p=a.default.get("tenant_config.shared.disableCustomBodyScroll",!1);t.disableModalDefaultScroll=p,t.ContentType=S,function(e){e.Post="post",e.Conversation="conversation"}(S||(t.ContentType=S={}))},45:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationWrapper=void 0;var a=r(n(3)),s=n(49),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.TranslationWrapper=function(e){(0,s.useTranslation)();var t=e.textOverride,n=e.children,r=void 0===n?null:n,u=i(e,["textOverride","children"]);return t?a.default.createElement("span",null,t):a.default.createElement(s.Trans,o({},u),r)}},46:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(3)),s=n(43),o=r(n(1132)),i=r(n(14)),u=r(n(1133)),d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(e){var t=e.selector,n=e.className,r=d(d({},o.default[t]),{className:(0,i.default)(n,u.default.InlineSVG)});return a.default.createElement(s.Icon,d({},r))};t.default=l},47:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=s,t.isMobileView=function(e,t){void 0===t&&(t=414);return"object"===("undefined"==typeof window?"undefined":(0,a.default)(window))&&(!!window.navigator.userAgent.toLocaleLowerCase().match(/(mobile|iemobile|android|webos|iphone|ipad|ipod|blackberry|windows phone)/)||e.offsetWidth>10&&e.offsetWidth<=t)},t.isTablet=function(){if(s())return!(!window.matchMedia||!window.matchMedia("(min-width: 415px) and (min-height: 415px)").matches);return!1},t.default=void 0;var a=r(n(6));function s(){return"object"===("undefined"==typeof window?"undefined":(0,a.default)(window))&&!!window.navigator.userAgent.toLocaleLowerCase().match(/(mobile|iemobile|android|webos|iphone|ipad|ipod|blackberry|windows phone)/)}var o=s();t.default=o},48:function(e,t,n){"use strict";var r=n(29),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.combineReducers)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({authentication:E.default,moduleOptions:h.default,errors:b.default,currentUser:f.default,conversation:g.default,ui:O.default,comments:P.default,appState:j.default,notifications:d.default,followers:m.default,mainSayControl:I.default,messageSayControls:v.default,postCommentAction:A.default,registration:y.default,summaryWidget:M.default,liveBlogConfig:C.default,profileHover:R.default,loadingReplies:p.default,upVotesList:N.default,isMobile:D.default,richEditor:S.default,reportedComments:T.default,communityGuidelines:L.default,userSuspension:G.default,platform:l.default,typingUsers:_.default,broadcast:c.default,communityView:U.default,timer:function(){return null}},e))},t.getMaxMobileWidth=function(e){return h.getMaxMobileWidth(e.moduleOptions)},t.isLiveBlog=function(e){return h.isLiveBlog(e.moduleOptions)},t.getCurrentUserId=function(e){return e.currentUser.id},t.isMobile=function(e){return D.isMobileDevice(e.isMobile)},t.isMobileUA=function(e){return D.isMobileUA(e.isMobile)},t.wasAggregated=function(e,t){return P.wasAggregated(e.comments,t)},t.getMessageStack=function(e,t){return P.getMessageStack(e.comments,t)},t.isLiveBlogOnline=function(e){return C.isLiveBlogOnline(e.liveBlogConfig)},t.getEventLoction=function(e){return C.getEventLoction(e.liveBlogConfig)},t.getCurrentUser=function(e){return e.currentUser},t.getReporters=function(e){return C.getReporters(e.liveBlogConfig)},t.getLiveBlogEndDate=function(e){return 1e3*parseInt(C.getEndDate(e.liveBlogConfig))},t.getLiveBlogStartDate=function(e){return 1e3*parseInt(C.getStartDate(e.liveBlogConfig))},t.isReporter=function(e,t){return C.isReporter(e.liveBlogConfig,t)},t.hasCollapsedComments=function(e){return!!(0,u.default)(e,"comments.list.items",[]).find((function(e){var t=e.message||{};return t.isCollapsed&&t.rootMessageId===t.id}))},t.shouldAggregate=function(e){return s||"newest"!==(0,V.getSortBy)(e)||(0,_.getNumberOfTypingUsers)(e)>=w.AGGREGATE_TYPING_TRESHOLD},t.getCommunityView=function(e){return e.communityView.communityView},t.getPreloadConversation=function(e){return e.communityView.preloadConversation},t.getShouldScrollToHeader=function(e){return e.communityView.scrollToHeader};var s,o=a(n(34)),i=n(18),u=a(n(117)),d=a(n(157)),l=a(n(189)),c=a(n(448)),E=a(n(433)),f=a(n(55)),_=r(n(134)),S=a(n(278)),p=a(n(988)),g=a(n(1013)),O=a(n(509)),T=a(n(205)),m=a(n(510)),I=a(n(1015)),v=a(n(1016)),A=a(n(1017)),y=a(n(1018)),M=a(n(1023)),R=a(n(1025)),N=a(n(1026)),b=a(n(1061)),P=r(n(304)),h=r(n(1113)),C=r(n(559)),D=r(n(1114)),L=a(n(140)),G=a(n(1116)),U=a(n(1117)),j=a(n(307)),w=n(108),V=n(558);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}try{s="true"===window.localStorage.getItem("SPOTIM_FORCE_AGGREGATION")}catch(e){}},486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCurrentUserObject=function(e){return(0,r.createCurrentUserObject)(e)},t.isLoggedIn=function(e){return e.isRegistered},t.getDisplayName=function(e){return(0,r.getDisplayName)(e)};var r=n(272)},493:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(981);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}},50:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsTrack=function(e){if("object"!==(0,a.default)(e)){var t="Analytics event "+JSON.stringify(e)+" will be missing critical information such as type";(0,o.default)(t,new Error(t))}var n=e.spot_id||i.default.get("spotId")||"";(0,s.trackEvent)(u({source:"conversation",source_version:"v3",spot_id:n,post_id:e.post_id,conversation_id:n+"_"+(e.post_id||"")},e))};var a=r(n(6)),s=n(220),o=r(n(5)),i=r(n(4)),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}},509:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.startOptimizedMessageStack=function(){return{type:i.START_OPTIMIZED_MESSAGE_STACK}},t.stopOptimizedMessageStack=function(){return{type:i.STOP_OPTIMIZED_MESSAGE_STACK}},t.default=void 0;var a,s=r(n(34)),o=n(15),i=n(39);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=(0,o.handleActions)((a={},(0,s.default)(a,i.START_OPTIMIZED_MESSAGE_STACK,(function(e){return d(d({},e),{},{optimizedMessageStack:!1})})),(0,s.default)(a,i.STOP_OPTIMIZED_MESSAGE_STACK,(function(e){return d(d({},e),{},{optimizedMessageStack:!1})})),(0,s.default)(a,i.STOP_OPTIMIZED_MESSAGE_STACK,(function(e){return d(d({},e),{},{optimizedMessageStack:!1})})),(0,s.default)(a,i.SHOW_NEW_MESSAGE_TOAST,(function(e,t){return e.newMessageToast&&e.newMessageToast.show?e:d(d({},e),{},{newMessageToast:{message:t.payload.message,show:!0}})})),(0,s.default)(a,i.HIDE_NEW_MESSAGE_TOAST,(function(e){return d(d({},e),{},{newMessageToast:{show:!1}})})),(0,s.default)(a,i.SET_SIGNUP_WIZARD_MESSAGE_ID,(function(e,t){return d(d({},e),{},{signupWizardMessageId:t.payload.messageId})})),a),{optimizedMessageStack:!1,newMessageToast:{show:!1}});t.default=l},51:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.hostProvider=void 0;var a=r(n(32)),s=r(n(37)),o=r(n(38)),i=r(n(36)),u=r(n(415));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.default)(e);if(t){var a=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.default)(this,n)}}var l=new(function(e){(0,s.default)(n,e);var t=d(n);function n(){return(0,a.default)(this,n),t.call(this,"conversationHost",u.default)}return n}(n(370).ExternalProvider));t.hostProvider=l},510:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.addFollowersData=function(e){var t;return t=e.map((function(e){return(0,l.parseUser)(e)})),Object.assign(e,t),{type:d.REALTIME_FACE_LIST,payload:e}},t.default=void 0;var a,s=r(n(34)),o=r(n(54)),i=n(15),u=(r(n(64)),n(68)),d=n(39),l=n(59),c=[],E=(0,i.handleActions)((a={},(0,s.default)(a,d.INITIALIZE_CONVERSATION,(function(e,t){var n=t.payload.followers;return f((0,o.default)(n))})),(0,s.default)(a,d.CLEAR_CONVERSATION,(function(){return c})),(0,s.default)(a,d.REALTIME_FACE_LIST,(function(e,t){return f(t.payload)})),a),c);function f(e){return e.map(u.createUserObject)}t.default=E},55:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"profileImageUpload",{enumerable:!0,get:function(){return i.profileImageUpload}}),Object.defineProperty(t,"getModerationTickets",{enumerable:!0,get:function(){return u.getModerationTickets}}),Object.defineProperty(t,"createCurrentUserObject",{enumerable:!0,get:function(){return l.createCurrentUserObject}}),Object.defineProperty(t,"isLoggedIn",{enumerable:!0,get:function(){return l.isLoggedIn}}),Object.defineProperty(t,"getDisplayName",{enumerable:!0,get:function(){return l.getDisplayName}}),t.default=void 0;var a,s=n(15),o=r(n(16)),i=n(942),u=n(952),d=n(39),l=n(486),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},E={notificationsCount:0,messagesVoted:void 0},f=(0,s.handleActions)(((a={})[d.SET_CURRENT_USER]=function(e,t){var n=t.payload.currentUser;return c(c(c({},e),n),{isLoading:!1})},a[i.RESPONSE_PROFILE_IMAGE_UPLOAD]={next:(0,o.default)((function(e,t){var n=t.payload.imageId;e.imageId=n})),throw:function(e,t){var n=t.payload.error;return console.log("ERROR",i.RESPONSE_PROFILE_IMAGE_UPLOAD,n),e}},a[u.GET_MODERATION_TICKETS_END]=(0,o.default)((function(e,t){var n=t.payload.moderationTickets;e.moderationTickets=n})),a[d.CHANGE_USER_DISPLAY_NAME]=(0,o.default)((function(e,t){var n=t.payload.displayName;e.displayName=n})),a),E);t.default=f},555:function(e,t,n){"use strict";var r=n(29),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=s.default.map(e,(0,o.getMessageMap)("message")).message;t.isVotedUp=1===e.rank.ranked_by_current_user,t.isVotedDown=-1===e.rank.ranked_by_current_user,t.downVotesCount=e.rank.ranks_down,t.upVotesCount=e.rank.ranks_up,t.parentMessageId=e.parent_id;var n=(0,u.parseUser)(e.users[e.user_id]);t.user=n,t.userDisplayName&&(t.user.displayName=t.userDisplayName);t.id!==e.root_comment?(t.depth=(t.depth||0)+1,t.rootMessageId=e.root_comment):(t.depth=0,t.rootMessageId=t.id);n.isOnline=!0,t.status===i.BLOCKED&&t.isDeleted&&(t.isDeleted=!1);return{user:n,message:t}};var s=a(n(64)),o=n(303),i=r(n(76)),u=n(68)},557:function(e,t,n){"use strict";var r=n(29),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.updateMessageStack=_,t.default=void 0;var s,o=n(15),i=a(n(16)),u=r(n(100)),d=n(39),l=n(166),c=n(305),E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},f=(0,o.handleActions)(((s={})[(0,o.combineActions)(d.EDIT_MESSAGE_START,d.EDIT_MESSAGE_END).toString()]={next:(0,i.default)((function(e,t){var n=t.payload.message;e.message=_(e,n)})),throw:(0,i.default)((function(e,t){var n=t.payload.message;e.message=_(e,n)}))},s[d.REPORT_MESSAGE_END]=(0,i.default)((function(e){var t=e.message;e.message=(0,c.reportMessage)(t)})),s[l.REALTIME_MESSAGE_VOTE]=(0,i.default)((function(e,t){var n=t.payload.message;e.message=_(e,n)})),s[d.VOTE_TOGGLE_MESSAGE_START]=(0,i.default)((function(e,t){var n=t.payload,r=n.operation,a=n.message,s=a.isVotedDown,o=a.isVotedUp;"up"===r?(s&&(e.message.isVotedDown=!1,e.message.downVotesCount-=1),o?(e.message.isVotedUp=!1,e.message.upVotesCount-=1):(e.message.isVotedUp=!0,e.message.upVotesCount+=1)):"down"===r&&(o&&(e.message.isVotedUp=!1,e.message.upVotesCount-=1),s?(e.message.isVotedDown=!1,e.message.downVotesCount-=1):(e.message.isVotedDown=!0,e.message.downVotesCount+=1))})),s[d.TOGGLE_MARK_MESSAGE]=(0,i.default)((function(e,t){var n=t.payload.message;e.message.isMarked=n.isMarked})),s[d.PIN_MESSAGE_STATUS]=(0,i.default)((function(e,t){var n=t.payload.message;e.message.isPinned=n.isPinned})),s[d.MUTE_USER]=(0,i.default)((function(e){e.message.user.isMuted=!0})),s[d.UNMUTE_USER]=(0,i.default)((function(e){e.message.user.isMuted=!1})),s[d.WHITE_LIST_USER_STATUS]=(0,i.default)((function(e,t){var n=t.payload.isWhiteListed;e.message.user.isWhiteListed=n})),s),u.createMessageStackObject());function _(e,t){return E(E(E({},e.message),t),{depth:e.message.depth,isVotedUp:e.message.isVotedUp,isVotedDown:e.message.isVotedDown,repliesCount:e.message.repliesCount,user:E(E({},e.message.user),t.user)})}t.default=f},558:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getSortBy=function(e){return e.comments.pagination.sortBy},t.default=void 0;var a,s=n(15),o=r(n(16)),i=n(556),u=n(39),d=n(86),l=(0,s.handleActions)(((a={})[u.CREATE_MESSAGE_START]=(0,o.default)((function(e,t){var n=t.payload,r=n.message;!n.isRetry&&(0,d.isRootMessage)(r)&&e.offset++})),a[u.CLEAN_FAILED_MESSAGE]=(0,o.default)((function(e,t){var n=t.payload.message;(0,d.isRootMessage)(n)&&e.offset--})),a[u.REALTIME_MESSAGE_NEW]=(0,o.default)((function(e,t){var n=t.payload.messageStack,r=0===n.message.depth;r||e.offset++,(n.isAggregated||r)&&e.commentsRead++})),a),(0,i.createPaginationObject)());t.default=l},559:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parseLiveBlog=l,t.getEventLoction=function(e){return e.location},t.getReporters=c,t.isReporter=function(e,t){return c(e).indexOf(t)>-1},t.isLiveBlogOnline=function(e){return e.isLive},t.getEndDate=function(e){return e.endDate},t.getStartDate=function(e){return e.startTime},t.default=t.initLiveBlog=void 0;var a,s=n(15),o=r(n(64)),i={reporters:[],location:void 0,isLive:!1},u=(0,s.createAction)("LIVE_BLOG/INIT",l);t.initLiveBlog=u;var d=(0,s.handleActions)(((a={})["LIVE_BLOG/INIT"]=function(e,t){var n=t.payload;return{reporters:n.reporters,location:n.location,isLive:n.live,endDate:n.endDate,startTime:n.startTime}},a),i);function l(e){return o.default.map(e,{id:"id",code:"code",title:"title",where:"location",live:"live",started_at:"startTime",end_date:"endDate",end_hour:"endHour",end_minute:"endMinute",next_occurrence:"nextStartTime",reporters_ids:"reporters",comments_disabled:"commentsDisabled",repeating:"isRepeating",weekly_days:"repeatingDays"})}function c(e){return e.reporters}t.default=d},560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(561);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var a=n(1115);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}))},561:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_IS_MOBILE=void 0;t.SET_IS_MOBILE="SET_IS_MOBILE"},562:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(308)),s=r(n(4)),o=r(n(53)),i=r(n(5)),u=r(n(17)),d=!1;var l=function(e){new Promise((function(e){if(d)e();else{var t=(s.default.get("assets_config")||[]).find((function(e){var t;if(e.variant){var n=e.variant.split(":"),r=n[0],a=n[1],s=null!==(t=u.default.getVariant(r))&&void 0!==t?t:"A";return"modals"===e.module&&"user profile bundle"===e.name&&s===a}return"modals"===e.module&&"user profile bundle"===e.name}));t?(document.addEventListener("spot-im-user-profile-initialized",(function(){d=!0,e()})),(0,a.default)(document.body,""+t.url)):console.warn('Error: cannot find "user profile bundle" in `assets_config`')}})).then((function(){window.mountUserProfile(e),(0,o.default)({type:"user-profile-mounted"})})).catch((function(e){(0,i.default)({description:"error mounting user profile"},e)}))};t.default=l},563:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openRegistrationModal=void 0;var a=n(564),s=r(n(53)),o=n(219);t.openRegistrationModal=function(e){return new Promise((function(t){function n(){(0,o.unsubscribeSpotimMessage)(r)}function r(e){var r=e.detail;r&&"spotim-on-signin"===r.type&&(t(),(0,a.resume)(),n()),r&&"spotim-close-modal"===r.type&&(t(),(0,a.resume)(),n())}(0,o.postSpotimMessage)({type:"spotim-show-registration-modal",payload:e}),(0,s.default)({type:"requested-show-registration"}),(0,o.subscribeSpotimMessage)(r),(0,a.pause)()}))}},564:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.resume=T,t.pause=m,t.init=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;if(!t)return void console.warn("initialized reading service without an element to observe");o=e,s=n,_=0,i=!0,u=!1,clearInterval(a),p={hasMouseMoved:!0,hasMouseScrolled:!0,hasKeyboardClicked:!0},this.intersectionObserver=new IntersectionObserver((function(e){var t=(0,l.default)(e,1)[0];u?t.isIntersecting?T():(g(),m()):u=!0}),{threshold:.01}),this.intersectionObserver?this.intersectionObserver.observe(t):console.warn("unable to initialize reading service intersection observer");document.addEventListener("visibilitychange",I,!1)},t.getIsRunning=function(){return i};var a,s,o,i,u,d=r(n(6)),l=r(n(77)),c=n(19),E=r(n(5)),f=n(219),_=0,S=[5,10,15,20,30,40,50,60,70,80,90,120,240],p={};function g(){if(0!==_){var e={type:"reading",item_type:"main",count:_,is_active_view:!0};o?o.trackEvent(e):(0,E.default)("trying to log reading event before reading-service initialization",new Error("trying to log reading event before reading-service initialization"))}}function O(){_++,-1!==S.indexOf(_)&&(g(),p={hasMouseMoved:!1,hasMouseScrolled:!1,hasKeyboardClicked:!1},_===S[0]&&(c.metrics.putObserver(),c.events.observing()))}function T(){i=!0,a=setInterval((function(){O()}),s)}function m(){i=!1,clearInterval(a)}function I(){"hidden"==document.visibilityState?m():T()}(0,f.subscribeSpotimMessage)((function(e){var t=e.detail;if(t&&"object"===(0,d.default)(t)&&t.__SPOTIM_MESSAGE)switch(t.type){case"scroll":p.hasMouseScrolled=!0;break;case"keydown":p.hasKeyboardClicked=!0;break;case"mousemove":p.hasMouseMoved=!0}})),window.addEventListener("message",(function(e){if("object"===(0,d.default)(e.data)&&e.data.__SPOTIM_MESSAGE)switch(e.data.type){case"scroll":p.hasMouseScrolled=!0;break;case"keydown":p.hasKeyboardClicked=!0;break;case"mousemove":p.hasMouseMoved=!0}}))},579:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.setUnseenNotificationsCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){var t=(0,s.default)(a.default.mark((function t(n){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:o.SET_UNSEEN_NOTIFICATION_COUNT,payload:{unseenNotificationsCount:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var a=r(n(40)),s=r(n(41)),o=n(99)},62:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getStorageDeviceUuid=function(){var e=window.localStorage?window.localStorage.getItem("SPOTIM_DEVICE_UUID_V2"):void 0;return e?JSON.parse(e):{}},t.default=void 0;var a=r(n(4)),s=r(n(22)),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.default=function(e,t){var n=t.data,r=t.method,u=void 0===r?"GET":r,d=i(t,["data","method"]),l=function(e){return{"x-spot-id":a.default.get("spotId"),"x-post-id":e.postId}}(d),c=o(o({},d),{headers:l,method:u});return"GET"!==u&&Object.assign(c,{body:JSON.stringify(n)}),(0,s.default)(e,c)}},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={parseUser:!0};Object.defineProperty(t,"parseUser",{enumerable:!0,get:function(){return s.parseUser}});var a=n(949);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=n(950)},770:function(e,t,n){var r={"./auto_blog":382,"./auto_blog.json":382,"./barrons":383,"./barrons.json":383,"./boston":384,"./boston.json":384,"./boston_globe":385,"./boston_globe.json":385,"./bounding_into_comics":386,"./bounding_into_comics.json":386,"./caged_insider":387,"./caged_insider.json":387,"./default":388,"./default.json":388,"./evolve_media":389,"./evolve_media.json":389,"./fight_line":390,"./fight_line.json":390,"./fox_news":391,"./fox_news.json":391,"./globes":392,"./globes.json":392,"./hearst":393,"./hearst.json":393,"./leites_culinaria":394,"./leites_culinaria.json":394,"./love_letters_boston":395,"./love_letters_boston.json":395,"./mma_frenzy":396,"./mma_frenzy.json":396,"./msn":397,"./msn.json":397,"./political_insider":398,"./political_insider.json":398,"./radar_online":399,"./radar_online.json":399,"./ringside_intel":400,"./ringside_intel.json":400,"./soaps_sheknows":401,"./soaps_sheknows.json":401,"./spil_games":402,"./spil_games.json":402,"./syfy":403,"./syfy.json":403,"./tell_me_now":404,"./tell_me_now.json":404,"./the_finance_genie":405,"./the_finance_genie.json":405,"./the_sun":406,"./the_sun.json":406,"./toh":407,"./toh.json":407,"./tol":408,"./tol.json":408,"./uproxx":409,"./uproxx.json":409,"./wrestle_newz":410,"./wrestle_newz.json":410,"./ynet":411,"./ynet.json":411,"./ynet_euro":412,"./ynet_euro.json":412};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=770},771:function(e,t,n){var r={"./snippets.default":248,"./snippets.default.jsx":248,"./snippets.msn":413,"./snippets.msn.jsx":413};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id=771},82:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.store=function(e,t,n,r){var a=new Date;a.setTime(a.getTime()+60*r*1e3),s.write(e,t,{path:"/",domain:n,expires:a}),o.write(e,JSON.stringify(t))},t.read=function(e){var t=s.read(e);t||(t=o.read(e));return t},t.jsonParse=function(e,t){try{return JSON.parse(e)}catch(e){return t}},t.parseNumber=function(e){for(var t=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"G"},{value:1e6,symbol:"M"},{value:1e3,symbol:"K"},{value:1,symbol:""}],n=t[t.length-1],r=0,a=t;r<a.length;r++){var s=a[r];if(Math.abs(e)>=s.value){n=s;break}}return(e/n.value).toFixed(1).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol},t.getIsConsumedUrlParams=function(){return window.__SPOTIM__.isConsumedUrlParams},t.setIsConsumedUrlParams=function(e){window.__SPOTIM__.isConsumedUrlParams=e},t.clone=t.isStaffMember=t.isIE=t.isDisplayNameRequired=t.isInvalidDisplayName=t.localStorage=t.cookie=void 0;var a=r(n(5)),s=function(){function e(e){return encodeURIComponent(e)}function t(t){return e(JSON.stringify(t))}return{write:function(n,r,a){if(a||(a={}),"number"==typeof a.expires){var s=a.expires,o=a.expires=new Date;o.setTime(+o+864e5*s)}return document.cookie=[e(n),"=",t(r),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")},read:function(e){for(var t,n=void 0,r=document.cookie?document.cookie.split("; "):[],a=0,s=r.length;a<s;a++){var o=r[a].split("="),i=(t=o.shift(),decodeURIComponent(t)),u=o.join("=");if(e&&e===i){n=u;break}}return n}}}();t.cookie=s;var o={isSupport:function(){try{return window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),!0}catch(e){return(0,a.default)("localStorage not supported",e),!1}}(),read:function(e){var t=null;return this.isSupport&&(t=window.localStorage.getItem(e)),t},write:function(e,t){return this.isSupport&&window.localStorage.setItem(e,t),!0}};t.localStorage=o;t.isInvalidDisplayName=function(e){return!e||0===e.trim().length};t.isDisplayNameRequired=function(e){var t=e.isRegistered,n=e.isForceRegister;return!t&&!n};var i="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style;t.isIE=i;t.isStaffMember=function(e){return e.isSuperAdmin||e.isAdmin||e.isModerator||e.isJournalist};t.clone=function(e){return JSON.parse(JSON.stringify(e))}},836:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cloudinary:{url:"https://images.spot.im/image/upload"}}},837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={conversationFrameUrl:"https://app-cdn.staging-spot.im/modules/conversation/".concat("development","/conversation/index.html"),conversationUrl:"https://app-cdn.staging-spot.im/modules/launcher/bundle.js?module=conversation",spoxyShards:{premaster:"https://spoxy.staging-spot.im",0:"https://spoxy.staging-spot.im",1:"https://staging-spoxy-shard1.spot.im",2:"https://staging-spoxy-shard2.spot.im"},conversationSpoxyPartial:"/v2/spot/:spotId/post/:postId/",userAgnosticConversationSpoxyPartial:"/v2/user-agnostic/spot/:spotId/post/:postId/",liveBlogSpoxyPartial:"/v2/spot/:spotId/event/:eventCode/",realtime:{key:"1234",wsHost:"staging-ws.spot.im",wsPort:"443",wssPort:"443",httpHost:"staging-ws-api.spot.im",httpPort:"4567",httpsPort:"4567"},cloudinary:{apiKey:"468332229667797"},urls:{oldApiGw:"https://v2.staging-spot.im/api",manage:"https://admin.staging-spot.im/login",share:"https://v2.staging-spot.im/s/{REFERENCE_ID}",redirect:"https://traffic-staging.spot.im/v3",createAccount:"https://www.spot.im"}};t.default=r},838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={conversationFrameUrl:"https://app-cdn.spot.im/modules/conversation/".concat("development","/conversation/index.html"),conversationUrl:"https://app-cdn.spot.im/modules/launcher/bundle.js?module=conversation",prerenderConversationUrl:"https://spoxy-eb.spot.im/spot/:spotId/post/:postId/",prerenderUserAgnosticConversationUrl:"https://spoxy-eb.spot.im/spoxy/user-agnostic/spot/:spotId/post/:postId/",spoxyShards:{premaster:"https://premaster-spoxy.spot.im",0:"https://spoxy-eb.spot.im",1:"https://spoxy-shard1.spot.im",2:"https://spoxy-shard2.spot.im",3:"https://spoxy-shard3.spot.im",4:"https://spoxy-shard4.spot.im",5:"https://spoxy-shard5.spot.im",6:"https://spoxy-shard6.spot.im",7:"https://spoxy-shard7.spot.im",8:"https://spoxy-shard8.spot.im"},conversationSpoxyPartial:"/v2/spot/:spotId/post/:postId/",userAgnosticConversationSpoxyPartial:"/v2/user-agnostic/spot/:spotId/post/:postId/",liveBlogSpoxyPartial:"/v2/spot/:spotId/event/:eventCode/",realtime:{key:"fbd12f1453c4b4c7f61b",wsHost:"ws.spot.im",wsPort:"443",wssPort:"443",httpHost:"ws-api.spot.im",httpPort:"4567",httpsPort:"4567"},cloudinary:{apiKey:"468332229667797"},urls:{oldApiGw:"https://www.spot.im/api",manage:"https://admin.spot.im/login",share:"https://www.spot.im/s/{REFERENCE_ID}",redirect:"https://traffic.spot.im/v3",createAccount:"https://www.spot.im"}};t.default=r},86:function(e,t,n){"use strict";var r=n(29),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageObject=function(e){void 0===e&&(e={});var t=f({id:(0,l.default)(),clientId:(0,l.default)(),isTempId:!1,conversationId:null,rootMessageId:null,parentMessageId:null,postedAt:(new Date).getTime()/1e3,upVotesCount:0,downVotesCount:0,viewsCount:0,repliesCount:0,userDisplayName:null,user:(0,E.createUserObject)(),entities:[],textEntities:[],mentions:[],isVotedUp:!1,isVotedDown:!1,isMine:!1,isNew:!1,isMarked:!1,isReported:!1,isEdited:!1,isDeleted:!1,version:0,replyToUserId:null,replyToUsername:null,replyToDisplayName:null,status:d.messageStatuses.APPROVED,starsRating:null,isPinned:void 0,depth:0,offset:0},e);e.user&&(t.user=(0,E.createUserObject)(e.user));var n=[],r=[],a=[];e.entities?e.entities.forEach((function(e){var t=e;t&&(n.push(t),t.type===d.entityTypes.MENTION&&a.push(t),t.type===d.entityTypes.TEXT&&r.push(t))})):(n=t.entities,r=t.textEntities,a=t.mentions);return t.entities=n,t.textEntities=r,t.mentions=a,t},t.getTextEntity=_,t.getText=function(e){return _(e).text},t.hasMediaEntities=function(e){return!!(0,c.getMediaEntity)(e)},t.hasReplies=function(e){return e.repliesCount>0},t.isUser=function(e,t){var n=t;"object"===(0,i.default)(t)&&(n=t.id);return e.user.id===n},t.findMention=function(e,t){return e.mentions.find((function(e){return e.user.id===t}))},t.getCleanText=function(e){var t=e.mentions.map((function(e){return e.user})),n=u.getTextWithTransposedMentions(_(e));return u.getCleanText({text:n},t)},t.isRootMessage=function(e){return!e.parentMessageId},Object.defineProperty(t,"getMediaEntity",{enumerable:!0,get:function(){return c.getMediaEntity}}),t.MessageModeratingFailedType=t.MessageModeratingStages=void 0;var s,o,i=a(n(6)),u=r(n(92)),d=n(1005),l=a(n(63)),c=n(106),E=n(68),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function _(e){return e.textEntities.length>0?e.textEntities[0]:u.createTextEntityObject()}t.MessageModeratingStages=s,function(e){e.LOADING="LOADING",e.FINISHED="FINISHED",e.FAILED="FAILED"}(s||(t.MessageModeratingStages=s={})),t.MessageModeratingFailedType=o,function(e){e.APPROVE="APPROVE",e.REJECT="REJECT"}(o||(t.MessageModeratingFailedType=o={}))},87:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.isNonBozoMode=l,t.isEnabled=c,t.isSuspensionEnabled=function(){return l()&&s.default.get("tenant_config.moderation.suspensions_enabled",!1)},t.isRealtimeEnabled=function(){return c()&&s.default.get("tenant_config.conversation.realtimeModerationEnabled",!1)},t.isAfterClickEnabled=E,t.isRealtimeMessageBlocked=function(e,t){return t.length>0&&[o.TPolicyVerdict.BLOCK_ALL,o.TPolicyVerdict.FORCE_BLOCK_ALL].includes(e)},t.isMessageBlockedVerdict=function(e,t){return t.length>0&&[o.TPolicyVerdict.REQUIRE_APPROVAL,o.TPolicyVerdict.BLOCK_ALL,o.TPolicyVerdict.FORCE_BLOCK_ALL].includes(e)},t.shouldModerateMessage=function(e,t){return E()&&!f(e,t)},t.isMessageAlreadyBlocked=f,t.getModerationState=function(e){return[o.TPolicyVerdict.BLOCK_ALL,o.TPolicyVerdict.FORCE_BLOCK_ALL].includes(e)?i.MessageStatus.BLOCKED:i.MessageStatus.PENDING},t.isValidKeyPress=function(e){return!u.includes(e)},t.REALTIME_MODERATION_TIME_MS=t.WHITELISTED_KEYS=void 0;var a=r(n(17)),s=r(n(4)),o=n(206),i=n(207),u=[32];t.WHITELISTED_KEYS=u;var d=s.default.get("tenant_config.conversation.realtime_moderation_time_ms",500);function l(){return!s.default.get("init_data.config.policy.roger_mode",!0)}function c(){return"A"===a.default.getVariant("46")&&l()}function E(){return c()&&s.default.get("tenant_config.conversation.afterclickModerationEnabled",!1)}function f(e,t){var n,r=e,a=r.mainSayControl.isMessageBlocked,s=t,o=r.messageSayControls[s];return t?null===(n=o)||void 0===n?void 0:n.isMessageBlocked:a}t.REALTIME_MODERATION_TIME_MS=d},93:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openUserProfileModal=function(e){var t=function(e){return e instanceof Array?(console.warn("OpenUserProfileModal: should pass new object arguments"),{user:e[0],overrideDisplayName:e[1],overrideImageId:e[2],mode:e[3]}):e}(e),n=t.user,r=t.overrideDisplayName,d=(t.overrideImageId,t.mode);n&&n.id||(0,o.default)("OpenUSerProfileModal: no user provided",new Error("OpenUSerProfileModal: no user provided"));return function(e,t){return i(this,void 0,void 0,(function(){var o,i,l,c,E,f,_,S,p,g,O,T,m,I;return u(this,(function(u){return o=t(),i=o.authentication.token,l=o.moduleOptions,c=l.disableUserProfileModal,E=l.mainLanguage,f=l.postId,_=l.spotId,S=l.brandColor,p=l.direction,g=l.enableSSO,O=l.editableSSO,T=l.avatarsTheme,m=o.currentUser,"main"===d&&e((0,s.notifyOpenUserProfile)(n)),c&&"privacy"!==d||(I="privacy"===d&&c,(0,a.default)({user:n,isDisableNavigation:I,currentUser:m,mode:d,locale:E,postId:f,spotId:_,brandColor:S,direction:p,token:i,enableSSO:g,canEditProfile:!g,canEditUserImage:!g||O,overrideDisplayName:r,avatarsTheme:T})),[2]}))}))}};var a=r(n(562)),s=n(1118),o=r(n(5)),i=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}},942:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.profileImageUpload=function(e){var t=e.rawImage,n=e.userId;return function(e){return l(this,void 0,void 0,(function(){var r,l,E,f;return c(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),(0,d.default)("[Conversation] - profile image upload"),[4,s.cloudinary.upload(t)];case 1:return r=c.sent().public_id,[4,a.default.updateProfileImage(r)];case 2:return l=c.sent(),(E=(0,o.parseUser)(l.body)).userId=n,e({type:"RESPONSE_PROFILE_IMAGE_UPLOAD",payload:E}),i.default.set(E),[3,4];case 3:return f=c.sent(),(0,u.default)("RESPONSE_PROFILE_IMAGE_UPLOAD",f),e({type:"RESPONSE_PROFILE_IMAGE_UPLOAD",payload:{error:f},error:!0}),[3,4];case 4:return[2]}}))}))}},t.RESPONSE_PROFILE_IMAGE_UPLOAD=void 0;var a=r(n(474)),s=n(105),o=n(68),i=r(n(59)),u=r(n(5)),d=r(n(53)),l=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};t.RESPONSE_PROFILE_IMAGE_UPLOAD="RESPONSE_PROFILE_IMAGE_UPLOAD"},949:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUserObject=function(e){var t=o(e,[]),n=(null==e?void 0:e.id)||(null==e?void 0:e.userId);return s({id:n,displayName:void 0,imageId:void 0,username:void 0,isModerator:!1,isRegistered:!1,isSuperAdmin:!1,isCommunityModerator:!1,isJournalist:!1,isAdmin:!1,reputation:{total:1},ssoData:{isSubscriber:void 0},email:void 0,isEmailVerified:!1,unseenNotificationsCount:void 0,notificationsCount:null==e?void 0:e.notificationsCount,messagesVoted:null==e?void 0:e.messagesVoted},t)},t.getDisplayName=function(e){return(0,r.getDisplayName)(e)},t.isSameUser=function(e,t){return(0,r.isSameUser)(e,t)},t.getThumbnailUrl=function(e,t){var n=s({crop:"thumb",gravity:"face",height:24,width:24},t);return a.cloudinary.url(e.imageId,n)};var r=n(59),a=n(105),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}},950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserMap=function(e,t){void 0===e&&(e="");e.length>0&&(e+=".");return function(){return Object.assign({display_name:e+"displayName",id:e+"id",user_id:e+"id",image_id:e+"imageId",background_image_id:e+"coverImageId",about:e+"about",location:e+"location",language:e+"language",workplace:e+"workplace",interests:e+"interests",user_name:e+"username",online:e+"isOnline",points:e+"points",is_moderator:e+"isModerator",is_admin:e+"isAdmin",is_journalist:e+"isJournalist",notifications_counter:e+"notificationsCount",comments_count:e+"commentsCount",up_votes_count:e+"upVotesCount",up_votes_received_count:e+"upVotesReceivedCount",unseen_notifications_count:e+"unseenNotificationsCount",rank:e+"messagesVoted",email:e+"email",verified:e+"isEmailVerified",social:e+"socialNetworks",registered:e+"isRegistered",anonymous:e+"isAnonymized",spot_token:e+"token","liked-message":e+"emailNotifyLikedMessage","user-mentioned":e+"emailNotifyUserMentioned","replied-your-message":e+"emailNotifyRepliedYourMessage",private_profile:e+"isPrivate",sso_user:e+"isSsoUser",is_super_admin:e+"isSuperAdmin",spotim_device_ticket:e+"spotimDeviceTicket",following:e+"following",actions:e+"actions",is_community_moderator:e+"isCommunityModerator",is_muted:e+"isMuted",network_device_ticket:e+"networkDeviceTicket",reputation:e+"reputation",sso_data:(0,r.ssoDataMap)(e+"ssoData")},t)}},t.parseUser=function(e){return s(s({},(0,a.parseUser)(e)),{notificationsCount:e.notifications_counter,isMuted:e.is_muted,messagesVoted:e.rank})};var r=n(951),a=n(59),s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)}},951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ssoDataMap=function(e,t){void 0===e&&(e="");e.length>0&&(e+=".");return function(){return Object.assign({is_subscriber:e+"isSubscriber"},t)}}},952:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getModerationTickets=function(){return function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,u,d;return i(this,(function(i){switch(i.label){case 0:return n=t(),r=n.moduleOptions.spotId,o=n.conversation.postId,[4,a.getModerationTickets.execute(r,o)];case 1:return u=i.sent().moderationTickets,e({type:"GET_MODERATION_TICKETS_END",payload:{moderationTickets:u}}),d=t().currentUser,s.default.set(d),[2]}}))}))}},t.GET_MODERATION_TICKETS_END=void 0;var a=n(133),s=r(n(59)),o=function(e,t,n,r){return new(n||(n=Promise))((function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function i(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}u((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};t.GET_MODERATION_TICKETS_END="GET_MODERATION_TICKETS_END"},960:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.syncToken=function(){return d.apply(this,arguments)},t.getLastResolvedToken=function(){return a},t.setLastResolvedToken=l;var a,s=r(n(40)),o=r(n(77)),i=r(n(41)),u=n(51);function d(){return(d=(0,i.default)(s.default.mark((function e(){var t,n,r,a,i=arguments;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],e.next=3,u.hostProvider.syncToken(t);case 3:return n=e.sent,r=(0,o.default)(n,1),l(a=r[0]),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){a=e}},980:function(e,t,n){"use strict";var r=n(0),a=n(29);Object.defineProperty(t,"__esModule",{value:!0}),t.isLoadingGifImages=function(e){return e.isLoading},t.getTrendingGifImages=function(e){return e.trending},t.getTrendingGifImagesOffset=function(e){return e.trending.length},t.getGifImagesSearchQuery=_,t.getGifImagesSearchResults=function(e,t){var n=[];t===_(e)&&(n=e.searchResults);return n},t.getGifImagesSearchOffset=function(e,t){var n=0;t===_(e)&&(n=e.searchResults.length);return n},t.default=void 0;var s,o=r(n(54)),i=r(n(34)),u=n(15),d=a(n(493));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={isLoading:!1,trending:[],searchQuery:void 0,searchResults:[]},f=(0,u.handleActions)((s={},(0,i.default)(s,d.startFetchTrendingGifImages,(function(e){return c(c({},e),{},{isLoading:!0})})),(0,i.default)(s,d.addTrendingGifImages,(function(e,t){var n=t.payload,r=e.trending;return c(c({},e),{},{trending:[].concat((0,o.default)(r),(0,o.default)(n)),isLoading:!1})})),(0,i.default)(s,d.resetGifSearchQuery,(function(e,t){var n=t.payload,r=n.query,a=n.isLoading;return c(c({},e),{},{searchQuery:r,searchResults:[],isLoading:a})})),(0,i.default)(s,d.addGifSearchResults,(function(e,t){var n=t.payload.images,r=e.searchResults;return c(c({},e),{},{searchResults:[].concat((0,o.default)(r),(0,o.default)(n)),isLoading:!1})})),s),E);function _(e){return e.searchQuery}t.default=f},981:function(e,t,n){"use strict";var r=n(29),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTrendingGifImages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"g";return function(){var t=(0,o.default)(s.default.mark((function t(n,r){var a,o,i,u,l,S;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),d.isLoadingGifImages(a)){t.next=9;break}return o=d.getTrendingGifImagesOffset(a),n(f()),t.next=7,c.trending({rating:e,offset:o});case 7:(i=t.sent).data&&(u=r(),l=d.getTrendingGifImages(u).map((function(e){return e.originalUrl})),S=i.data.filter((function(e){return!!(e.images&&e.images.preview_gif&&e.images.preview_gif.width&&e.images.original)})).map(E).filter((function(e){return-1===l.indexOf(e.originalUrl)})),n(_(S)));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},t.searchGif=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"g";return function(){var n=(0,o.default)(s.default.mark((function n(r,a){var o,i,u,l,f,_,g;return s.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=a(),(i=d.getGifImagesSearchQuery(o))!==e&&r(S(e)),u=d.getGifImagesSearchOffset(o,e),n.next=6,c.search({q:e,offset:u,rating:t});case 6:(l=n.sent).data&&(f=a(),i=d.getGifImagesSearchQuery(f),_=d.getGifImagesSearchResults(f,i).map((function(e){return e.previewUrl})),g=l.data.filter((function(e){return!!e.images&&!!e.images.fixed_width})).filter((function(e){return-1===_.indexOf(e.url)})).map(E),i===e&&r(p(e,g)));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},t.addGifSearchResults=t.resetGifSearchQuery=t.addTrendingGifImages=t.startFetchTrendingGifImages=void 0;var s=a(n(40)),o=a(n(41)),i=n(15),u=a(n(982)),d=r(n(278)),l=a(n(985)),c=(0,u.default)({apiKey:l.default.giphy.apiKey,https:!0});function E(e){var t=e.images,n=t.preview_gif,r=t.original;return{originalWidth:parseInt(r.width),originalHeight:parseInt(r.height),originalUrl:r.url,previewWidth:parseInt(n.width),previewHeight:parseInt(n.height),previewUrl:n.url}}var f=(0,i.createAction)("START_FETCH_TRENDING_GIF_IMAGES");t.startFetchTrendingGifImages=f;var _=(0,i.createAction)("ADD_TRENDING_GIF_IMAGES",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e}));t.addTrendingGifImages=_;var S=(0,i.createAction)("RESET_GIF_SEARCH_QUERY",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{query:e,isLoading:e.length>0}}));t.resetGifSearchQuery=S;var p=(0,i.createAction)("ADD_GIF_SEARCH_RESULTS",(function(e,t){return{query:e,images:t}}));t.addGifSearchResults=p},985:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(112),s=r(n(986)),o=null;o=n(494).default,o="staging"===window.__SPOTIMENV__?n(987).default:n(494).default;var i=(0,a.deepExtendObject)({},s.default,o);t.default=i},986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={giphy:{apiKey:"3ramR4915VrqRb5U5FBcybtsTvSGFJu8"}}},987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={}},988:function(e,t,n){"use strict";var r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=r(n(34)),o=n(15),i=n(137);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=(0,o.handleActions)((a={},(0,s.default)(a,i.GET_REPLIES_START,(function(e,t){var n=t.payload.parentMessageId;return d(d({},e),{},{isLoading:!0,rootMessageId:n})})),(0,s.default)(a,i.GET_REPLIES_END,(function(e,t){var n=t.payload.parentMessage;return d(d({},e),{},{isLoading:!1,rootMessageId:n.id})})),a),{rootMessageId:null,isLoading:!1});t.default=l},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_IS_LOADED=t.SET_UNSEEN_NOTIFICATION_COUNT=t.MARK_AS_READ=t.MARK_ALL_READ=t.GET_END=t.GET_START=void 0;t.GET_START="NOTIFICATIONS/GET_START";t.GET_END="NOTIFICATIONS/GET_END";t.MARK_ALL_READ="NOTIFICATIONS/MARK_ALL_READ";t.MARK_AS_READ="NOTIFICATIONS/MARK_AS_READ";t.SET_UNSEEN_NOTIFICATION_COUNT="NOTIFICATIONS/SET_UNSEEN_NOTIFICATION_COUNT";t.SET_IS_LOADED="NOTIFICATIONS/SET_IS_LOADED"}}]);
//# sourceMappingURL=boot~conversation-component~preRender-bundle.js.map