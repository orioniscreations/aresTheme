(window.webpackJsonp_spotim_580132258=window.webpackJsonp_spotim_580132258||[]).push([[52],Array(24).concat([function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=s(i(3)),m=o(i(35)),f=o(i(14)),u=i(42),v=i(2),_=s(i(107)),g=o(i(17)),h=i(1181),y=o(i(1184)),b=o(i(1241)),x=o(i(609)),w=i(611),M=o(i(1246)),E=o(i(1578)),k=o(i(1581)),S=o(i(1584)),C=o(i(287)),T=o(i(239)),I=o(i(698)),R=o(i(1602)),O=s(i(48)),P=i(694),N=i(51),A=s(i(564)),U=i(55),D=o(i(1629)),L=i(703),B=i(1658),j=i(121),q=i(238),z=i(50),F=i(93),W=i(91),V=i(685),H=i(44);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var K="B"===g.default.getVariant("44"),Q=(0,d.lazy)((function(){return Promise.all([i.e(12),i.e(7),i.e(63)]).then(i.t.bind(null,1755,7))})),J=(0,d.lazy)((function(){return i.e(100).then(i.t.bind(null,1764,7))})),Y=(0,d.lazy)((function(){return i.e(99).then(i.t.bind(null,1767,7))})),X=function(e){(0,r.default)(s,e);var t=G(s);function s(){var e;(0,p.default)(this,s);for(var o=arguments.length,c=new Array(o),a=0;a<o;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).state={},e.snippets=i(1659),e.getSnippets=function(){return e.snippets},e.handleStarRatingModuleVote=function(t){var i=t.detail;e.props.conversation.id===i.conversationId&&e.props.onRatingsClick(i.rank)},e.subscribeToStarRating=function(){document.addEventListener("spot-im-star-rating-module-vote",e.handleStarRatingModuleVote)},e.unSubscribeToStarRating=function(){document.removeEventListener("spot-im-star-rating-module-vote",e.handleStarRatingModuleVote)},e.scrollToComments=function(){var t=(0,v.findDOMNode)(e.messagesStackElement).getBoundingClientRect().top;N.hostProvider.scrollTo(t,{offset:15},"incomingMessage")},e.renderUserMenu=function(t){var i=t.currentUser,s=t.useDisqusLogin,o=t.handleDisqusLogin,c=t.avatarsTheme,p=t.onNotificationClick,a=t.direction,r=t.claimDisqusForumAccount,n=t.postId;return d.default.createElement("div",{"data-spot-im-class":"registration-buttons",className:I.default.registrationButtons},!(0,U.isLoggedIn)(i)&&s&&!e.props.isLiveBlog&&r&&d.default.createElement(b.default,{onClick:e.openDiscusForumAccount}),!(0,U.isLoggedIn)(i)&&s&&!e.props.isLiveBlog&&d.default.createElement(x.default,{onClick:o,postId:n}),d.default.createElement(D.default,{avatarsTheme:c,onNotificationClick:p,direction:a,showCircleIcon:!1,hostProviderNotify:e.hostProviderNotify}),d.default.createElement(S.default,null))},e.hostProviderNotify=function(e,t){N.hostProvider.notifyHostApi(e,t)},e.openDiscusForumAccount=function(){e.hostProviderNotify(j.DISQUS_FORUM_CLAIM_EVENT_NAME)},e.viewMessage=function(t){e.messagesStackElement&&e.messagesStackElement.wrappedInstance.viewMessage(t)},e.handleLogin=function(t){e.props.enableSSO&&e.saveDraftMessage(t),e.props.onLogin();var i={item_type:"login",target_type:"commnet-sign-up",type:"login-clicked",post_id:e.props.conversation.postId};(0,z.analyticsTrack)(i)},e.saveDraftMessage=function(t){var i=e.props.conversationId;(0,q.saveDraftMessage)({payload:t,conversationId:i,stackId:"main-say-ctrl"})},e.handleUploadProfileImage=function(t){var i=e.props.currentUser;e.props.onProfileImageUpload({userId:i.id,rawImage:t})},e.handleUserProfileClick=function(){var t=e.props.currentUser;(t.isRegistered||t.displayName)&&e.props.onOpenUserProfileModal({user:t,mode:"main"})},e.shouldDisplayUsername=function(){var t=e.props,i=t.forceRegister;return t.currentUser.isRegistered||!i},e}return(0,a.default)(s,[{key:"componentDidMount",value:function(){T.default.on("scrollToComments",this.scrollToComments);var e=this.props,t=e.conversation.messagesCount,i=e.tracking;t>0&&A.init(i,(0,v.findDOMNode)(this.messagesStackElement)),this.subscribeToStarRating()}},{key:"componentWillUnmount",value:function(){T.default.off("scrollToComments",this.scrollToComments),this.unSubscribeToStarRating()}},{key:"render",value:function(){var e,t=this,i=this.props,s=i.spotId,o=i.comments,p=i.conversation,a=i.isStarsRatingEnabled,r=i.isConnectEnabled,n=i.enableSSO,l=i.editableSSO,m=i.onNotificationClick,u=i.verifyEmailSent,v=i.summaryWidget,g=i.pagination,b=i.pageSize,x=i.useDisqusLogin,w=i.avatarsTheme,S=i.isSafari,C=i.onVerifyEmailSend,T=i.currentUser,O=i.onLoadMore,P=i.handleDisqusLogin,N=i.loadMoreMessagesText,A=i.isLoadingMoreComments,U=i.hasNextComments,D=i.direction,L=i.isLiveBlog,j=i.isReporter,q=i.isLiveBlogOnline,z=i.href,F=i.commentsList,W=i.liveBlogEndDate,G=i.liveBlogStartDate,X=(i.forceRegister,p.messagesCount),Z=p.commentsCount,$=p.postId,ee=this.getSnippets().getRichEditorPlaceholder({messagesCount:X,isStarsRatingEnabled:a}),te=this.snippets.claimDisqusForumAccount,ie=_.getAggregatedStacksSequence(o),se=0===X,oe=(0,f.default)(I.default.conversation,(e={},(0,c.default)(e,I.default.emptyState,se),(0,c.default)(e,I.default.safari,S),e)),ce=this.getSnippets().getloadMoreCommentsTextKey({isLiveBlog:L}),pe=this.getSnippets().shouldRenderReporterSayControl({currentUser:T});return d.default.createElement("div",{ref:function(e){return t.wrapper=e},"data-spot-im-class":"conversation-body",className:oe},!1,a&&d.default.createElement(d.Suspense,{fallback:null},d.default.createElement(Q,{summaryWidget:v,conversation:p})),d.default.createElement(d.Suspense,{fallback:null},L&&d.default.createElement("div",{className:I.default.topStrip,"data-spot-im-class":"top-strip"},d.default.createElement(d.default.Fragment,null,d.default.createElement(Y,{liveBlogEndDate:W,liveBlogStartDate:G,isEmpty:se,isReporter:j,isLiveBlogOnline:q}),!j&&this.renderUserMenu({currentUser:T,useDisqusLogin:x,handleDisqusLogin:P,avatarsTheme:w,onNotificationClick:m,direction:D,claimDisqusForumAccount:te,postId:$})))),(!L||j)&&d.default.createElement("div",{className:(0,f.default)(I.default.userAreaContainer,(0,c.default)({},I.default.hasUserUsername,this.shouldDisplayUsername()))},this.shouldDisplayUsername()&&d.default.createElement(V.UserSayControlDetails,{spotId:s,currentUser:T,enableSSO:n,editableSSO:l,avatarsTheme:w,handleLogin:this.handleLogin,handleUploadProfileImage:this.handleUploadProfileImage,handleUserProfileClick:this.handleUserProfileClick}),(!n||T.isRegistered||H.enableSsoLogin)&&this.renderUserMenu({currentUser:T,useDisqusLogin:x,handleDisqusLogin:P,avatarsTheme:w,onNotificationClick:m,direction:D,claimDisqusForumAccount:te,postId:$})),r&&!n&&d.default.createElement(h.CompleteEmailRegistration,{currentUser:T,email:T.email,isEmailVerified:T.isEmailVerified,onVerifyEmailSend:C,isVerificationEmailSent:u,spotId:s,hostUrl:z}),(!L||j)&&pe&&d.default.createElement(E.default,{placeholderTextKey:ee}),!se&&d.default.createElement(k.default,{conversation:p,sortBy:g.sortBy,pageSize:b}),d.default.createElement(d.Suspense,{fallback:null},K&&!L&&d.default.createElement(J,{spotId:s})),d.default.createElement(M.default,{key:"messageStack",ref:function(e){t.messagesStackElement=e},stackList:o,commentsCount:Z-ie.length,currentUser:T,hasNextComments:U}),d.default.createElement(R.default,null),U&&!L&&d.default.createElement(B.ConversationSurvey,{commentsRootCount:F.rootOrder.length,postId:$}),d.default.createElement(y.default,{hasNext:U,loadMoreMessagesText:N,isLoading:A,onLoadMore:O,textKey:ce,hostProviderNotify:this.hostProviderNotify,commentsCount:X-Object.keys(o.messages).length,totalMessages:X}))}}]),s}(d.Component);X.propTypes={spotId:m.default.string.isRequired,direction:m.default.oneOf(["rtl","ltr"]).isRequired,currentUser:m.default.object.isRequired,isStarsRatingEnabled:m.default.bool,isConnectEnabled:m.default.bool.isRequired,avatarsTheme:m.default.string,useDisqusLogin:m.default.bool.isRequired,conversation:m.default.any.isRequired,enableSSO:m.default.bool,verifyEmailSent:m.default.bool.isRequired,pagination:m.default.object.isRequired,comments:m.default.object.isRequired,summaryWidget:m.default.object.isRequired,isSafari:m.default.bool,pageSize:m.default.number,onVerifyEmailSend:m.default.func.isRequired,onNotificationClick:m.default.func.isRequired,onLoadMore:m.default.func.isRequired,loadMoreMessagesText:m.default.string,isLoadingMoreComments:m.default.bool.isRequired,hasNextComments:m.default.bool.isRequired,handleDisqusLogin:m.default.func.isRequired,isReporter:m.default.bool,isLiveBlog:m.default.bool,isLiveBlogOnline:m.default.bool,hasCommunity:m.default.bool,href:m.default.string},X.defaultProps={isSafari:!1,isReporter:!1,isLiveBlog:!1,isLiveBlogOnline:!1};var Z=(0,u.connect)((function(e){var t=e.moduleOptions,i=e.currentUser,s=e.registration,o=e.comments,c=e.conversation,p=t.spotId,a=t.isStarsRatingEnabled,r=t.isConnectEnabled,n=t.enableSSO,l=t.useDisqusLogin,d=t.textsOverrides,m=t.direction,f=t.avatarsTheme,u=t.isSafari,v=t.hasCommunity,_=t.href,g=t.conversationId,h=t.editableSSO,y=t.forceRegister,b=s.verifyEmailSent,x=o.loadingFromShowMore,w=o.pagination.hasNext,M=o.list,E=O.isReporter(e,i.id),k=O.isLiveBlog(e),S=O.isLiveBlogOnline(e),C=O.getLiveBlogEndDate(e),T=O.getLiveBlogStartDate(e);return{spotId:p,isStarsRatingEnabled:a,isConnectEnabled:r,enableSSO:n,useDisqusLogin:l,verifyEmailSent:b,currentUser:i,loadMoreMessagesText:d.conversationLoadMoreMessagesText,isLoadingMoreComments:x,hasNextComments:w,direction:m,avatarsTheme:f,isSafari:u,conversation:c,isReporter:E,isLiveBlog:k,isLiveBlogOnline:S,hasCommunity:v,href:_,commentsList:M,liveBlogEndDate:C,liveBlogStartDate:T,conversationId:g,editableSSO:h,forceRegister:y}}),(function(e){return{onVerifyEmailSend:function(t){var i=t.email,s=t.spotId,o=t.url;return e((0,C.default)({email:i,spotId:s,url:o}))},onLoadMore:function(){return e((0,P.loadMore)())},handleDisqusLogin:w.initDisqusLogin,onRatingsClick:function(t){e((0,L.rankConversation)(t))},onLogin:function(){e((0,W.openLoginSelectorModal)({mode:"signup"}))},onProfileImageUpload:function(t){var i=t.userId,s=t.rawImage;e(profileImageUpload({userId:i,rawImage:s}))},onOpenUserProfileModal:function(t){var i=t.user,s=t.overrideDisplayName,o=t.overrideImageId,c=t.mode;e((0,F.openUserProfileModal)({user:i,overrideDisplayName:s,overrideImageId:o,mode:c}))}}}),null,{forwardRef:!0})(X);t.default=Z},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeFeaturedComment=function(e,t){return function(i,r){return c(this,void 0,void 0,(function(){var c;return p(this,(function(p){switch(p.label){case 0:c=r().conversation.postId,i({type:s.REMOVE_FEATURED_COMMENT,payload:e}),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,(0,o.removeAsFeatured)(t,e,(function(){a(!0)}),c)];case 2:return p.sent(),[3,4];case 3:return p.sent(),[3,4];case 4:return[2]}}))}))}},t.pinFeaturedComment=r,t.addFeaturedComment=function(e,t,i){return function(a,n){return c(this,void 0,void 0,(function(){var c;return p(this,(function(p){switch(p.label){case 0:c=n().conversation.postId,a({type:s.ADD_FEATURED_COMMENT,payload:e}),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,(0,o.setAsFeaturedMessage)(t,e,i,(function(){r(e,t)}),c)];case 2:return p.sent(),[3,4];case 3:return p.sent(),[3,4];case 4:return[2]}}))}))}},t.updateShouldFetchFeaturedComment=void 0;var s=i(39),o=i(1466),c=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},p=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},a=function(e){return{type:s.UPDATE_SHOULD_FETCH_FEATURED_COMMENT,payload:e}};function r(e,t){return function(i,a){return c(this,void 0,void 0,(function(){var c;return p(this,(function(p){switch(p.label){case 0:c=a().conversation.postId,i({type:s.PIN_FEATURED_COMMENT,payload:e}),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,(0,o.pinFeaturedCommentApi)(e,t,c)];case 2:return p.sent(),[3,4];case 3:return p.sent(),[3,4];case 4:return[2]}}))}))}}t.updateShouldFetchFeaturedComment=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.oldApiGwFetch=function(e){var t=e.endpoint,i=e.body,s=e.method,l=e.headers,d=e.spotId;return r(this,void 0,void 0,(function(){var e,r,m,f,u,v;return n(this,(function(n){switch(n.label){case 0:return e=""+p.default.urls.oldApiGw+t,r=(0,o.getStorageDeviceUuid)().uuid,d=d||(0,c.getState)().moduleOptions.spotId||"",m=a({"x-spotim-token":(0,c.getState)().authentication.token,"x-spotim-spotid":d,"x-spotim-page-view-id":window.__SPOTIM_PAGE_VIEW_ID__,"x-spotim-device-uuid":r,"Content-Type":"application/json"},l),f={method:"GET",headers:m},i&&(u="string"==typeof i?i:JSON.stringify(i)),v=a(a({},f),{body:u,method:s,mode:"cors"}),[4,fetch(e,v).then((function(e){return e.json()}))];case 1:return[2,n.sent()]}}))}))};var o=i(62),c=i(131),p=s(i(113)),a=function(){return(a=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},n=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=new(s(i(1579)).default);t.default=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportGuard=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=s(i(3)),d=o(i(35)),m=i(337),f=i(1248),u=i(437),v=i(82);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var g=function(e){(0,a.default)(i,e);var t=_(i);function i(e){var s;return(0,c.default)(this,i),(s=t.call(this,e)).guardRef=l.default.createRef(),s.onViewportChange=function(e){var t=s.props.useViewportObserver;s.isRendered&&(t&&e.isVisible||!t&&"FULL_ENTER"===e?s.onEnter():s.onLeave())},s.isRendered=!1,s.state={overflow:e.visibleOnMount?"visible":"hidden",height:e.visibleOnMount?"auto":0},s}return(0,p.default)(i,[{key:"componentDidMount",value:function(){if(!u.isChrome&&!u.isSafari){var e=this.guardRef.current;this.props.viewportObserver.getVisibilityState(e).isVisible&&this.onEnter(),this.isRendered=!0,this.updateMargins()}}},{key:"updateMargins",value:function(){var e=this.guardRef.current;if(e.childNodes.length>0&&e.childNodes[0].nodeType===Node.ELEMENT_NODE){var t=e.childNodes[0],i=window.getComputedStyle(t);e.style.margin=i.margin,u.isFirefox||v.isIE||u.isEdge||t.style.setProperty("margin","0","important")}}},{key:"onEnter",value:function(){var e=this;"visible"!==this.state.overflow&&this.setState({overflow:"visible",height:"auto"},(function(){return e.props.onSizeChange()}))}},{key:"onLeave",value:function(){if("hidden"!==this.state.overflow){var e=this.guardRef.current;if(e){for(var t=0,i=0;i<e.childNodes.length;i++)e.childNodes[i].nodeType===Node.ELEMENT_NODE&&(t+=(0,m.outerHeight)(e.childNodes[i]));this.setState({overflow:"hidden",height:t})}}}},{key:"render",value:function(){var e=this.props,t=e.children,i=e.viewportObserver,s=e.className,o=e.tagName,c=e.useViewportObserver,p=this.state,a=p.overflow,r=p.height;if(u.isChrome||u.isSafari)return l.default.createElement("div",{className:s},t);var n=l.default.createElement(o,{ref:this.guardRef,style:{overflow:a,height:r},className:s},t);return c?l.default.createElement(f.ElementObserver,{viewportObserver:i,onViewportChange:this.onViewportChange},n):n}}]),i}(l.Component);t.ViewportGuard=g,g.displayName="ViewportGuard",g.propTypes={viewportObserver:d.default.object.isRequired,children:d.default.element.isRequired,onSizeChange:d.default.func,visibleOnMount:d.default.bool,className:d.default.string,tagName:d.default.string,useViewportObserver:d.default.bool},g.defaultProps={onSizeChange:function(){},visibleOnMount:!1,className:void 0,tagName:"div"}},,,,,,,,,,function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageUserImage=void 0;var c=o(i(85)),p=o(i(34)),a=o(i(32)),r=o(i(33)),n=o(i(37)),l=o(i(38)),d=o(i(36)),m=o(i(65)),f=s(i(3)),u=o(i(14)),v=o(i(35)),_=o(i(57)),g=i(42),h=i(96),y=i(2),b=i(59),x=o(i(102)),w=i(123),M=o(i(341)),E=o(i(1389)),k=i(44),S=s(i(48));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,l.default)(this,i)}}var T=function(e){(0,n.default)(i,e);var t=C(i);function i(){var e;return(0,a.default)(this,i),(e=t.call(this)).showUserImageProfileHover=function(){e.props.enableProfileHover&&e.setState({showProfileHover:!0});var t=e.props,i=t.message,s=t.user,o=t.onMouseEnter;t.tracking.trackEvent({type:"user-profile-hovered",item_type:"main",message_id:i.id,target_id:s.id}),o&&o()},e.hideUserImageProfileHover=function(){e.setState({showProfileHover:!1})},e.handleUserProfileClick=function(){e.props.onClick("tooltip")},e.state={},e}return(0,r.default)(i,[{key:"renderUserImage",value:function(){var e,t=this,i=this.props,s=(i.size,i.onClick),o=i.user,a=i.avatarsTheme,r=i.isMe,n=i.isLoggedIn,l=i.showButton,d=i.enableProfileHover,m=i.onImageUpload,v=i.onLogin,_=i.profileHoverUser,g=i.isMobileDevice,h=i.spotId,S=i.enableSSO,C=i.editableSSO,T=i.message,I=i.isModal,R=i.token,O=i.isDisabled,P=i.isLiveBlog,N=null;d&&!g&&(N=f.default.createElement(M.default,{avatarsTheme:a,onViewProfileClick:this.handleUserProfileClick,show:this.state.showProfileHover,alignElement:function(){return(0,y.findDOMNode)(t.handler)},isMe:r,isLoggedIn:n,onLogin:v,user:_,token:R,enableSSO:S}));var A={};return g||(A={onMouseEnter:this.showUserImageProfileHover,onMouseLeave:this.hideUserImageProfileHover}),f.default.createElement("div",{"aria-hidden":"true",className:(0,u.default)((e={},(0,p.default)(e,E.default.userImageWrapper,!k.disableUserAvatar),(0,p.default)(e,E.default.userBullet,k.disableUserAvatar&&P),(0,p.default)(e,E.default.isDisabled,O),e)),ref:function(e){return t.handler=e}},f.default.createElement(x.default,(0,c.default)({user:o,imageId:o.imageId,message:T,className:E.default.messageUserImage,onClick:s,size:w.USER_IMAGE_SIZE.NORMAL,isOnline:o.isOnline,isMe:r,isLoggedIn:n,showButton:l,onImageUpload:m,onLogin:v,avatarsTheme:a,username:(0,b.getDisplayName)(o)||o.username,isHighlighted:function(e){return e.isAdmin||e.isModerator||e.isJournalist}(o),isMobileDevice:g,disableUserImageUpload:!!S&&!C&&r,isModal:I,spotId:I&&I.spotId?I.spotId:h,tabIndexType:"message-details",displayName:(0,b.getDisplayName)(o)},A)),N)}},{key:"render",value:function(){return this.renderUserImage()}}]),i}(f.Component);t.MessageUserImage=T,T.displayName="MessageUserImage",T.propTypes={avatarsTheme:v.default.string,isLoggedIn:v.default.bool.isRequired,isMe:v.default.bool,spotName:v.default.string.isRequired,message:v.default.object.isRequired,user:v.default.object.isRequired,reporterBadgeText:(0,h.requiredOrNull)(v.default.string),moderatorBadgeText:(0,h.requiredOrNull)(v.default.string),size:v.default.oneOfType([v.default.oneOf(["giant","huge","extra-large","large","medium","normal","small"]),v.default.number]),messageIndex:v.default.number,enableProfileHover:v.default.bool,onUserProfileHover:(0,h.requiredIf)(v.default.func,(function(e){return e.enableProfileHover})),profileHoverUser:(0,h.requiredOrNullIf)(v.default.object,(function(e){return e.enableProfileHover})),profileHoverPlacement:v.default.string,onClick:v.default.func,showButton:v.default.bool,onImageUpload:v.default.func,onLogin:v.default.func,isMobileDevice:v.default.bool,enableSSO:v.default.bool,editableSSO:v.default.bool,isModal:v.default.object,token:v.default.string,isLiveBlog:v.default.bool},T.defaultProps={size:"normal",messageIndex:-1,enableProfileHover:!1,showButton:!1},T.contextTypes={analyticsTrack:v.default.func.isRequired};var I=(0,m.default)((0,g.connect)((function(e){return{isMobileDevice:"mobile"===e.platform.type,spotId:e.moduleOptions.spotId,token:e.authentication.token,isLiveBlog:S.isLiveBlog(e)}})),(0,_.default)({}))(T);t.default=I},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.focusSayControl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.element,i=e.stackId,s=void 0===i?null:i,o=e.depth;return function(e,i){if(p.hostProvider.notifyHostApi(c.CURRENT_USER_TYPING_START),a.default){var m=document.body.getBoundingClientRect(),f=t.getBoundingClientRect().top-m.top;p.hostProvider.scrollTo(f,{offsetPercent:20},"incomingMessage")}var u=i(),v=u.currentUser,g=u.moduleOptions.loginUponSayControlFocus,h=(0,l.isLoggedIn)(v);g&&!h&&e((0,r.openLoginSelectorModal)()),_(i,{depth:o}),e((0,d.fetchUserSuspensionStatus)()),e({type:n.FOCUS_SAY_CONTROL,payload:{stackId:s,depth:o}})}},t.sendFocusSayControlAnalytics=_;var o=s(i(34)),c=i(52),p=i(51),a=s(i(47)),r=i(91),n=i(39),l=i(55),d=i(1396),m=i(50),f=(i(657),i(44));function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,o.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function _(e,t){var i=t.depth,s=e(),o=s.moduleOptions.postId,c=s.conversation,p=c.contentType,a=c.id,r=p===f.ContentType.Post,n={post_id:o};0===i?n=v(v({},n),{},{type:"editor-comment-focus",source:r?"post-page":"conversation",ugc_post_id:a}):i>0&&(n=v(v({},n),{},{type:"editor-reply-focus",source:r?"post-page":"conversation",ugc_post_id:a})),n&&(0,m.analyticsTrack)(n)}},function(e,t,i){var s=i(30),o=i(1429);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.EventsStream=void 0;var o=s(i(32)),c=s(i(33)),p=s(i(1484)),a=function(){function e(){(0,o.default)(this,e),this.emitter=(0,p.default)()}return(0,c.default)(e,[{key:"next",value:function(e){this.emitter.emit(e)}},{key:"subscribe",value:function(e){this.emitter.on("*",e)}},{key:"unsubscribe",value:function(e){this.emitter.off("*",e)}}]),e}();t.EventsStream=a},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonControl=void 0;var c=o(i(34)),p=o(i(129)),a=o(i(32)),r=o(i(33)),n=o(i(37)),l=o(i(38)),d=o(i(36)),m=o(i(35)),f=s(i(3)),u=o(i(14)),v=o(i(46)),_=o(i(1486));function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){(0,c.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,l.default)(this,i)}}var b=function(e){(0,n.default)(i,e);var t=y(i);function i(){var e;(0,a.default)(this,i);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).onClick=function(){var t=e.props,i=t.isDisabled,s=t.onClick;i||s()},e}return(0,r.default)(i,[{key:"render",value:function(){var e=this.props,t=e.iconSelector,i=e.className,s=e.isDisabled,o=(e.tooltipText,e.value),a=e.tagName,r=e.children,n=e.forId,l=(0,p.default)(e,["iconSelector","className","isDisabled","tooltipText","value","tagName","children","forId"]);return(0,f.createElement)(a,h(h({className:(0,u.default)(_.default.buttonControl,(0,c.default)({},_.default.disabled,s),i),value:o},l),{},{onClick:this.onClick,htmlFor:n,"data-open-web-class":"gif-button"}),f.default.createElement(v.default,{selector:t,className:_.default.icon}),r)}}]),i}(f.Component);t.ButtonControl=b,b.displayName="ButtonControl",b.propTypes={iconSelector:m.default.string.isRequired,className:m.default.string,isDisabled:m.default.bool,onClick:m.default.func,tooltipText:m.default.string,value:m.default.string,tagName:m.default.string,children:m.default.element,forId:m.default.string},b.defaultProps={className:void 0,isDisabled:!1,onClick:function(){},tooltipText:void 0,value:void 0,tagName:"button"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_LINK=t.TYPING=t.REMOVE_MEDIA=t.SELECT_ANIMATION=t.UPLOAD_IMAGE=t.TOGGLE_RICH_BAR=t.LINK_CLICK=t.ATTACHMENT_CLICK=t.QUOTE_CLICK=t.BULLETED_LIST_CLICK=t.NUMBERED_LIST_CLICK=t.TEXT_SIZE_SELECT=t.ITALIC_CLICK=t.BOLD_CLICK=void 0;t.BOLD_CLICK="BOLD_CLICK";t.ITALIC_CLICK="ITALIC_CLICK";t.TEXT_SIZE_SELECT="TEXT_SIZE_SELECT";t.NUMBERED_LIST_CLICK="NUMBERED_LIST_CLICK";t.BULLETED_LIST_CLICK="BULLETED_LIST_CLICK";t.QUOTE_CLICK="QUOTE_CLICK";t.ATTACHMENT_CLICK="ATTACHMENT_CLICK";t.LINK_CLICK="LINK_CLICK";t.TOGGLE_RICH_BAR="TOGGLE_RICH_BAR";t.UPLOAD_IMAGE="UPLOAD_IMAGE";t.SELECT_ANIMATION="SELECT_ANIMATION";t.REMOVE_MEDIA="REMOVE_MEDIA";t.TYPING="TYPING";t.ADD_LINK="ADD_LINK"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var s=i(30),o=i(1239);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},,,,function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.TextEntity=void 0;var c,p,a,r=s(i(34)),n=s(i(32)),l=s(i(33)),d=s(i(37)),m=s(i(38)),f=s(i(36)),u=s(i(172)),v=o(i(3)),_=s(i(35)),g=s(i(14)),h=s(i(227)),y=(s(i(1249)),i(1250)),b=s(i(1252)),x=i(92),w=i(138),M=i(75),E=i(56);function k(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function S(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?k(Object(i),!0).forEach((function(t){(0,r.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):k(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,m.default)(this,i)}}var T=(a=p=function(e){(0,d.default)(i,e);var t=C(i);function i(e,s){var o;return(0,n.default)(this,i),(o=t.call(this,e,s)).state={seeMoreClicked:!1},o}return(0,l.default)(i,[{key:"onSeeMore",value:function(e){var t=this.props.onHeightChanged;this.setState({seeMoreClicked:!0}),t(),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e,t=this.props,i=t.entity,s=t.mentions,o=t.noAnchors,c=t.showSeeMore,p=t.seeMoreTranslate,a=t.richText,n=t.maxChars,l=t.maxLines,d=t.preserveLinebreaks,m=t.showFullText,f=t.size,u=t.inline,_=(0,x.getText)(i),h=(0,g.default)(b.default.entity,b.default.textEntity,(e={},(0,r.default)(e,b.default.inline,u),(0,r.default)(e,b.default.small,"small"===f),(0,r.default)(e,b.default.large,"large"===f),(0,r.default)(e,b.default.xLarge,"x-large"===f),(0,r.default)(e,b.default.isEmpty,""===_),e)),k=s.map((function(e){return(0,w.getMentionedUser)(e)})).map((function(e){return e?{id:e.id,displayName:(0,M.getDisplayName)(e)}:null}));k=k.filter((function(e){return null!==e})),(this.state.seeMoreClicked||m)&&(n=null,l=null);var C={className:h,style:b.default,users:k,richText:a,preserveLinebreaks:d,noAnchors:o,maxChars:n,maxBlocks:l};if(c&&!this.state.seeMoreClicked&&!m){var T="general.seeMore."+p;C=S(S({},C),{},{appendElementOnOverflow:v.default.createElement(E.TranslatedText,{"data-spot-im-class":"see-more",className:b.default.seeMore,onClick:this.onSeeMore,textKey:T,key:"seeMore"},"See more")})}return(0,y.createTextElement)(v.createElement,_,C)}}]),i}(v.Component),p.displayName="TextEntity",p.propTypes={entity:_.default.object.isRequired,mentions:_.default.arrayOf(_.default.object).isRequired,maxChars:_.default.number,maxLines:_.default.number,showSeeMore:_.default.bool,onHeightChanged:_.default.func,seeMoreTranslate:_.default.oneOf(["short","long"]),noAnchors:_.default.bool,shortenText:_.default.bool,richText:_.default.bool,preserveLinebreaks:_.default.bool,showFullText:_.default.bool,size:_.default.string,inline:_.default.bool},p.defaultProps={maxChars:1500,maxLines:15,showSeeMore:!0,onHeightChanged:function(){},seeMoreTranslate:"long",noAnchors:!1,shortenText:!0,richText:!0,preserveLinebreaks:!0,showFullText:!1},c=a,(0,u.default)(c.prototype,"onSeeMore",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"onSeeMore"),c.prototype),c);t.TextEntity=T},,,,,,,,,,,,,,,,function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=s(i(3)),m=o(i(14)),f=o(i(1258)),u=i(45),v=i(43);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var g=function(e){(0,a.default)(i,e);var t=_(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"render",value:function(){var e=this.props,t=e.messagesCount,i=e.onClick,s=(0,m.default)(f.default.showNewButton,"brand-bg-color","brand-bg-color-hover");return d.default.createElement("div",{className:f.default.showNewButtonWrapper},d.default.createElement("div",{className:f.default.leftSeparator}),d.default.createElement(v.Button,{mode:"primary",className:s,onClick:i},d.default.createElement("span",null,t>1&&d.default.createElement(u.TranslationWrapper,{i18nKey:"inpage.conversation.showNewMessages",values:{messagesCount:t}}),1===t&&d.default.createElement(u.TranslationWrapper,{i18nKey:"inpage.conversation.showNewMessages",values:{messagesCount:t}},"Show 1 new comment"))),d.default.createElement("div",{className:f.default.rightSeparator}))}}]),i}(d.Component);g.propTypes={messagesCount:l.default.number,onClick:l.default.func},g.defaultProps={messagesCount:"",onClick:function(){}};var h=g;t.default=h},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTyping=void 0;var c,p=o(i(3)),a=s(i(14)),r=s(i(1260)),n=i(1262),l=s(i(102)),d=i(123),m=i(44),f=i(59),u=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.render=function(){var e,t,i=this.props,s=i.users,o=i.className,c=i.size,u=i.typingUsersCount,v=i.spotId,_=i.avatarsTheme;if(u>0&&s.length>0){var g=s[s.length-1],h="large"===c?"medium":"normal",y=(0,a.default)(o,r.default.conversationTyping,((e={})[r.default.small]="small"===c,e)),b=(0,a.default)(((t={})[r.default.userImageWrapper]=!m.disableUserAvatar||u>1,t[r.default.counter]=u>1,t),r.default[h]),x={height:d.USER_IMAGE_SIZE.NORMAL+"px",width:d.USER_IMAGE_SIZE.NORMAL+"px"};return p.default.createElement("div",{className:y},p.default.createElement("div",{className:b,style:m.disableUserAvatar&&u>1?x:{},"data-typing-users-count":u},p.default.createElement(l.default,{avatarsTheme:_,isOnline:!1,size:d.USER_IMAGE_SIZE.NORMAL,showButton:!1,isHighlighted:!!g.id&&function(e){return e.isAdmin||e.isModerator||e.isJournalist}(g),imageId:g.imageId||"",spotId:v||"",displayName:(0,f.getDisplayName)(g)})),p.default.createElement("div",{className:r.default.details,"data-spot-im-class":"typing-animation-box"},p.default.createElement(n.TypingAnimation,{transparent:!0})))}return null},t.defaultProps={size:"large",users:[]},t}(p.Component);t.ConversationTyping=v},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageStack=void 0;var c,p=o(i(65)),a=s(i(3)),r=o(i(14)),n=i(42),l=i(336),d=o(i(4)),m=o(i(1270)),f=o(i(679)),u=o(i(1542)),v=o(i(1545)),_=o(i(1552)),g=o(i(1555)),h=i(1556),y=i(675),b=o(i(670)),x=s(i(48)),w=i(1558),M=i(105),E=i(51),k=o(i(1559)),S=o(i(117)),C=i(49),T=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),I=d.default.get("isConversationPageTriggered",!1),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showPostCommentAction=!1,t.messageRef=a.default.createRef(),t.viewMessage=function(e){t.messageRef.current&&t.messageRef.current.wrappedInstance.viewMessage(e)},t}return T(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.stack,i=(e.isMobileDevice,e.highlightMessage),s=e.shouldHighlight,o=e.shouldHighlightImmediate,c=e.direction,p=e.avatarsTheme,a=e.t;o?i(t.message.id):s&&(0,h.showHighlightMessageSticky)(t.message,c,p,(function(e){var t=e.messageId;return i(t)}),a)},t.prototype.hostProviderNotify=function(e,t){E.hostProvider.notifyHostApi(e,t)},t.prototype.render=function(){var e,t=this.props,i=t.stack,s=t.className,o=t.starsRating,c=t.enterAnimationDisabled,p=t.messageIndex,n=t.repliesMaxDepth,d=t.isEdit,h=t.showReplySayControl,y=t.isTheFirstMessage,b=t.isLastMessageInThread,x=(t.shouldCollapseReplies,t.isPostCommentActionEnabled);h&&(e=(0,S.default)(i,"message.userDisplayName")||(0,S.default)(i,"message.user.displayName")||(0,S.default)(i,"message.user.username"));var w=null;if(!i.isAggregated){var E=(0,r.default)(k.default.messageStack,s),C=i.message;if(C.isCollapsed)return null;w=a.default.createElement("div",{className:E},!d&&a.default.createElement(m.default,{ref:this.messageRef,message:C,enterAnimationDisabled:c,messageIndex:p,isTheFirstMessage:y}),d&&a.default.createElement(f.default,{autoFocus:!0,stackId:i.id,className:(0,r.default)(k.default.replyWrapper,k.default["depth-"+(Math.min(C.depth,n)-1)]),rootMessageId:C.rootMessageId||C.id,messageToEdit:C,parentMessageId:C.parentMessageId,userImageSize:"medium",isCollapsed:!0,depth:C.depth,starsRating:o,isEditRichEditor:!0}),a.default.createElement(g.default,{message:C,repliesMaxDepth:n,isLegacyEnabled:x&&C.isMine}),h&&a.default.createElement(f.default,{starsRating:o,autoFocus:!0,focusOnUpdate:!1,stackId:i.id,className:(0,r.default)(k.default.replyWrapper,k.default["depth-"+Math.min(C.depth,n-1)]),rootMessageId:C.rootMessageId||C.id,replyToStackId:i.id,replyToMessage:C,parentMessageId:C.id,userImageSize:"medium",depth:C.depth+1,isEditRichEditor:!1,placeholderTextKey:"richEditor.placeholder.replyTo",placeholderReplyToName:e}),a.default.createElement(u.default,{messageStack:i}),a.default.createElement(v.default,{messageStack:i,depth:C.depth,onDoneLoadingReplies:this.props.onDoneLoadingReplies}),a.default.createElement(_.default,{depth:C.depth,isLastMessageInThread:b,messageStack:i,hostProviderNotify:this.hostProviderNotify})),C.isNew&&!C.isMine&&(w=a.default.createElement(l.ViewportGuard,{viewportObserver:M.viewportObserver},w))}return w},t.defaultProps={isEdit:!1,starsRating:-1,messageIndex:-1,shouldHighlight:!1,shouldHighlightImmediate:!1,isMobileDevice:!1,showReplySayControl:!0,highlightMessage:function(){},isTheFirstMessage:!1,onDoneLoadingReplies:function(){},shouldCollapseReplies:!1},t}(a.Component);t.MessageStack=R;var O=(0,p.default)((0,n.connect)((function(e,t){var i=e.moduleOptions,s=e.messageSayControls,o=e.comments,c=e.conversation,p=c.isSubmittingReply,a=c.submittedReplyParentMessageId,r=c.isSubmittingEdit,n=c.editedMessageId,l=t.stack,d=i.direction,m=(i.isConnectEnabled,i.repliesMaxDepth),f=(i.enableSSO,i.avatarsTheme),u=i.highlightedCommentId,v=i.highlightedReplyId,_=i.highlightImmediate,g=i.isMobile,h=i.shouldCollapseReplies,y=l.message.id,b=o.isPostCommentActionEnabled,w=y===u||y===v,M=w&&_,E=s[y],k=x.isMobile(e)||g,S=x.wasAggregated(e,l.id),C=x.isLiveBlog(e),T=0===l.message.depth,I=!!(null==E?void 0:E.isEdit)||r&&n===y;return{showReplySayControl:!!(p&&a===y||E&&E.isCreate&&(!C||!T)),starsRating:E&&E.starsRating,isEdit:I,direction:d,repliesMaxDepth:m,avatarsTheme:f,isPostCommentActionEnabled:b,messageSayControl:E,enterAnimationDisabled:S,isMobileDevice:k,shouldHighlight:w,shouldHighlightImmediate:M,shouldCollapseReplies:h}}),(function(e){return{expandChildren:function(t){e((0,w.expandChildren)(t))},highlightMessage:function(t){(0,b.default)((function(){e((0,y.scrollToMessage)(t,I))}))}}}),null,{forwardRef:!0}),(0,C.withTranslation)(void 0,{withRef:!0}))(R);t.default=O},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.label,i=e.showSpinner;return o.default.createElement("div",{className:(0,c.default)(a.default.wrapper,i&&a.default.showSpinner)},o.default.createElement("div",{className:a.default.label},t),o.default.createElement("div",{className:a.default.spinnerWrapper},o.default.createElement(p.default,null)))};var o=s(i(3)),c=s(i(14)),p=s(i(90)),a=s(i(1381))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageElements=o,t.isMessageInViewport=function(e){var t=o({messageId:e});return t.length>0&&(i=t[0],s.viewportObserver.getVisibilityState(i).isVisible);var i},t.isMessageInDocument=function(e){return o({messageId:e}).length>0};var s=i(105);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.messageId,i=void 0===t?void 0:t,s=e.depth,o=void 0===s?void 0:s,c=[];i?c.push('[data-message-id="'.concat(i,'"]')):c.push("[data-message-id]"),void 0!==o&&c.push('[data-message-depth="'.concat(o,'"]'));var p=document.querySelectorAll(c.join(""));return[].slice.call(p)}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openMessageSayControl=function(e){var t=e.messageId;return function(){var e=(0,p.default)(c.default.mark((function e(i,s){var o,p;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=s(),p=r.isLiveBlog(o),(0,n.sendFocusSayControlAnalytics)(s,{depth:1}),i({type:a.OPEN_MESSAGE_SAY_CONTROL,payload:{messageId:t,isLiveBlog:p}});case 4:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}()};var c=o(i(40)),p=o(i(41)),a=i(39),r=s(i(48)),n=i(347)},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.Content=void 0;var c,p=o(i(3)),a=s(i(14)),r=i(106),n=i(75),l=i(157),d=s(i(1397)),m=i(56),f=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getMentionEndingKey=function(e){var t="more";switch(e){case 0:t="zero";break;case 1:t="one"}return t},t}return f(t,e),t.prototype.render=function(){var e,t=this.props,i=t.item,s=t.user,o=t.message,c=i.totalCount,f="notifications.types."+i.type,u=i.conversationTitle,v=(0,a.default)(d.default.title,((e={})[d.default.noMessage]=!o,e)),_=null;if(o){var g=(0,r.getCleanText)(o);g=g.replace(/\n/gm," ").replace(/\&nbsp;/gm," "),_=p.default.createElement("em",{className:d.default.message},g)}i.type===l.NotificationType.MENTION&&(f+="."+this.getMentionEndingKey(c));var h=null,y="";switch(i.type){case l.NotificationType.MENTION:case l.NotificationType.REPLIED_YOUR_MESSAGE:s&&(y=o&&o.userDisplayName||(0,n.getDisplayName)(s)),h=p.default.createElement(m.TranslatedText,{className:d.default.description,textKey:f,params:{totalCount:c,username:y},pluralValue:c});break;case l.NotificationType.LIKED_MESSAGE:s&&(y=(0,n.getDisplayName)(s)),h=p.default.createElement(m.TranslatedText,{className:d.default.description,textKey:f,params:{totalCount:c,username:y},pluralValue:c});break;default:h=p.default.createElement(m.TranslatedText,{className:d.default.description,textKey:f,params:{totalCount:c},pluralValue:c})}return p.default.createElement("div",{className:d.default.content},h,p.default.createElement("span",{className:v},u),_)},t}(p.Component);t.Content=u},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getUpVotes=function(e){var t=e.messageDepth,i=e.messageId,s=e.conversationId,u=e.offset,v=e.count;return function(){var e=(0,p.default)(o.default.mark((function e(p,_){var g,h,y,b,x,w,M,E;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=r.default.get("spotId"),h=_().conversation.postId,p({type:f.REQUEST_GET_UP_VOTES,payload:{messageDepth:t,messageId:i,conversationId:s,spotId:g,offset:u,count:v}}),e.prev=3,e.next=6,(0,n.getUpvotesRequest)(t,i,g,u,v,h);case 6:y=e.sent,b=_(),x=b.comments.list.messages,w=b.currentUser,M=x[i],E=l.default.map(y.Users,(0,d.getUsersMap)("",y.Users)),M.message.isVotedUp&&(E=(0,a.default)([].concat((0,c.default)(E),[w]),"id")),p({type:f.RESPONSE_GET_UP_VOTES,payload:{users:E,messageDepth:t,conversationId:s,messageId:i,spotId:g,offset:u,count:v}}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),(0,m.default)(f.RESPONSE_GET_UP_VOTES,e.t0),p({type:f.RESPONSE_GET_UP_VOTES,payload:{error:e.t0},error:!0});case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,i){return e.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(54)),p=s(i(41)),a=s(i(1410)),r=s(i(4)),n=i(1411),l=s(i(64)),d=i(568),m=s(i(5)),f=i(39)},function(e,t,i){var s=i(30),o=i(1413);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(3)),p=s(i(14)),a=i(43),r=i(49),n=i(57),l=s(i(46)),d=s(i(90)),m=i(647),f=i(75),u=s(i(47)),v=i(106),_=s(i(1422)),g=s(i(1424)),h=s(i(53)),y=i(69),b=i(44),x=function(e){var t=e.show,i=e.onClose,s=e.message,o=e.spotName,x=e.currentUser,w=(0,c.useState)(""),M=w[0],E=w[1],k=(0,c.useState)(!1),S=k[0],C=k[1],T=(0,c.useState)(""),I=T[0],R=T[1],O=(0,r.useTranslation)().t,P=(0,n.useTracking)();function N(e,t){return'"'+e+'" â€” '+t}function A(e,t){if(t.preventDefault(),"link"!==e){var i=function(e,t,i){var o=encodeURIComponent(t);switch(e){case"facebook":return"https://www.facebook.com/sharer/sharer.php?u="+o;case"email":return"mailto:?subject="+i+"&body="+o;case"twitter":var c=(0,v.getCleanText)(s),p=(0,f.getDisplayUsername)(s.user),a=N("",p),r=N(c.substring(0,113-a.length)+"...",p);return"https://twitter.com/intent/tweet?text="+encodeURIComponent(r)+"&url="+o}}(e,M,I),o=["width=500","height=400","left="+(window.innerWidth-500)/2,"top="+(window.innerHeight-400)/2.5].join(",");if("email"===e){var c=u.default?"_top":"_blank";window.open(i,c)}else window.open(i,void 0,o);P.trackEvent({type:"share-message-clicked",item_type:"main",target_type:e,user_id:x.id,is_registered:x.isRegistered})}else C(!0)}return(0,c.useEffect)((function(){if(t&&!M){var e,i=(0,f.getDisplayName)(x);(0,m.getMessageShareUrl)(s.depth,s.id).then((function(e){E(e)})),e=O("share.emailSubject",{username:i,spotName:o}),R(e),(0,h.default)({type:"share-modal-shown"})}}),[t]),c.default.createElement(a.Modal,{disableCustomBodyScroll:b.disableModalDefaultScroll,shadowRootCssModules:y.isUseShadowDomOnOverlays?["conversation"]:void 0,isLtr:b.isLtr,closeButton:!0,className:_.default.shareModal,showModal:t,onClose:i,modalTitle:O("shareModal.title","Share Post"),size:"sm",fullScreenMobile:!1},!M&&c.default.createElement("div",{className:_.default.spinnerWrapper},c.default.createElement(d.default,null)),c.default.createElement("div",{className:(0,p.default)(_.default.shareButtons,M&&_.default.show)},c.default.createElement("a",{href:"#",onClick:A.bind(null,"facebook"),className:_.default.shareButton},c.default.createElement(l.default,{className:(0,p.default)(_.default.icon,_.default.facebookIcon),selector:"facebookIcon"})),c.default.createElement("a",{href:"#",onClick:A.bind(null,"twitter"),className:_.default.shareButton},c.default.createElement(l.default,{className:(0,p.default)(_.default.icon,_.default.twitterIcon),selector:"twitterIcon"})),c.default.createElement("a",{href:"#",onClick:A.bind(null,"email"),className:_.default.shareButton},c.default.createElement(l.default,{className:(0,p.default)(_.default.icon,_.default.emailIcon),selector:"emailIcon"})),c.default.createElement("a",{href:"#",onClick:A.bind(null,"link"),className:_.default.shareButton},c.default.createElement(l.default,{className:(0,p.default)(_.default.icon,_.default.linkIcon),selector:"linkIcon"}))),S&&c.default.createElement("div",{className:_.default.linkWrapper},c.default.createElement("input",{className:_.default.linkInput,value:M}),c.default.createElement("button",{className:_.default.copyLinkButton,onClick:function(){(0,g.default)(M)}},O("share.copy","Copy"))))};t.default=x},function(e,t,i){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.Badges=void 0,t.Badges=s,function(e){e.MODERATOR="moderator",e.REPORTER="reporter",e.JOURNALIST="journalist",e.COMMUNITY_MODERATOR="community-moderator",e.ADMIN="admin",e.SUBSCRIBER="subscriber"}(s||(t.Badges=s={}))},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.UserPoints=void 0;var o=s(i(3)),c=s(i(1433)),p=i(43),a=i(45),r=i(47),n=i(82);t.UserPoints=function(e){var t,i,s=e.total,l=void 0===s?1:s,d=e.isLtr,m=void 0===d||d;return o.default.createElement("div",{className:c.default.pointsWrapper},o.default.createElement("span",{className:c.default.dotSeparator}),o.default.createElement(p.Tooltip,{isLtr:m,placement:"bottom",trigger:(0,r.isMobile)()?"click":"hover",onShowChange:function(e){return e&&void 0},tooltipContent:o.default.createElement("div",{className:c.default.tooltipWrapper},o.default.createElement(p.Typography,{type:"infoXs",color:"#fff"},o.default.createElement(a.TranslationWrapper,{i18nKey:"user.reputation.description"},"Reputation points are measured by how other community members respond to your contributions. The more positive impact you make, the more points you gain.")),o.default.createElement(p.Button,{className:c.default.learnMoreBtn,onClick:function(){var e,t;null===(t=null===(e=null===window||void 0===window?void 0:window.__OPEN_WEB__)||void 0===e?void 0:e.renderReputationDescriptionModal)||void 0===t||t.call(e)}},o.default.createElement(p.Typography,{type:"infoXs",weight:"bold",color:"#fff"},o.default.createElement(a.TranslationWrapper,{i18nKey:"realtimeModeration.learnMore"},"Learn More"))))},o.default.createElement(p.Typography,{type:"infoSm"},(t=(0,n.parseNumber)(l),i=l,o.default.createElement(a.TranslationWrapper,{i18nKey:"user.reputation.point",count:i,values:{points:t}},t," Points")))))}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i(3)),c=i(1436),p=i(49),a=i(43),r=function(){return(r=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};var l=function(e){var t=(0,p.useTranslation)().t;function i(){var i=e.date,s="number"==typeof i?new Date(1e3*i):i;return(0,c.toolTipDate)(s,t)}e.longDate;var s=n(e,["longDate"]);return o.default.createElement(a.Typography,{type:"infoSm"},o.default.createElement("time",r({},s,{"aria-label":i(),title:i()}),function(){var i=e.date,s=e.longDate,o="number"==typeof i?new Date(1e3*i):i;return(0,c.prettyDate)(o,s,t)}()))};t.default=l},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.LinkEntity=function(e){var t=e.entity,i=e.noAnchors,s=e.className;s=(0,o.default)(p.default.entity,p.default.linkEntity,s);var r=(0,c.getThumbnailUrl)(t),n=a.default.createElement("div",{className:s},a.default.createElement("div",{className:p.default.thumbWrapper},a.default.createElement("img",{className:p.default.thumbnail,src:r})),a.default.createElement("div",{className:p.default.metadata},a.default.createElement("div",{className:p.default.title},t.title),a.default.createElement("div",{className:p.default.domain},(0,c.getDomain)(t))));return i?n:a.default.createElement("a",{className:p.default.link,href:t.url,target:"_blank",rel:"noopener noreferrer nofollow"},n)};var o=s(i(14)),c=i(232),p=s(i(1442)),a=s(i(3))},function(e,t,i){"use strict";(function(e){var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEntity=void 0;var c=o(i(3)),p=s(i(14)),a=i(147),r=s(i(1444)),n=i(43),l=i(44),d=i(69),m=function(){return(m=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};t.ImageEntity=function(t){var i,s,o=t.entity,f=t.className,u=t.size,v=(t.noAnchors,t.thumbnail),_=void 0!==v&&v,g=(0,c.useState)(!1),h=g[0],y=g[1],b=(0,a.getImageUrl)(o);f=(0,p.default)(r.default.entity,r.default.imageEntity,((i={})[r.default.small]="small"===u,i),f);var x=null;_&&(x=(0,a.getThumbnailUrl)(o));var w=x||b,M="community"===e.env.MODULE?((s={})["data-src"]=w,s):{imageSrc:w};return c.default.createElement(c.default.Fragment,null,c.default.createElement(n.Button,{className:f,onClick:function(){return y(!0)}},c.default.createElement("img",m({},M,{src:w}))),c.default.createElement(n.ImageLightbox,{shadowRootCssModules:d.isUseShadowDomOnOverlays?["conversation"]:null,showModal:h,isLtr:l.isLtr,onClose:function(){y(!1)},imageSrc:w,isShowAnimations:!0}))}}).call(this,i(84))},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationEntity=function(e){var t=e.entity,i=e.className,s=e.maxWidth,o=(0,c.useRef)(),l=(0,c.useRef)();(0,c.useEffect)((function(){(0,n.calcImageSize)(t,o,l,s)}));var d=t.originalUrl;i=(0,p.default)(r.default.entity,r.default.animationEntity,i);var m=c.default.createElement("img",{src:d});(0,a.isMobile)()||(m=c.default.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer"},m));return c.default.createElement("div",{ref:o},c.default.createElement("div",{ref:l,className:i},m))};var c=o(i(3)),p=s(i(14)),a=i(47),r=s(i(1446)),n=i(1448)},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.VideoEntity=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=s(i(3)),m=o(i(35)),f=o(i(14)),u=i(233),v=o(i(46)),_=o(i(1449));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var h=function(e){(0,r.default)(i,e);var t=g(i);function i(e,s){var o;return(0,p.default)(this,i),(o=t.call(this,e,s)).playVideo=function(e){e.preventDefault(),o.setState({isPlaying:!0})},o.state={isPlaying:!1},o}return(0,a.default)(i,[{key:"componentWillMount",value:function(){var e=this.props,t=e.entity,i=e.useThumbnail;this.imageUrl=i?(0,u.getThumbnailUrl)(t):(0,u.getMediaImageUrl)(t)}},{key:"render",value:function(){var e=this.props,t=e.entity,i=e.dontPlay,s=e.className,o=e.size,p=null;if(s=(0,f.default)(_.default.entity,_.default.videoEntity,s,(0,c.default)({},_.default.small,"small"===o)),this.state.isPlaying&&!i){var a=t.embed.match(/src="(\S*)"/i)[1];p=d.default.createElement("div",{className:_.default.screen},d.default.createElement("iframe",{src:a,width:"100%",height:"100%",className:_.default.embedlyEmbed,scrolling:"no",frameBorder:"0",allowFullScreen:!0})),s+=" playing"}else p=d.default.createElement("a",{className:_.default.preview,href:"#spotim-play-video",onClick:this.playVideo},d.default.createElement(v.default,{selector:"youtubeIcon",className:(0,f.default)(_.default.playVideo,_.default.icon)}),d.default.createElement("img",{className:_.default.thumb,src:this.imageUrl}),d.default.createElement("div",{className:(0,f.default)(_.default.text,_.default.ellipsis)},d.default.createElement("div",{className:_.default.youtube},d.default.createElement(v.default,{selector:"youtubeIcon",className:(0,f.default)(_.default.youtubeLogo)}),"YouTube"),t.title));return d.default.createElement("div",{className:s},p)}}]),i}(d.Component);t.VideoEntity=h,h.displayName="VideoEntity",h.propTypes={entity:m.default.object.isRequired,useThumbnail:m.default.bool,dontPlay:m.default.bool,className:m.default.string,size:m.default.string},h.defaultProps={useThumbnail:!1,dontPlay:!1,className:void 0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyHostEvent=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return s.hostProvider.notifyHostApi.apply(s.hostProvider,[e].concat(i)),{type:"NOTIFY_HOST_EVENT",payload:{notifyType:e,args:i}}},t.NOTIFY_HOST_EVENT=void 0;var s=i(51);t.NOTIFY_HOST_EVENT="NOTIFY_HOST_EVENT"},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getBasicUserProfile=function(e,t,i){return function(){var s=(0,c.default)(o.default.mark((function s(c,l){var d,m,f,u,v;return o.default.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return d=l(),m=d.moduleOptions.spotId,c({type:a.GET_BASIC_USER_PROFILE_START,payload:{userId:e,spotId:m}}),s.prev=2,s.next=5,p.default.getBasicProfile(e,m);case 5:f=s.sent,u=f.body,v=(0,n.parseUser)(u),t&&(v.displayName=t),i&&(v.imageId=i),c({type:a.GET_BASIC_USER_PROFILE_END,payload:{user:v}}),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(2),(0,r.default)("failed to get user profile",s.t0),c({type:a.GET_BASIC_USER_PROFILE_END,payload:{error:s.t0},error:!0});case 17:case"end":return s.stop()}}),s,null,[[2,13]])})));return function(e,t){return s.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(41)),p=s(i(1458)),a=i(39),r=s(i(5)),n=i(59)},,function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMessage=function(e){var t=e.message;return function(e,i){return v(this,void 0,void 0,(function(){var s,o,p,v,h,y,b,x,w;return _(this,(function(_){switch(_.label){case 0:e({type:r.DELETE_MESSAGE_START,payload:{message:t}}),(0,d.default)("[Conversation] - "+r.DELETE_MESSAGE_START+" - "+(0===t.depth?"comment":"reply")),s=i(),o=s.conversation,p=s.moduleOptions.postId,v=o.messagesCount,h=c.default.get("tenant_config.moderation.delete_v2_enabled",!1)||o.contentType===u.ContentType.Post,(0,n.notifyConversationRankChange)(o.id,o.starsRatingCount,o.averageStarsRating,o.messagesCount),_.label=1;case 1:return _.trys.push([1,8,,9]),y=void 0,b=t.rootMessageId,h?[4,f.deleteMessage(t.id,p)]:[3,3];case 2:return y=_.sent(),[3,7];case 3:return t.depth>0?[4,a.default.deleteReply(b,t.id)]:[3,5];case 4:return y=_.sent(),[3,7];case 5:return[4,a.default.deleteComment(b)];case 6:y=_.sent(),_.label=7;case 7:return(x=g(y.body).conversation).messagesCount=v,(0,d.default)("[Conversation] - "+r.DELETE_MESSAGE_END+" - "+(0===t.depth?"comment":"reply")),e({type:r.DELETE_MESSAGE_END,payload:{conversation:x,starsRating:t.starsRating||0}}),"top"===t.featuredComment&&e((0,m.updateShouldFetchFeaturedComment)(!0)),[3,9];case 8:return w=_.sent(),(0,l.default)(r.DELETE_MESSAGE_END,w),e({type:r.DELETE_MESSAGE_END,payload:{error:w},error:!0}),[3,9];case 9:return[2]}}))}))}},t.parse=g;var c=o(i(4)),p=o(i(64)),a=o(i(124)),r=i(39),n=i(176),l=o(i(5)),d=o(i(53)),m=i(148),f=s(i(237)),u=i(44),v=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},_=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};function g(e){return p.default.map(e,{etag:"conversation.etag",messages_count:"conversation.messagesCount",comments_count:"conversation.commentsCount",soft_deleted:"rootMessage.isDeleted","comment.id":"rootMessage.id","comment.replies_count":"rootMessage.repliesCount"})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openEditSayControl=function(e){var t=e.messageId,i=e.starsRating;return{type:s.OPEN_EDIT_SAY_CONTROL,payload:{messageId:t,starsRating:i}}};var s=i(39)},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getUserWhiteListStatus=t.changeUserWhiteListStatus=void 0;var o=s(i(40)),c=s(i(41)),p=i(39),a=i(133),r=function(e,t){if(e.user.set){var i=e.user.set("isWhiteListed",t);e.set("user",i)}else e.user.isWhiteListed=t;return{type:p.WHITE_LIST_USER_STATUS,payload:{message:{id:e.id},isWhiteListed:t}}};t.changeUserWhiteListStatus=function(e,t){return function(){var i=(0,c.default)(o.default.mark((function i(s,c){var p,n,l;return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(p=c(),n=p.moduleOptions.spotId,"add"!==e){i.next=8;break}return i.next=4,a.addWhiteListUser.execute(n,t.user.id);case 4:(l=i.sent).isWhiteListed=!0,i.next=12;break;case 8:return i.next=10,a.removeWhiteListUser.execute(n,t.user.id);case 10:(l=i.sent).isWhiteListed=!1;case 12:l.isSuccess&&s(r(t,l.isWhiteListed));case 13:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()};t.getUserWhiteListStatus=function(e){return function(){var t=(0,c.default)(o.default.mark((function t(i,s){var c,p,n,l;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s(),p=c.moduleOptions.spotId,t.next=3,a.getWhiteListUserStatus.execute(p,e.user.id);case 3:n=t.sent,l=n.isWhiteListed,i(r(e,l));case 6:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getPinMessageStatus=t.changePinMessageStatus=void 0;var o=s(i(40)),c=s(i(41)),p=i(39),a=i(133),r=function(e,t){return{type:p.PIN_MESSAGE_STATUS,payload:{message:{id:e.id,userId:e.user.id,isPinned:t}}}};t.changePinMessageStatus=function(e,t){return function(){var i=(0,c.default)(o.default.mark((function i(s,c){var p,n,l;return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(p=c(),n=p.moduleOptions.spotId,"add"!==e){i.next=8;break}return i.next=4,a.addPinnedMessage.execute(n,t.id);case 4:(l=i.sent).isPinned=!0,i.next=12;break;case 8:return i.next=10,a.removePinnedMessage.execute(n,t.id);case 10:(l=i.sent).isPinned=!1;case 12:l.isSuccess&&s(r(t,l.isPinned));case 13:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}()};t.getPinMessageStatus=function(e){return function(){var t=(0,c.default)(o.default.mark((function t(i,s){var c,p,n,l;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s(),p=c.moduleOptions.spotId,t.next=3,a.getPinnedMessageStatus.execute(p,e.id);case 3:n=t.sent,l=n.isPinned,i(r(e,l));case 6:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i,c){var p=c().moduleOptions.elementId;(0,s.scrollAndHighlightMessage)(e,p,t),i((0,o.markMessage)({id:e}))}};var s=i(636),o=i(635)},,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openEmailSignupModal=function(e){return v.apply(this,arguments)},t.openLoginSelectorModal=function(){return _.apply(this,arguments)},t.openDisqusRegistrationModal=function(e,t,i){return f(n.openDisqusRegistrationModalEvent,e,t,i)},t.openReportMessageModal=function(e){return f(n.openReportMessageEvent,e)},t.openDialogModal=function(e){return f(n.openDialogModalEvent,e)},t.openStarsRatingModal=function(e,t,i){return f(n.openStarsRatingModalEvent,e,t,i)},t.openSignupWizardModal=function(e,t){return g.apply(this,arguments)},t.openVotersModal=function(e,t,i){return h.apply(this,arguments)},t.openEmailLoginModal=function(){return y.apply(this,arguments)},t.openShareModal=function(e){return f(n.openShareModalEvent,e)},t.openCommunityQuestionModal=function(e,t){return f(n.openInputModalEvent,{title:t("modals.communityQuestion.title"),description:t("modals.communityQuestion.description"),placeholder:t("modals.communityQuestion.placeholder"),communityQuestion:e})},t.openCommunityGuidelinesModal=function(e){return b.apply(this,arguments)};var o=s(i(77)),c=s(i(40)),p=s(i(41)),a=i(131),r=i(51),n=i(114),l=i(55);function d(){return m.apply(this,arguments)}function m(){return(m=(0,p.default)(c.default.mark((function e(){var t,i,s;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,a.getState)(),i=t.moduleOptions,s=i.spotId,!i.enableModals){e.next=4;break}return e.next=4,r.hostProvider.loadModals(s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return u.apply(this,arguments)}function u(){return(u=(0,p.default)(c.default.mark((function e(t){var i,s,p,a,n,l,m=arguments;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:for(i=m.length,s=new Array(i>1?i-1:0),p=1;p<i;p++)s[p-1]=m[p];return e.next=5,r.hostProvider.communicate.apply(r.hostProvider,[t].concat(s));case 5:return a=e.sent,n=(0,o.default)(a,1),l=n[0],e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=(0,p.default)(c.default.mark((function e(t){var i,s,p;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.hostProvider.syncToken(!1);case 2:return i=e.sent,s=(0,o.default)(i,1),p=s[0],e.abrupt("return",f(n.openEmailSignupModalEvent,t,p));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=(0,p.default)(c.default.mark((function e(){var t,i,s,p,d,m,u,v,_,g,h,y,b;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.hostProvider.syncToken(!1);case 2:if(t=e.sent,i=(0,o.default)(t,1),s=i[0],p=(0,a.getState)(),d=p.currentUser,m=p.moduleOptions,u=m.spotId,v=m.shouldOpenLogin,_=m.href,g=m.connectTypes,h=m.isConnectEnabled,y=m.enableSSO,!v||!h||y||(0,l.isLoggedIn)(d)){e.next=11;break}return e.next=9,f(n.openLoginSelectorModalEvent,{spotId:u,token:s,sourceUrl:_,connectTypes:g});case 9:b=e.sent,d=b;case 11:return e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=(0,p.default)(c.default.mark((function e(t,i){var s,p,a;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.hostProvider.syncToken(!1);case 2:return s=e.sent,p=(0,o.default)(s,1),a=p[0],e.abrupt("return",f(n.openSignupWizardModalEvent,t,i,a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,p.default)(c.default.mark((function e(t,i,s){var p,a,l;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.hostProvider.syncToken(!1);case 2:return p=e.sent,a=(0,o.default)(p,1),l=a[0],e.abrupt("return",f(n.openVotersModalEvent,t,i,s,l));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=(0,p.default)(c.default.mark((function e(){var t,i,s;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.hostProvider.syncToken(!1);case 2:return t=e.sent,i=(0,o.default)(t,1),s=i[0],e.abrupt("return",f(n.openEmailLoginModalEvent,!1,s));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=(0,p.default)(c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(n.openCommunityGuidelinesModalEvent,t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.userId,i=e.spotId,s=e.deleteSpotUserContent;o.default.blockUser(t,i,s)};var o=s(i(124))},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageSayControl=void 0;var c,p=o(i(3)),a=s(i(35)),r=i(42),n=s(i(4)),l=s(i(47)),d=i(1475),m=i(1476),f=i(1477),u=i(347),v=i(680),_=i(231),g=i(681),h=i(1479),y=i(682),b=i(91),x=o(i(48)),w=i(55),M=i(683),E=i(684),k=o(i(87)),S=i(50),C=i(238),T=i(685),I=i(93),R=i(686),O=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),P=function(){return(P=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},N=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},A=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},U=(0,p.lazy)((function(){return Promise.all([i.e(14),i.e(23)]).then(i.t.bind(null,731,7))})),D=function(e){function t(t){var s=e.call(this,t)||this;return s.getDraftId=function(){var e=s.props;return e.stackId+"-depth-"+e.depth},s.handleFocus=function(e){var t=e.element,i=s.props.stackId;s.props.onFocus({element:t,stackId:i})},s.handleBlur=function(){var e=s.props.stackId;s.props.onBlur({stackId:e})},s.handleCloseEditSayControl=function(e){var t=e.messageId;s.props.closeEditSayControl({messageId:t})},s.handleUploadProfileImage=function(e){var t=s.props.currentUser;s.props.onProfileImageUpload({userId:t.id,rawImage:e})},s.editMessage=function(e){var t=e.entities,i=e.displayName,o=e.starsRating,c=void 0===o?0:o,p=s.props,a=p.messageToEdit,r=p.editMessage,n=a.depth,l=a.status,d=a.starsRating;r({entities:t,oldEntities:a.entities,starsRating:c,oldStarsRating:d,depth:n,messageId:a.id,displayName:i,status:l})},s.createMessage=function(e){var t=e.entities,i=e.displayName,o=e.starsRating,c=void 0===o?0:o,p=s.props,a=p.replyToMessage,r=p.rootMessageId,n=p.replyToStackId,l=p.conversationId,d={entities:t,starsRating:c,rootMessageId:r};i&&(d.displayName=i),n&&(d.replyToStackId=n),a&&(d.parentMessageId=a.id,d.replyToUserId=a.user.id,d.replyToUsername=a.user.username,d.replyToDisplayName=a.userDisplayName||a.user.displayName,d.depth=a.depth+1);var m=s.getDraftId();return(0,C.clearDraftMessage)({conversationId:l,draftId:m}),s.props.createMessage(d)},s.handleStarsRatingClick=function(e){var t=s.props.messageToEdit.id;s.props.onStarsRatingClick(e,t)},s.handleRichEditorContract=function(){s.props.onContract({messageId:s.props.replyToMessage.id})},s.onTyping=function(e){var t=s.props,i=t.isMessageBlocked,o=t.onTyping,c=t.closeModerationAlert,p=t.isModerationAlertVisible;!t.isUserSuspended&&i&&p&&k.isValidKeyPress(e)&&c(),o()},s.onRealtimeModeration=function(e){var t=s.props,i=t.isMessageBlocked,o=t.onRealtimeModeration;i||o(e)},s.setWrapperRef=function(e){s.wrapperRef=e},s.handleClickOutside=function(e){var t,i=s.props.isModerationAlertVisible,o=null==e?void 0:e.composedPath();try{var c=o.some((function(e){var t;return null===(t=e.dataset)||void 0===t?void 0:t.spotimOverlay}));(null===(t=s.wrapperRef)||void 0===t?void 0:t.contains(o[1]))||c||s.state.hasText||i||s.handleRichEditorContract()}catch(e){}},s.onChange=function(e){var t=e.isEmpty;s.setState({hasText:!t})},s.handleUserProfileClick=function(){var e=s.props.currentUser;(e.isRegistered||e.displayName)&&s.props.onOpenUserProfileModal({user:e,mode:"main"})},s.shouldDisplayUsername=function(){var e=s.props,t=e.forceRegister,i=e.currentUser;return!t||i.isRegistered},s.snippets=i(1541),s.state={draftMessage:void 0,hasText:!1},s}return O(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,i=t.isRendered,s=t.isEditRichEditor,o=t.replyToMessage,c=t.messageToEdit,p=t.onRendered,a=(t.conversationId,t.replyToStackId,s?c.id:o.id);i||p(a),requestAnimationFrame((function(){return document.addEventListener("click",e.handleClickOutside)}))},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleClickOutside)},t.prototype.handleLogin=function(e){this.props.enableSSO&&this.saveDraftMessage(e),this.props.onLogin();var t={item_type:"login",target_type:"commnet-sign-up",type:"login-clicked",post_id:this.props.postId};(0,S.analyticsTrack)(t)},t.prototype.saveDraftMessage=function(e){var t=this.props,i=t.conversationId,s=t.messageToEdit,o=this.getDraftId();(0,C.saveDraftMessage)({payload:P(P({},s),e),conversationId:i,draftId:o})},t.prototype.render=function(){var e,t=this.props,i=t.conversationId,s=t.currentUser,o=t.spotId,c=t.isUploadImageButtonVisible,a=t.className,r=t.avatarsTheme,n=t.animationRating,l=t.blurOnFocusForGuestUser,d=t.isStarsRatingEnabled,m=t.disableSendButtonWithEmptyText,f=t.forceRegister,u=t.placeholderTextKey,v=t.direction,_=t.messageToEdit,g=t.userImageSize,h=(t.onTyping,t.showButton),y=t.starsRating,b=t.enableRichToolbar,x=t.depth,M=t.isMobileDevice,E=t.useExpandButton,k=t.enableSSO,S=t.editableSSO,I=t.isEditRichEditor,O=t.placeholderReplyToName,P=t.replyToMessage,N=t.autoFocus,A=t.moderationAlert,U=t.isModerationAlertVisible,D=t.isModerationAlertRendered,L=t.isMessageBlocked,B=t.isUserSuspended,j=t.preventScrollOnAutoFocus,q=t.isDisableRichFormatting,z=t.onLogin,F=(0,C.getDraftMessage)({conversationId:i,draftId:this.getDraftId()}),W=this.snippets.isRichBarVisibleOnMount;return p.default.createElement("div",{ref:this.setWrapperRef,className:a},this.shouldDisplayUsername()&&p.default.createElement(T.UserSayControlDetails,{spotId:o,currentUser:s,enableSSO:k,editableSSO:S,avatarsTheme:r,handleLogin:this.handleLogin.bind(this),handleUploadProfileImage:this.handleUploadProfileImage,handleUserProfileClick:this.handleUserProfileClick}),p.default.createElement(R.EditorWrapper,{isExpanded:this.props.isExpanded,isDisableRichFormatting:q,onChange:this.onChange,tabIndexType:"message-details",showButton:h,starsRating:y,spotId:o,useExpandButton:E,login:this.handleLogin.bind(this),onStarsRatingClick:this.handleStarsRatingClick,isLoggedIn:(0,w.isLoggedIn)(s),isUploadImageButtonVisible:c,enableStarsRating:d&&0===x,isMustRegisterToComment:f,createMessage:this.createMessage,editMessage:this.editMessage,onTyping:this.onTyping,onFocus:this.handleFocus,onBlur:this.handleBlur,closeEditRichEditor:this.handleCloseEditSayControl,uploadProfileImage:this.handleUploadProfileImage,userImageSize:g,placeholderTextKey:u,placeholderReplyToName:O,direction:v,messageToEdit:F||_,currentUser:s,avatarsTheme:r,enableRichToolbar:b,isMobileDevice:M,animationRating:n,disableSendButtonWithEmptyText:m,blurOnFocusForGuestUser:l,isRichBarVisibleOnMount:W,disableUserImageUpload:!!k&&!S,isEditRichEditor:I,msnSocialLogin:z,replyToMessage:P,autoFocus:N,onContract:this.handleRichEditorContract,isReply:!0,moderationAlert:A,showErrorBorder:U&&D,isPostAnyway:L&&!B,onRealtimeModeration:this.onRealtimeModeration,isEdit:(null===(e=null==_?void 0:_.entities)||void 0===e?void 0:e.length)>0,saveDraftMessage:this.saveDraftMessage.bind(this),preventScrollOnAutoFocus:j}))},t.propTypes={conversationId:a.default.string.isRequired,currentUser:a.default.object.isRequired,avatarsTheme:a.default.string,spotId:a.default.string.isRequired,depth:a.default.number.isRequired,onTyping:a.default.func,onFocus:a.default.func,onBlur:a.default.func,onLogin:a.default.func,useExpandButton:a.default.bool,onStarsRatingClick:a.default.func,closeEditSayControl:a.default.func,createMessage:a.default.func,editMessage:a.default.func,onProfileImageUpload:a.default.func,isUploadImageButtonVisible:a.default.bool,isStarsRatingEnabled:a.default.bool,forceRegister:a.default.bool,placeholderTextKey:a.default.string,autoFocus:a.default.bool,direction:a.default.oneOf(["rtl","ltr"]).isRequired,className:a.default.string,parentMessageId:a.default.string,replyToMessage:a.default.object,messageToEdit:a.default.object,rootMessageId:a.default.string,replyToStackId:a.default.string,stackId:a.default.string,userImageSize:a.default.oneOf(["large","medium","normal","small"]),animationRating:a.default.oneOf(["y","g","pg","pg-13","none"]),showButton:a.default.bool,starsRating:a.default.number,enableRichToolbar:a.default.bool,isMobileDevice:a.default.bool,disableSendButtonWithEmptyText:a.default.bool,blurOnFocusForGuestUser:a.default.bool,isEditRichEditor:a.default.bool,placeholderReplyToName:a.default.string,focusOnUpdate:a.default.bool,onRendered:a.default.func,isRendered:a.default.bool,onContract:a.default.func,isModerationAlertVisible:a.default.bool,isMessageBlocked:a.default.bool,isUserSuspended:a.default.bool,preventScrollOnAutoFocus:a.default.bool,isDisableRichFormatting:a.default.bool},t.defaultProps={isStarsRatingEnabled:!1,forceRegister:!1,isExpanded:!1,autoFocus:!1,onTyping:function(){},onFocus:function(){},onBlur:function(){},onLogin:function(){},onStarsRatingClick:function(){},createMessage:function(){},onRendered:function(){},editMessage:function(){},closeEditSayControl:function(){},placeholderTextKey:"richEditor.placeholder.hasMessages",userImageSize:"medium",showButton:!0,focusOnUpdate:!0,moderationAlert:null,isModerationAlertVisible:!1,isModerationAlertRendered:!1,isMessageBlocked:!1,preventScrollOnAutoFocus:!1},t}(p.Component);t.MessageSayControl=D;var L=(0,r.connect)((function(e,t){var i=e.currentUser,s=e.moduleOptions,o=e.messageSayControls,c=e.userSuspension,a=s.spotId,r=s.disableImageUploadInConversation,d=s.enableSSO,m=s.animationRating,f=s.isConnectEnabled,u=s.isStarsRatingEnabled,v=s.forceRegister,_=s.direction,g=s.avatarsTheme,h=s.conversationRichToolbarEnabled,y=s.isMobile,b=s.disableSendButtonWithEmptyText,w=s.blurOnFocusForGuestUser,M=s.liveBlogRichToolbarEnabled,E=s.isConversationLiveBlog,k=s.postId,S=s.conversationId,C=t.messageToEdit,T=t.replyToMessage,I=o[t.isEditRichEditor?C&&C.id:T&&T.id],R=I.isExpanded,O=I&&I.isRendered,P=o.settings.isModerationAlertRendered,N=c.isUserSuspended,A=n.default.get("isConversationPageTriggered",!1),D=x.isReporter(e,i.id),L=M&&E&&D,B=n.default.get("tenant_config.conversation.disableImageUploadInLiveBlog",!1),j=E?!B:!r,q=I||{},z=q.isModerationAlertVisible,F=q.verdict,W=q.moderationTags,V=q.isMessageBlocked,H=q.tempMessageId,G=z&&p.default.createElement(p.Suspense,{fallback:null},p.default.createElement(U,{verdict:F,moderationTags:W,isRealtimeFeedback:!V,sayControlSessionId:H})),K=n.default.get("tenant_config.conversation.forceSimpleEditor",!1);return{conversationId:S,currentUser:i,spotId:a,isUploadImageButtonVisible:j,isStarsRatingEnabled:u,forceRegister:v,direction:_,avatarsTheme:g,disableSendButtonWithEmptyText:b,blurOnFocusForGuestUser:w,isMobileDevice:l.default||y,animationRating:m,showButton:f&&!d,enableRichToolbar:!l.default&&!y&&(h||L),enableSSO:d,isRendered:O,moderationAlert:G,isModerationAlertVisible:z,isModerationAlertRendered:P,isMessageBlocked:V,isUserSuspended:N,isExpanded:R,preventScrollOnAutoFocus:A,postId:k,isDisableRichFormatting:K}}),(function(e,t){var i=t.isEditRichEditor,s=t.parentMessageId;return{onTyping:function(){i||e((0,g.notifyTyping)(s))},onFocus:function(t){var o=t.element,c=t.stackId;i||e((0,g.notifyTyping)(s)),e((0,u.focusSayControl)({element:o,stackId:c,depth:1}))},onRendered:function(t){e((0,d.SayControlRendered)({messageId:t}))},onBlur:function(t){var i=t.stackId;e((0,v.blurSayControl)({stackId:i}))},onLogin:function(){e((0,b.openLoginSelectorModal)())},onStarsRatingClick:function(t,i){return N(void 0,void 0,void 0,(function(){return A(this,(function(s){return e((0,y.updateStarsRating)(t,i)),[2]}))}))},closeEditSayControl:function(t){var i=t.messageId;e((0,m.closeEditSayControl)({messageId:i}))},createMessage:function(t){return e((0,_.createMessage)(t))},editMessage:function(t){e((0,h.editMessage)(t))},onProfileImageUpload:function(t){var i=t.userId,s=t.rawImage;e((0,w.profileImageUpload)({userId:i,rawImage:s}))},onContract:function(t){var i=t.messageId;e((0,f.closeReplySayControl)({messageId:i}))},onOpenUserProfileModal:function(t){var i=t.user,s=t.overrideDisplayName,o=t.overrideImageId,c=t.mode;e((0,I.openUserProfileModal)({user:i,overrideDisplayName:s,overrideImageId:o,mode:c}))},closeModerationAlert:function(){return e((0,M.closeModerationAlert)(s))},onRealtimeModeration:function(t){e((0,E.realtimeModerate)(P(P({},t),{parentMessageId:s})))}}}))(D);t.default=L},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.blurSayControl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stackId,i=void 0===t?null:t;return function(){var e=(0,c.default)(o.default.mark((function e(t,s){var c,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=s(),(null==(l=c.communityView)?void 0:l.focusSayControlOnSwitchTab)&&t((0,n.setIsFocusSayControl)(!1)),a.hostProvider.notifyHostApi(p.CURRENT_USER_TYPING_END),t({type:r.BLUR_SAY_CONTROL,payload:{stackId:i}});case 4:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(41)),p=i(52),a=i(51),r=i(39),n=i(229)},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.notifyTyping=function(e){return function(t,i){var s=i().conversation.id;try{n[e]?n[e]():n[e]=(0,c.default)((function(){p.notifyTyping(s,e)}),a.TYPING_NOTIFY_INTERVAL,null,{trailing:!1})}catch(e){(0,r.default)(a.TYPING_NOTIFY_INTERVAL,e)}}};var c=o(i(260)),p=s(i(1478)),a=i(108),r=o(i(5)),n={}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.updateStarsRating=function(e,t){return function(){var i=(0,c.default)(o.default.mark((function i(s){var c;return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:try{c=e,s(t?{type:p.RANK_CONVERSATION_MESSAGE_SAY_CONTROL,payload:{starsRating:c,messageId:t}}:{type:p.RANK_CONVERSATION,payload:{starsRating:c}})}catch(e){(0,a.default)(p.RANK_CONVERSATION,e),s({type:p.RANK_CONVERSATION,payload:{error:e},error:!0})}case 1:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(41)),p=i(39),a=s(i(5))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeModerationAlert=function(e){return function(t,i){var c,p=i(),a=p.mainSayControl,r=p.messageSayControls;(e?null===(c=r[e])||void 0===c?void 0:c.isMessageBlocked:a.isMessageBlocked)&&t((0,o.realtimeModerationEventOccurred)({type:"post-edited",target_type:"after-post"})),t({type:s.CLOSE_MODERATION_ALERT,payload:{parentMessageId:e}})}};var s=i(39),o=i(345)},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.realtimeModerate=function(e){var t=this,i=e.entities,s=void 0===i?[]:i,d=e.starsRating,m=void 0===d?0:d,f=e.parentMessageId;return function(e,i){return n(t,void 0,void 0,(function(){var t,n,d,u,v,_;return l(this,(function(l){switch(l.label){case 0:if(t=i().moduleOptions.postId,0===s.length||1===s.length&&s.find((function(e){return"text"===e.type&&""===e.text})))return e({type:c.REALTIME_MODERATE,payload:{verdict:r.TPolicyVerdict.APPROVE_ALL,tags:[],parentMessageId:f}}),[2];n=(0,a.createEntitiesData)(s),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,(0,o.onTyping)(t,{content:n,stars:m,metadata:{}})];case 2:return d=l.sent(),u=d.verdict,v=d.tags,d.metadata,e({type:c.REALTIME_MODERATE,payload:{verdict:u,tags:v,parentMessageId:f}}),[3,4];case 3:return _=l.sent(),(0,p.default)(c.REALTIME_MODERATE,_),e({type:c.REALTIME_MODERATE,payload:{error:_,parentMessageId:f}}),[3,4];case 4:return[2]}}))}))}};var o=i(236),c=i(39),p=s(i(5)),a=i(650),r=i(206),n=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},l=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.UserSayControlDetails=void 0;var o=s(i(3)),c=i(44),p=i(82),a=s(i(102)),r=s(i(1480)),n=i(123),l=i(55),d=i(43),m=i(45),f=i(662),u=i(42),v=i(57),_=i(59),g=(0,u.connect)((function(e){return{contentType:e.conversation.contentType,convId:e.conversation.id}}))((function(e){var t,i,s=e.spotId,u=e.currentUser,g=e.enableSSO,h=e.editableSSO,y=e.avatarsTheme,b=e.handleLogin,x=e.handleUploadProfileImage,w=e.handleUserProfileClick,M=e.contentType,E=e.convId,k=u.isRegistered&&c.enableUserReputation&&!(0,p.isStaffMember)(u),S=(0,v.useTracking)();function C(){M===c.ContentType.Post&&S.trackEvent({type:"my-profile-clicked",item_type:"post-card",source:"post-page",ugc_post_id:E})}var T,I;i=o.default.createElement(a.default,{className:r.default.richEditorUserAvatar,imageId:u.imageId,onlineIndicator:!0,showButton:!0,isOnline:!0,size:n.USER_IMAGE_SIZE.NORMAL,isMe:!0,isLoggedIn:(0,l.isLoggedIn)(u),avatarsTheme:y,onLogin:b,onImageUpload:x,username:(0,_.getDisplayName)(u)||u.username,isHighlighted:(T=u,T.isAdmin||T.isModerator||T.isJournalist),disableUserImageUpload:!!g&&!h,spotId:s,onClick:function(){C()},displayName:(0,_.getDisplayName)(u)});var R=(I=u.isRegistered?(0,_.getDisplayName)(u)||u.username:u.displayName)?r.default.username:r.default.emptyUsername;return o.default.createElement("div",{className:!c.disableUserAvatar&&r.default.usernameWrapper},i,o.default.createElement(d.Button,{onClick:function(){C(),w()},className:!I&&r.default.emptyUsername},o.default.createElement(d.Typography,{type:"username",className:I&&R,"data-open-web-class":"user-name"},I||o.default.createElement(m.TranslationWrapper,{i18nKey:"richEditor.placeholder.displayName"},"Your Username"))),k&&o.default.createElement(f.UserPoints,{total:null===(t=u.reputation)||void 0===t?void 0:t.total,isLtr:c.isLtr}))}));t.UserSayControlDetails=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EditorWrapper",{enumerable:!0,get:function(){return s.EditorWrapper}});var s=i(1482)},,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.displayCancelButton=t.renderButtons=void 0;var o=s(i(3)),c=s(i(1509)),p=i(352),a=s(i(4)).default.get("tenant_config.conversation.disable_image_upload_button");t.renderButtons=function(e,t){var i=t.isUploadImageButtonVisible,s=t.isUploadImageButtonDisabled,r=t.onUploadImageComplete,n=t.onUploadImageStart,l=t.uploadImage,d=t.transliterationLanguage,m=t.isExpanded,f=e.richBarButton,u=e.gifButton,v=e.emojiButton;return!(0,p.isSupportedLanguageCode)(d)&&o.default.createElement("span",null,m&&f,v,!a&&o.default.createElement(c.default,{isVisible:i,isDisabled:s,uploadImage:l,onUploadStart:n,onUploadComplete:r}),u)};t.displayCancelButton=!1},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var o=s(i(3)),c=s(i(1548)),p=s(i(14)),a=function(){return(a=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(i[s[o]]=e[s[o]])}return i};t.Button=function(e){var t=e.children,i=e.className,s=r(e,["children","className"]);return o.default.createElement("button",a({},s,{type:"button",className:(0,p.default)(i,c.default.emptyButton)}),t)}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i(3)),c=s(i(14)),p=s(i(177)),a=s(i(4)),r=s(i(1550)),n=function(e){var t=e.className,i=void 0===t?"":t;return o.default.createElement("div",{className:(0,c.default)(r.default.messageContentLoader,i)},o.default.createElement(p.default,{rtl:!a.default.get("init_data.config.ltr"),height:313,width:646,speed:2,backgroundColor:getComputedStyle(document.documentElement).getPropertyValue("--spotim-content-loader-primary-color"),foregroundColor:getComputedStyle(document.documentElement).getPropertyValue("--spotim-content-loaders-secondary-color")},o.default.createElement("circle",{cx:"62",cy:"69",r:"24"}),o.default.createElement("rect",{x:"104",y:"51",rx:"5",ry:"5",width:"174",height:"13"}),o.default.createElement("rect",{x:"104",y:"73",rx:"5",ry:"5",width:"139",height:"13"}),o.default.createElement("rect",{x:"39",y:"110",rx:"5",ry:"5",width:"499",height:"15"}),o.default.createElement("rect",{x:"39",y:"141",rx:"5",ry:"5",width:"431",height:"15"}),o.default.createElement("circle",{cx:"62",cy:"226",r:"24"}),o.default.createElement("rect",{x:"104",y:"208",rx:"5",ry:"5",width:"174",height:"13"}),o.default.createElement("rect",{x:"104",y:"230",rx:"5",ry:"5",width:"139",height:"13"}),o.default.createElement("rect",{x:"39",y:"267",rx:"5",ry:"5",width:"499",height:"15"}),o.default.createElement("rect",{x:"39",y:"298",rx:"5",ry:"5",width:"431",height:"15"})))};t.default=n},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=s(i(3)),m=o(i(35)),f=o(i(14)),u=o(i(46)),v=i(689),_=o(i(690)),g=o(i(1553)),h=i(45);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var b=function(e){(0,r.default)(i,e);var t=y(i);function i(){var e;(0,p.default)(this,i);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).getMessagesCount=function(e){var t=e.numCollapsedChildren,i=e.forceMessagesCollapsed,s=e.allCount,o=e.numNewComments,c=e.moreCount;return t||(i?s-o:c)},e.handleShowMoreReplies=function(){e.props.showMoreReplies()},e}return(0,a.default)(i,[{key:"render",value:function(){var e,t=this.props,i=t.isLoading,s=t.moreCount,o=t.allCount,p=t.isLastMessageInThread,a=t.enableShowMore,r=t.numNewComments,n=t.forceMessagesCollapsed,l=t.numCollapsedChildren,m=t.messageStack,y=t.depth,b=m.hasNext&&0===m.childrenStackIds.length,x=(0,f.default)(g.default.showMoreReplies,g.default["depth-".concat(y)],(e={},(0,c.default)(e,g.default.showMore,b||l),(0,c.default)(e,g.default.loading,i),(0,c.default)(e,g.default.lastMessage,p||l||a&&b),e)),w=this.getMessagesCount({numCollapsedChildren:l,forceMessagesCollapsed:n,allCount:o,numNewComments:r,moreCount:s});return d.default.createElement("div",{className:x},i?d.default.createElement(_.default,null):(l||a&&b)&&d.default.createElement(v.Button,{className:g.default.showMoreRepliesButton,onClick:this.handleShowMoreReplies},d.default.createElement("span",null,d.default.createElement("span",{className:g.default.showText},d.default.createElement(h.TranslationWrapper,{i18nKey:"inpage.conversation.showMoreMessages",values:{messagesCount:w},count:w}),d.default.createElement(u.default,{selector:"chevronDownIcon",className:g.default.chevron})))))}}]),i}(d.Component);b.propTypes={showMoreReplies:m.default.func.isRequired,isLoading:m.default.bool,moreCount:m.default.number,isLastMessageInThread:m.default.bool,enableShowMore:m.default.bool,forceMessagesCollapsed:m.default.bool,onDoneLoading:m.default.func,numNewComments:m.default.number,numCollapsedChildren:m.default.number,depth:m.default.number},b.defaultProps={showMoreReplies:function(){},enableShowMore:!0};var x=b;t.default=x},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getColorName=function(e,t){if(t&&"$"===t[0])return!1;return t&&t.match(s)[1].toLowerCase()},t.isAvatar=function(e,t,i){void 0===i&&(i=null);if(i&&"$"===t[0])return!0;return t&&s.test(t)};var s=/^#([a-zA-z]+)-([a-zA-Z0-9]+)$/},function(e,t,i){var s=i(30),o=i(1561);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.loadMore=function(){return function(e,t){(0,l.default)("[Conversation] - load-more-comments");var i=t(),s=p.isLiveBlog(i),o=p.isMobile(i),c=d(o),n=i.moduleOptions,m=n.spotId,f=n.postId,u=n.eventCode,v=n.conversationId,_=n.href,g=n.canonicalHref,h=n.loadMoreInModal,y=n.shouldCollapseReplies,b=n.pageSize,x=void 0===b?c:b,w=i.comments,M=w.pagination,E=M.offset,k=M.commentsRead,S=M.sortBy,C=w.isLoading,T=y?1:2;s?e((0,a.fetchConversation)({spotId:m,postId:u,conversationId:v,href:_,canonicalHref:g,offset:E,commentsRead:k,pageSize:x,sortBy:S,depth:T,isFromShowMore:!0})):h?e((0,r.openConversationModal)(!1)):C||e((0,a.fetchConversation)({spotId:m,postId:f,conversationId:v,href:_,canonicalHref:g,offset:E,commentsRead:k,pageSize:x,sortBy:S,depth:T,isFromShowMore:!0}))}},t.getNewMessagesFetchCount=void 0;var c=i(108),p=o(i(48)),a=i(695),r=i(1575),n=s(i(4)),l=s(i(53)),d=function(e){var t=n.default.get("tenant_config.conversation.message_fetch_count",c.COMMENTS_FIRST_PAGE_SIZE);return e?c.MOBILE_COMMENTS_FIRST_PAGE_SIZE:t};t.getNewMessagesFetchCount=d},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchConversation=function(e){var t=e.spotId,i=e.postId,s=e.conversationId,o=e.href,f=e.canonicalHref,u=e.offset,v=e.commentsRead,_=e.pageSize,g=e.sortBy,h=e.highlight,y=e.scrollToComments,b=e.disqusIdentifier,x=e.disqusUrl,w=e.gigyaStreamId,M=e.gigyaCategoryId,E=e.wpImportEndpoint,k=e.depth,S=(e.callback,e.isFromShowMore);return function(e,C){return d(this,void 0,void 0,(function(){var d,T,I;return m(this,(function(m){switch(m.label){case 0:d=C().conversation,e({type:p.FETCH_CONVERSATION_START,payload:{isFromShowMore:S}}),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,c.fetchConversation(t,i,s,{href:o,canonicalHref:f,offset:u,commentsRead:v,pageSize:_,sortBy:g,highlight:h,scrollToComments:y,disqusIdentifier:b,disqusUrl:x,gigyaStreamId:w,gigyaCategoryId:M,wpImportEndpoint:E,depth:k})];case 2:return T=m.sent(),e({type:p.FETCH_CONVERSATION_END,payload:l({currentConversation:d},T)}),e((0,n.updateShouldFetchFeaturedComment)(!0)),(0,r.default)({type:"fetched conversation read"}),[3,4];case 3:return I=m.sent(),(0,a.default)("failed to fetch conversation",I),e({type:p.FETCH_CONVERSATION_END,payload:{error:I},error:!0}),[3,4];case 4:return[2]}}))}))}};var c=o(i(1574)),p=i(39),a=s(i(5)),r=s(i(53)),n=i(148),l=function(){return(l=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},m=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}},function(e,t,i){var s=i(30),o=i(1576);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){var s=i(30),o=i(1580);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){var s=i(30),o=i(1601);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},,,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getAndResetNotifications=function(){return function(){var e=(0,c.default)(o.default.mark((function e(t){var i,s,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=22;break}return l=!0,t({type:n.GET_START}),(0,a.default)("[Conversation] - notifications-fetch-start"),e.prev=4,e.next=7,p.default.getAndResetNotifications();case 7:i=e.sent,(s=i.body).notifications.forEach((function(e){e&&e.message&&e.message.content&&(e.message.content=e.message.content.filter((function(e){return"user-mention"!==e.type})))}));try{c=(0,r.parseNotifications)(s)}catch(e){reportError("could not parse notifications - will not display",e)}if(c){e.next=13;break}return e.abrupt("return");case 13:(0,a.default)("[Conversation] - notifications-fetch-end"),t({type:n.GET_END,payload:{notifications:c.notifications,unreadCount:c.unreadCount,totalCount:c.totalCount}}),l=!1,e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),(0,a.default)("[Conversation] - notifications - fetch failed"),l=!1;case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(41)),p=s(i(167)),a=s(i(53)),r=i(567),n=i(99),l=!1},function(e,t,i){var s=i(30),o=i(1635);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.rankConversation=function(e,t){return function(){var i=(0,c.default)(o.default.mark((function i(s){return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:setTimeout((function(){p.default.trigger("focusSayControl")}),0),s({type:a.RANK_CONVERSATION,payload:{starsRating:e,stackId:t}});case 2:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(41)),p=s(i(239)),a=i(39)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.CompleteEmailRegistration=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(14)),d=o(i(35)),m=s(i(3)),f=o(i(46)),u=o(i(1182)),v=i(56),_=i(43);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var h=function(e){(0,a.default)(i,e);var t=g(i);function i(){var e;(0,c.default)(this,i);for(var s=arguments.length,o=new Array(s),p=0;p<s;p++)o[p]=arguments[p];return(e=t.call.apply(t,[this].concat(o))).handleSendVerifyEmailKeyUp=function(t){13===t.keyCode&&e.sendVerifyEmail()},e}return(0,p.default)(i,[{key:"sendVerifyEmail",value:function(){var e=this.props,t=e.currentUser,i=e.spotId,s=e.hostUrl,o=t.email,c=s;this.props.onVerifyEmailSend({email:o,spotId:i,url:c})}},{key:"getVerifyEmailComponent",value:function(){return m.default.createElement("div",{onKeyUp:this.handleSendVerifyEmailKeyUp,"data-spmark":"verify-email",className:(0,l.default)(u.default.verifyEmailBar)},m.default.createElement(f.default,{selector:"exclamationCircleSolidIcon",className:u.default.icon}),m.default.createElement(_.Typography,{className:u.default.textWrapper},m.default.createElement(v.TranslatedText,{textKey:"inpage.conversation.completeEmailRegistration.text"}),m.default.createElement(v.TranslatedText,{className:u.default.link,onClick:this.sendVerifyEmail.bind(this),textKey:"inpage.conversation.completeEmailRegistration.button"})))}},{key:"getEmailSentComponent",value:function(e){return m.default.createElement("div",{className:u.default.emailSentBar},m.default.createElement(f.default,{selector:"faCircleCheck",className:u.default.icon}),m.default.createElement(v.TranslatedText,{textKey:"inpage.conversation.completeEmailRegistration.succesMessage.first"}),m.default.createElement("span",null," ".concat(e,". ")),m.default.createElement(v.TranslatedText,{textKey:"inpage.conversation.completeEmailRegistration.succesMessage.second"}))}},{key:"render",value:function(){var e=this.props,t=e.email,i=e.isEmailVerified,s=e.isVerificationEmailSent,o=null;return t&&!i&&(o=s?this.getEmailSentComponent(t):this.getVerifyEmailComponent()),o}}]),i}(m.Component);t.CompleteEmailRegistration=h,h.displayName="CompleteEmailRegistration",h.propTypes={email:d.default.string,isEmailVerified:d.default.bool.isRequired,isVerificationEmailSent:d.default.bool,spotId:d.default.string,onVerifyEmailSend:d.default.func.isRequired,hostUrl:d.default.string},h.defaultProps={isVerificationEmailSent:!1}},function(e,t,i){var s=i(30),o=i(1183);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_verify-email-bar{-ms-user-select:none;user-select:none;-o-user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_verify-email-bar{cursor:default}#spotim-specific#spotim-specific .spcv_link,#spotim-specific#spotim-specific .spcv_verify-email-bar .spcv_link{color:#307fe2;display:inline-block;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_link,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_verify-email-bar .spcv_link{cursor:pointer}#spotim-specific#spotim-specific .spcv_link,#spotim-specific#spotim-specific .spcv_link:hover,#spotim-specific#spotim-specific .spcv_verify-email-bar .spcv_link{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_link:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_link,#spotim-specific#spotim-specific .spcv_verify-email-bar .spcv_link{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_verify-email-bar{display:inline-block;font-family:Open Sans,Helvetica,Arial,sans-serif;font-size:15px;line-height:18px;min-width:100px;outline:none;transition:background-color .2s ease,border-color .2s ease,opacity .2s ease;white-space:nowrap}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_verify-email-bar{background-color:transparent;border:0;border-radius:4px;cursor:pointer;padding:0 15px;text-align:center}#spotim-specific#spotim-specific .spcv_verify-email-bar>*{display:inline-block}#spotim-specific#spotim-specific .spcv_verify-email-bar>.spcv_icon{vertical-align:middle}#spotim-specific#spotim-specific .spcv_verify-email-bar,#spotim-specific#spotim-specific .spcv_verify-email-bar:hover{text-decoration:none}#spotim-specific#spotim-specific .spcv_verify-email-bar[disabled]{pointer-events:none}#spotim-specific#spotim-specific [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_verify-email-bar [class*=-icon]+label{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_verify-email-bar [class*=-icon]+label{margin-right:10px}#spotim-specific#spotim-specific .spcv_verify-email-bar .spcv_spinner{vertical-align:-2px}#spotim-specific#spotim-specific .spcv_verify-email-bar .spcv_icon{transition:fill .2s ease}#spotim-specific#spotim-specific .spcv_verify-email-bar{height:44px;line-height:44px}#spotim-specific#spotim-specific .spcv_email-sent-bar,#spotim-specific#spotim-specific .spcv_verify-email-bar{font-size:var(--spotim-font-size-medium);width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_email-sent-bar,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_verify-email-bar{margin-bottom:21px;padding-top:10px;padding-bottom:10px;text-align:center;cursor:auto}#spotim-specific#spotim-specific .spcv_email-sent-bar .spcv_icon,#spotim-specific#spotim-specific .spcv_verify-email-bar .spcv_icon{color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_email-sent-bar .spcv_icon,#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_verify-email-bar .spcv_icon{-ms-flex-item-align:baseline;align-self:baseline}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_email-sent-bar .spcv_icon,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_verify-email-bar .spcv_icon{margin-top:3px}#spotim-specific#spotim-specific .spcv_email-sent-bar .spcv_icon svg,#spotim-specific#spotim-specific .spcv_verify-email-bar .spcv_icon svg{vertical-align:top}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_email-sent-bar .spcv_text-wrapper,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_verify-email-bar .spcv_text-wrapper{margin-left:6px;text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_email-sent-bar .spcv_text-wrapper,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_verify-email-bar .spcv_text-wrapper{margin-right:6px;text-align:right}#spotim-specific#spotim-specific .spcv_verify-email-bar{color:var(--spotim-text-color-x-muted);height:auto;line-height:inherit;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;white-space:normal}#spotim-specific#spotim-specific .spcv_verify-email-bar .spcv_link{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_verify-email-bar .spcv_link{margin-left:5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_verify-email-bar .spcv_link{margin-right:5px}#spotim-specific#spotim-specific .spcv_verify-email-bar .spcv_link:hover{text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_verify-email-bar .spcv_link{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_verify-email-bar .spcv_link{margin-right:0}#spotim-specific#spotim-specific .spcv_email-sent-bar{color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_verify-email-bar:focus .spcv_link{outline:auto}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","verify-email-bar":"spcv_verify-email-bar",verifyEmailBar:"spcv_verify-email-bar",link:"spcv_link",icon:"spcv_icon",spinner:"spcv_spinner","email-sent-bar":"spcv_email-sent-bar",emailSentBar:"spcv_email-sent-bar","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","text-wrapper":"spcv_text-wrapper",textWrapper:"spcv_text-wrapper"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LoadMoreComments=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(65)),d=s(i(3)),m=o(i(14)),f=o(i(35)),u=o(i(57)),v=i(42),_=o(i(90)),g=o(i(608)),h=i(121),y=s(i(48));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var x=function(e){(0,a.default)(s,e);var t=b(s);function s(e){var o;return(0,c.default)(this,s),(o=t.call(this,e)).getNumberWithComma=function(e){try{return e.toLocaleString()}catch(t){return e.toString()}},o.handleLoadMoreKeyUp=function(e){13===e.keyCode&&o.onLoadMore()},o.state={formattedCommentsCount:o.getNumberWithComma(e.commentsCount)},o.snippets=i(1240),o}return(0,p.default)(s,[{key:"componentDidUpdate",value:function(e){if(e.commentsCount!==this.props.commentsCount)try{this.setState({formattedCommentsCount:this.getNumberWithComma(this.props.commentsCount)})}catch(e){}}},{key:"onLoadMore",value:function(){var e=this.props,t=e.onLoadMore,i=e.isLoading,s=e.tracking,o=e.hostProviderNotify;i||(t(),s.trackEvent({type:"load-more-comments-clicked"}),o(h.CLICKED_SHOW_MORE_COMMENTS_EVENT_NAME))}},{key:"render",value:function(){var e=this.props,t=e.isLoading,i=e.hasNext,s=(e.isLiveBlog,null);if(i){var o=this.snippets.getLoadMoreMessagesComponent(this.props),c=this.snippets.getClassName;s=d.default.createElement("div",{className:g.default.loadMoreCommentsContainer},d.default.createElement("div",{"data-spmark":"show-more",className:(0,m.default)(c,t&&g.default.loading),onClick:this.onLoadMore.bind(this),onKeyUp:this.handleLoadMoreKeyUp,"data-spot-im-class":"load-more-messages"},t&&d.default.createElement("div",{className:g.default.spinnerWrapper},d.default.createElement(_.default,{size:"small"})),o))}return s}}]),s}(d.Component);t.LoadMoreComments=x,x.displayName="LoadMoreComments",x.propTypes={isLoading:f.default.bool.isRequired,hasNext:f.default.bool.isRequired,onLoadMore:f.default.func.isRequired,textKey:f.default.string,loadMoreMessagesText:f.default.string,spotId:f.default.string,hostProviderNotify:f.default.func,commentsCount:f.default.number,totalMessages:f.default.number,isLiveBlog:f.default.bool},x.defaultProps={hostProviderNotify:function(){}};var w=(0,l.default)((0,v.connect)((function(e){return{spotId:e.moduleOptions.spotId,isLiveBlog:y.isLiveBlog(e)}})),(0,u.default)({}))(x);t.default=w},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_loadMoreCommentsContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}#spotim-specific#spotim-specific .spcv_loadMoreCommentsContainer.spcv_compactOveride{-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific .spcv_loadMoreCommentsContainer .spcv_CompactShowmore{display:-ms-flexbox;display:flex;white-space:nowrap}#spotim-specific#spotim-specific .spcv_loadMoreCommentsContainer .spcv_CompactShowmore svg{fill:var(--spotim-text-over-brand-color)}#spotim-specific#spotim-specific .spcv_loadMoreCommentsContainer .spcv_compactDesign{-ms-flex-align:center;align-items:center;content:"";display:inline-block;position:relative;vertical-align:middle;height:5px;width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_loadMoreCommentsContainer .spcv_compactDesign{border-top:2px solid var(--spotim-border-color)}#spotim-specific#spotim-specific .spcv_loadMoreDivider{height:20px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_loadMoreDivider.spcv_nonEmptyConvDivider{border-top:1px solid var(--spotim-border-color)}#spotim-specific#spotim-specific .spcv_load-more-messages{position:relative;font-size:var(--spotim-font-size-medium);color:#fff;font-weight:var(--spotim-font-weight-bold);outline:none;color:var(--spotim-text-over-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_load-more-messages{padding:0 30px;border-radius:var(--spotim-border-radius-small);border:none;cursor:pointer;background:var(--spotim-brand-color);border-radius:var(--spotim-border-radius-medium);text-align:center;padding:12px 18px}#spotim-specific#spotim-specific .spcv_load-more-messages:before{content:"";position:absolute;top:0;width:100%;height:100%;opacity:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_load-more-messages:before{background:rgba(0,0,0,.1)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_load-more-messages:before{left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_load-more-messages:before{right:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_load-more-messages:hover{padding:0 30px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_load-more-messages:not([disabled]):focus,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_load-more-messages:not([disabled]):hover{background:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_load-more-messages:not([disabled]):focus:before,#spotim-specific#spotim-specific .spcv_load-more-messages:not([disabled]):hover:before{opacity:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_load-more-messages.spcv_compactOveride{margin:20px 17px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_load-more-messages:hover{padding:12px 18px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_load-more-messages:before{border-radius:var(--spotim-border-radius-medium)}#spotim-specific#spotim-specific .spcv_load-more-messages .spcv_spinner{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_load-more-messages .spcv_spinner{margin:2px auto}#spotim-specific#spotim-specific .spcv_load-more-messages.spcv_loading>span{opacity:0}#spotim-specific#spotim-specific .spcv_load-more-messages .spcv_spinnerWrapper{position:absolute}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_load-more-messages .spcv_spinnerWrapper{left:50%;transform:translateX(-50%)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_load-more-messages .spcv_spinnerWrapper{right:50%;transform:translateX(50%)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_safari .spcv_load-more-messages{margin-top:5px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_tab-mode .spcv_load-more-messages:focus{background-color:#239869!important}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",loadMoreCommentsContainer:"spcv_loadMoreCommentsContainer",compactOveride:"spcv_compactOveride",CompactShowmore:"spcv_CompactShowmore",compactShowmore:"spcv_CompactShowmore",compactDesign:"spcv_compactDesign",loadMoreDivider:"spcv_loadMoreDivider",nonEmptyConvDivider:"spcv_nonEmptyConvDivider","load-more-messages":"spcv_load-more-messages",loadMoreMessages:"spcv_load-more-messages",spinner:"spcv_spinner",loading:"spcv_loading",spinnerWrapper:"spcv_spinnerWrapper",safari:"spcv_safari"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getClassName=t.getLoadMoreMessagesComponent=void 0;var o=s(i(3)),c=s(i(608)),p=i(56);t.getLoadMoreMessagesComponent=function(e){var t=e.loadMoreMessagesText,i=e.textKey,s=e.isLiveBlog;return t?o.default.createElement("span",null,t):s?o.default.createElement(p.TranslatedText,{textKey:"liveBlog.loadMore"},"Load more updates..."):o.default.createElement(p.TranslatedText,{textKey:i},"Show More Comments")};var a="".concat(c.default.loadMoreMessages);t.getClassName=a},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i(3)),c=s(i(1242)),p=function(e){var t=e.onClick;return o.default.createElement("span",{className:c.default.Disqus},o.default.createElement("span",{className:c.default.mobileText,onClick:t,onTouchStart:t},"Forum?"),o.default.createElement("span",{className:c.default.desktopText,onClick:t,onTouchStart:t},"Have a Forum Account?"))};t.default=p},function(e,t,i){var s=i(30),o=i(1243);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_Disqus{color:#307fe2;display:inline-block;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_Disqus{cursor:pointer}#spotim-specific#spotim-specific .spcv_Disqus,#spotim-specific#spotim-specific .spcv_Disqus:hover{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_Disqus:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_Disqus{color:#7b7f83}#spotim-specific#spotim-specific .spcv_Disqus:hover{color:#373e44}#spotim-specific#spotim-specific .spcv_Disqus{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_Disqus .spcv_mobile-text{display:none}#spotim-specific#spotim-specific .spcv_Disqus .spcv_desktop-text,#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_Disqus .spcv_mobile-text{display:inline}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_Disqus .spcv_desktop-text{display:none}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",Disqus:"spcv_Disqus",disqus:"spcv_Disqus","mobile-text":"spcv_mobile-text",mobileText:"spcv_mobile-text","desktop-text":"spcv_desktop-text",desktopText:"spcv_desktop-text","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile"}},,,function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,p=o(i(3)),a=s(i(14)),r=i(42),n=i(282),l=i(146),d=o(i(107)),m=s(i(1247)),f=s(i(1267)),u=s(i(628)),v=i(105),_=s(i(217)),g=i(646),h=i(1563),y=i(1564),b=i(1565),x=s(i(1572)),w=i(1573),M=s(i(696)),E=i(148),k=o(i(48)),S=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),C=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},T=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},I=function(e){function t(t){var s=e.call(this,t)||this;return s.viewMessage=function(e){s.rootMessageRefs.forEach((function(t){t.current&&t.current.wrappedInstance.viewMessage(e)}))},s.snippets=i(1577),s.state={shouldFetchFeaturedComment:!1,hasFeaturedComment:!1,adsHidden:!1},s.onHideAd=s.onHideAd.bind(s),s.rootMessageRefs=[],s}return S(t,e),t.prototype.isStaffUser=function(e){return!!e&&(e.isJournalist||e.isAdmin||e.isModerator)},t.prototype.componentDidMount=function(){this.prepareFeaturedComment()},t.prototype.prepareFeaturedComment=function(){return C(this,void 0,void 0,(function(){var e,t,i,s,o,c,p,a;return T(this,(function(r){switch(r.label){case 0:return e=this.props,t=e.conversationID,i=e.addMessage,s=e.updateMessageToBeFeatured,o=e.messages,c=e.updateShouldFetchFeaturedComment,p=e.sortBy,c(),[4,(0,y.fetchFeaturedCommentData)(t,p)];case 1:return(a=r.sent())&&(o[a.id]?s(a):i(a),this.setState({hasFeaturedComment:!0})),[2]}}))}))},t.prototype.componentDidUpdate=function(){this.props.shouldFetchFeaturedComment&&this.prepareFeaturedComment(),(0,l.rearrangeTabIndexes)()},t.prototype.onHideAd=function(){this.setState({adsHidden:!0})},t.prototype.render=function(){var e,t=this,i=this.props,s=i.className,o=i.stackList,c=i.commentsCount,r=i.showTopActivityBar,l=i.onShowMore,_=i.isMobile,g=i.hasNextComments,h=i.isLiveBlog,y=this.state,E=y.hasFeaturedComment,k=y.adsHidden;this.rootMessageRefs=new Array(Math.max(0,c));var S,C=[];if(r&&(S=p.default.createElement(m.default,{key:"1",viewportObserver:v.viewportObserver})),d.count(o)>0){var T=-1;c>-1&&(T=c);var I=d.getAggregatedStacksSequence(o),R=d.getRootmessages(o);if(r){if(I){var O=I,P=O.length,N=O.filter((function(e){return 0===e.message.depth})).length;S=p.default.createElement(m.default,{key:"2",messagesCount:P,messageStack:O[0],viewportObserver:v.viewportObserver}),T-=N}}else{var A=I;P=A.length,N=A.filter((function(e){return 0===e.message.depth})).length;C.push(p.default.createElement(u.default,{key:A[0].id,messagesCount:P,onClick:l})),T-=N}if(R){var U=R.filter((function(e){return e.message.status!==n.REPORTED&&!e.isAggregated&&!e.message.isCollapsed}));if(U.forEach((function(e,i){var s,c,r=e.message.user;i>0&&(c=R[i-1]);var n=(0,a.default)(((s={})[M.default.topMessage]=0===i,s));t.rootMessageRefs[i]=p.default.createRef();var l=p.default.createElement(f.default,{ref:t.rootMessageRefs[i],root:e,children:d.traverse(o,e),messageIndex:T,className:n,isStaffParent:t.isStaffUser(r),isStaffUser:t.isStaffUser,previousRoot:c,isTheFirstMessage:0===i,isLastMessage:i===U.length-1});T-=1,C.push(p.default.createElement("li",{key:"message-stack-"+e.id,className:M.default.listItem,"aria-label":"Comment"},p.default.createElement("div",{className:M.default.safariPadder}),l))})),!k&&!h)(0,w.getAdIndices)(R.length,_,E).forEach((function(e){C.splice(e,0,p.default.createElement(b.NativeAdUnit,{key:e,index:e,onHideAd:t.onHideAd}))}))}}return p.default.createElement("ul",{className:(0,a.default)([M.default.messagesList,s,(e={},e[M.default.theEarliestMessages]=!g,e[M.default.isLiveBlog]=h,e)]),"data-spot-im-class":"messages-list",role:"feed","aria-label":"List of Comments"},S,p.default.createElement(x.default,{splitName:(0,w.getExperimentSplitName)()},C))},t.defaultProps={commentsCount:-1,showTopActivityBar:!0,onShowMore:function(){}},t}(p.Component),R=(0,r.connect)((function(e){return{conversationID:e.conversation.id,messages:e.comments.list.messages,shouldFetchFeaturedComment:e.conversation.shouldFetchFeaturedComment,sortBy:e.comments.pagination.sortBy,isMobile:e.isMobile.isMobile,isLiveBlog:k.isLiveBlog(e)}}),(function(e){return{onShowMore:_.default,addMessage:function(t){return e((0,g.addMessage)(t))},updateMessageToBeFeatured:function(t){return e((0,h.updateMessageToBeFeatured)(t))},updateShouldFetchFeaturedComment:function(){return e((0,E.updateShouldFetchFeaturedComment)(!1))}}}),null,{forwardRef:!0})(I);t.default=R},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TopActivityBar=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=s(i(3)),m=o(i(35)),f=o(i(14)),u=i(42),v=i(336),_=i(612),g=o(i(102)),h=i(66),y=o(i(628)),b=o(i(217)),x=i(105),w=s(i(86)),M=i(134),E=i(629),k=o(i(1265)),S=i(123),C=i(59);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var I=function(e){(0,r.default)(i,e);var t=T(i);function i(){return(0,p.default)(this,i),t.apply(this,arguments)}return(0,a.default)(i,[{key:"render",value:function(){var e,t=this.props,i=t.typingUsers,s=t.messagesCount,o=t.messageStack,p=t.onShowMore,a=t.currentUserId,r=t.avatarsTheme,n=t.typingUsersCount,l=t.spotId,m=(0,f.default)(k.default.topActivityBar,(e={},(0,c.default)(e,k.default.hasTyping,n>0),(0,c.default)(e,k.default.hasShowNew,s>0),e));return d.default.createElement(v.ViewportGuard,{viewportObserver:x.viewportObserver,tagName:"li",useViewportObserver:!0,className:k.default.blitzItem},n>0||s>0?d.default.createElement("div",{className:m},d.default.createElement("div",{className:k.default.messageSection},d.default.createElement(E.ConversationTyping,{avatarsTheme:r,users:i,typingUsersCount:n,size:39,spotId:l}),o&&d.default.createElement("div",{className:k.default.message},d.default.createElement("span",{className:k.default.marker}),d.default.createElement(g.default,{avatarsTheme:r,size:S.USER_IMAGE_SIZE.NORMAL,isMe:o.message.user.id===a,isOnline:o.message.user.isOnline,showButton:!1,username:(0,C.getDisplayName)(o.message.user)||o.message.user.username,imageId:o.message.user.imageId,displayName:(0,C.getDisplayName)(o.message.user)}),d.default.createElement("div",{className:k.default.marginV}),d.default.createElement(_.TextEntity,{entity:w.getTextEntity(o.message),maxLines:1,mentions:o.message.mentions,showSeeMore:!1,noAnchors:!0,inline:!0}))),s>0&&d.default.createElement(y.default,{messagesCount:s,onClick:p})):d.default.createElement("div",null))}}]),i}(d.Component);t.TopActivityBar=I,I.propTypes={avatarsTheme:m.default.string,currentUserId:m.default.string.isRequired,typingUsers:m.default.array.isRequired,messagesCount:m.default.number,messageStack:m.default.object,onShowMore:m.default.func,spotId:m.default.string},I.defaultProps={messagesCount:0,onShowMore:function(){}};var R=(0,u.connect)((function(e){return{avatarsTheme:(0,h.getModuleOptions)(e).avatarsTheme,spotId:(0,h.getModuleOptions)(e).spotId,currentUserId:e.currentUser.id,typingUsers:(0,M.getTypingStateOfUsers)(e),typingUsersCount:(0,M.getTypingsCount)(e)}}),{onShowMore:b.default})(I);t.default=R},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.ElementObserver=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=s(i(3)),m=i(2);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var u=function(e){(0,a.default)(i,e);var t=f(i);function i(e){var s;return(0,c.default)(this,i),(s=t.call(this,e)).observedElement=void 0,s}return(0,p.default)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.viewportObserver,i=e.onViewportChange;this.observedElement=(0,m.findDOMNode)(this),t.observe(this.observedElement,{stateChangeHandler:i})}},{key:"componentDidUpdate",value:function(e){var t=this.props,i=t.viewportObserver,s=t.children,o=t.onViewportChange;s!==e.children&&(this.observedElement&&i.unobserve(this.observedElement),this.observedElement=(0,m.findDOMNode)(this),i.observe(this.observedElement,{stateChangeHandler:o}))}},{key:"componentWillUnmount",value:function(){var e=this.props.viewportObserver;this.observedElement&&e.unobserve(this.observedElement)}},{key:"render",value:function(){return this.props.children}}]),i}(d.Component);t.ElementObserver=u,u.displayName="ElementObserver",u.propTypes={viewportObserver:l.default.object.isRequired,onViewportChange:l.default.func},u.defaultProps={onViewportChange:function(){}}},,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.createTextElement=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=i.className,c=void 0===s?"":s,n=i.style,l=i.users,_=void 0===l?[]:l,g=i.maxChars,h=void 0===g?Number.MAX_VALUE:g,y=i.maxBlocks,b=void 0===y?Number.MAX_VALUE:y,x=i.appendElementOnOverflow,w=void 0===x?null:x,M=i.richText,E=void 0===M||M,k=i.preserveLinebreaks,S=void 0===k||k,C=i.noAnchors,T=void 0!==C&&C;null==h&&(h=Number.MAX_VALUE);null==b&&(b=Number.MAX_VALUE);var I={tagName:"div",attributes:{"data-spot-im-class":"message-text","data-edited-text":"(".concat(r.default.t("message.edited"),")"),className:c},children:[],key:0,parent:null},R=0,O=I,P=0,N=0,A=!1;function U(e){var t=P+e.length-h;t>0&&(A=!0,e=e.substr(0,e.length-t)),e.length>0&&(P+=e.length,O.children.push(e)),P>=h&&(A=!0)}var D=new p.Parser({onopentag:function(e,t){if(!A)if(t=Object.keys(t).filter((function(e){return-1===f.indexOf(e)})).reduce((function(e,i){return e[i]=t[i],e}),{}),d.indexOf(e)>-1&&N++,N>b)A=!0;else{var i=!0;if(E&&m.indexOf(e)>-1){var s={tagName:e,attributes:t,children:[],parent:O,key:++R};"a"===e&&(s.attributes.target="_blank",s.attributes.rel="nofollow",T&&(i=!1)),i&&(O.children.push(s),O=s)}else i=!1;if("a"!==e||i)if("span"===e)if(t["data-mention"]){var c=t["data-mention"].split(","),p=(0,o.default)(c,3),a=p[0],r=p[1],l=p[2],u=_.find((function(e){return e.id===a}));u&&u.displayName&&(r=u.displayName),r&&"string"==typeof r||(r=l||""),E?O.children.push(r):O.children.push(" @".concat(r)),P+=r.length,E&&(O.attributes.className=n.mention)}else E&&t["data-text-size"]&&(O.attributes.className=function(){switch(t["data-text-size"]){case"small":return n.smallTextSize;case"normal":return n.normalTextSize;case"large":return n.largeTextSize;default:return}}());else E&&("blockquote"===e?O.attributes.className=n.blockquote:"ul"===e?O.attributes.className=n.ul:"ol"===e&&(O.attributes.className=n.ol),t.class&&(O.attributes.className=O.attributes.className?"".concat(O.attributes.className," ").concat(t.class):t.class));else;}},ontext:function(e){if(!A){var t=(0,a.decodeText)(e);if(t.indexOf("\n")>-1){var i=t.split("\n");i.forEach((function(e,t){++N<=b?t===i.length-1?U(e):U(S?e+"\n":e+" "):A=!0}))}else{U(t+(E||S?"":" "))}}},onclosetag:function(e){E&&m.indexOf(e)>-1&&O.tagName===e&&(O=O.parent)}});D.write(t),D.end();var L=u(I);if(A&&w){var B=L.children[L.children.length-1];B&&"string"==typeof B&&(B=B.replace(/\n$/,""),B+="...",L.children[L.children.length-1]=B),L.children.push({isInjectedElement:!0,element:w})}return v(e,L)};var o=s(i(77)),c=s(i(34)),p=i(202),a=i(1251),r=s(i(183));function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){(0,c.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d=["blockquote","li"],m=["strong","em","a","span"].concat(d,["ul","ol"]),f=["style"];function u(e){var t=e.tagName,i=e.attributes,s=e.children,o=e.key;return{tagName:t,attributes:i,children:s.map((function(e){return"string"==typeof e?e:u(e)})),key:o}}function v(e,t){var i=t.tagName,s=t.attributes,o=t.children,c=t.key,p=o.map((function(t){return t.isInjectedElement?t.element:"string"==typeof t?t:v(e,t)}));return e(i,l(l({},s),{},{key:c}),p)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},t.decodeText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&#34;/g,'"').replace(/&#39;/g,"'")}},function(e,t,i){var s=i(30),o=i(1253);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_text-entity a{color:#307fe2;display:inline-block;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text-entity a{cursor:pointer}#spotim-specific#spotim-specific .spcv_text-entity a,#spotim-specific#spotim-specific .spcv_text-entity a:hover{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_text-entity a:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_text-entity a{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_text-entity{line-height:var(--spotim-message-line-height);letter-spacing:var(--spotim-message-letter-spacing);font-size:var(--spotim-message-font-size-regular);color:var(--spotim-message-text-color);min-height:1px;word-break:break-word;white-space:pre-wrap}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text-entity{margin-bottom:6px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_text-entity{margin-left:1px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_text-entity{margin-right:1px}#spotim-specific#spotim-specific .spcv_text-entity.spcv_entity{zoom:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text-entity.spcv_inline{margin-bottom:0}#spotim-specific#spotim-specific .spcv_text-entity a{color:var(--spotim-brand-color);line-height:var(--spotim-message-line-height);font-size:var(--spotim-message-font-size-medium);white-space:pre-wrap}#spotim-specific#spotim-specific .spcv_text-entity .spcv_small-text-size{font-size:var(--spotim-message-font-size-small)}#spotim-specific#spotim-specific .spcv_text-entity .spcv_normal-text-size{font-size:var(--spotim-message-font-size-medium)}#spotim-specific#spotim-specific .spcv_text-entity .spcv_large-text-size{font-size:var(--spotim-message-font-size-large)}#spotim-specific#spotim-specific .spcv_text-entity .spcv_mention{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_text-entity .spcv_content{display:block}#spotim-specific#spotim-specific .spcv_text-entity .spcv_blockquote{font-style:italic;color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text-entity .spcv_blockquote{margin:5px 0}#spotim-specific#spotim-specific .spcv_text-entity .spcv_blockquote:before{content:"\\201C"}#spotim-specific#spotim-specific .spcv_text-entity .spcv_blockquote:after{content:"\\201D"}#spotim-specific#spotim-specific .spcv_text-entity .spcv_ul{list-style:initial}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text-entity .spcv_ul{margin-top:12px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_text-entity .spcv_ul{padding-left:40px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_text-entity .spcv_ul{padding-right:40px}#spotim-specific#spotim-specific .spcv_text-entity .spcv_ul li{list-style:initial}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text-entity .spcv_ul li{margin-top:6px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text-entity .spcv_ol{margin-top:12px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text-entity .spcv_ol li{margin-top:6px}#spotim-specific#spotim-specific .spcv_text-entity .spcv_see-more{font-weight:var(--spotim-font-weight-semibold);color:var(--spotim-message-text-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text-entity .spcv_see-more{cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_text-entity .spcv_see-more{margin-left:9px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_text-entity .spcv_see-more{margin-right:9px}#spotim-specific#spotim-specific .spcv_text-entity .spcv_see-more:hover{text-decoration:none;color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_small{font-size:12px;line-height:1.5em;-ms-flex:1;flex:1;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}#spotim-specific#spotim-specific .spcv_text-entity.spcv_small .spcv_small-text-size{font-size:var(--spotim-message-font-size-x-small)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_small .spcv_normal-text-size{font-size:var(--spotim-message-font-size-small)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_small .spcv_large-text-size{font-size:var(--spotim-message-font-size-medium)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_large{font-size:var(--spotim-font-size-large);line-height:1.5em}#spotim-specific#spotim-specific .spcv_text-entity.spcv_large .spcv_small-text-size{font-size:var(--spotim-message-font-size-small)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_large .spcv_normal-text-size{font-size:var(--spotim-message-font-size-medium)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_large .spcv_large-text-size{font-size:var(--spotim-message-font-size-large)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_x-large{font-size:24px;line-height:30px}#spotim-specific#spotim-specific .spcv_text-entity.spcv_x-large .spcv_small-text-size{font-size:var(--spotim-message-font-size-medium)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_x-large .spcv_normal-text-size{font-size:var(--spotim-message-font-size-large)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_x-large .spcv_large-text-size{font-size:var(--spotim-message-font-size-x-large)}#spotim-specific#spotim-specific .spcv_text-entity.spcv_isEmpty{zoom:1}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","text-entity":"spcv_text-entity",textEntity:"spcv_text-entity",entity:"spcv_entity",inline:"spcv_inline","small-text-size":"spcv_small-text-size",smallTextSize:"spcv_small-text-size","normal-text-size":"spcv_normal-text-size",normalTextSize:"spcv_normal-text-size","large-text-size":"spcv_large-text-size",largeTextSize:"spcv_large-text-size",mention:"spcv_mention","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",content:"spcv_content",blockquote:"spcv_blockquote",ul:"spcv_ul",ol:"spcv_ol","see-more":"spcv_see-more",seeMore:"spcv_see-more",small:"spcv_small",large:"spcv_large","x-large":"spcv_x-large",xLarge:"spcv_x-large",isEmpty:"spcv_isEmpty"}},,,,,function(e,t,i){var s=i(30),o=i(1259);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_show-new-button-wrapper{position:relative;display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-new-button-wrapper{text-align:center;margin-top:12px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_show-new-button-wrapper{margin:15px 0}#spotim-specific#spotim-specific .spcv_show-new-button-wrapper .spcv_leftSeparator{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-new-button-wrapper .spcv_leftSeparator{border-top:1px solid var(--spotim-border-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-new-button-wrapper .spcv_leftSeparator{margin-right:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-new-button-wrapper .spcv_leftSeparator{margin-left:12px}#spotim-specific#spotim-specific .spcv_show-new-button-wrapper .spcv_rightSeparator{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-new-button-wrapper .spcv_rightSeparator{border-top:1px solid var(--spotim-border-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-new-button-wrapper .spcv_rightSeparator{margin-left:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-new-button-wrapper .spcv_rightSeparator{margin-right:12px}#spotim-specific#spotim-specific .spcv_show-new-button-wrapper .spcv_show-new-button{position:relative;line-height:27px;font-size:var(--spotim-font-size-medium);color:var(--spotim-text-over-brand-color);font-weight:var(--spotim-font-weight-bold);outline:none;-ms-flex:0 0 auto;flex:0 0 auto}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-new-button-wrapper .spcv_show-new-button{border:none;border-radius:var(--spotim-border-radius-medium);padding:0 9px;cursor:pointer}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","show-new-button-wrapper":"spcv_show-new-button-wrapper",showNewButtonWrapper:"spcv_show-new-button-wrapper","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",leftSeparator:"spcv_leftSeparator",rightSeparator:"spcv_rightSeparator","show-new-button":"spcv_show-new-button",showNewButton:"spcv_show-new-button"}},function(e,t,i){var s=i(30),o=i(1261);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_details{zoom:1}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_details:after,#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_details:before{content:" ";display:block;height:0;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation-typing .spcv_details:after{clear:both}#spotim-specific#spotim-specific .spcv_conversation-typing{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image-wrapper{position:relative;opacity:.7}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation-typing .spcv_user-image-wrapper{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation-typing .spcv_user-image-wrapper{margin-left:0}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter{z-index:400}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:after,#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:before{position:absolute;top:0;bottom:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:after,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:before{border-radius:50%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:after,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:before,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:after,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:before{left:0;right:0}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:before{content:"";opacity:.2;z-index:500}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:before{background-color:#000}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image-wrapper.spcv_counter:after{font-weight:700;color:#fff;content:attr(data-typing-users-count);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;z-index:600}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image-wrapper.spcv_medium:after{font-size:18px}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image-wrapper.spcv_normal:after{font-size:15px}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image-wrapper.spcv_small:after{font-size:11px}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_user-image{display:block}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_details{color:#fff;height:44px;position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation-typing .spcv_details{padding:10px 15px 12px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation-typing .spcv_details .spcv_typing-animation{margin-top:9px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation-typing .spcv_details .spcv_typing-animation{float:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation-typing .spcv_details .spcv_typing-animation{float:right}#spotim-specific#spotim-specific .spcv_conversation-typing .spcv_details .spcv_count{font-size:11px;font-weight:700;height:24px;line-height:24px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation-typing .spcv_details .spcv_count{background-color:#c3c5c7;border-radius:3px;padding:0 8px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation-typing .spcv_details .spcv_count{margin:0 0 0 40px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation-typing .spcv_details .spcv_count{margin:0 40px 0 0}#spotim-specific#spotim-specific .spcv_conversation-typing.spcv_small .spcv_details{height:34px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation-typing.spcv_small .spcv_details{padding-top:5px}#spotim-specific#spotim-specific .spcv_conversation-typing.spcv_small .spcv_details:before{top:11px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_dark .spcv_conversation-typing .spcv_details:before{border-right-color:hsla(0,0%,100%,.2)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_dark .spcv_conversation-typing .spcv_details:before{border-left-color:hsla(0,0%,100%,.2)}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","conversation-typing":"spcv_conversation-typing",conversationTyping:"spcv_conversation-typing",details:"spcv_details","user-image-wrapper":"spcv_user-image-wrapper",userImageWrapper:"spcv_user-image-wrapper",counter:"spcv_counter",medium:"spcv_medium",normal:"spcv_normal",small:"spcv_small","user-image":"spcv_user-image",userImage:"spcv_user-image","typing-animation":"spcv_typing-animation",typingAnimation:"spcv_typing-animation",count:"spcv_count",dark:"spcv_dark"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.TypingAnimation=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=o(i(35)),m=s(i(3)),f=o(i(14)),u=o(i(1263));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var _=function(e){(0,r.default)(i,e);var t=v(i);function i(){return(0,p.default)(this,i),t.apply(this,arguments)}return(0,a.default)(i,[{key:"render",value:function(){var e,t=(0,f.default)(u.default.typingAnimation,(e={},(0,c.default)(e,u.default.small,this.props.isSmall),(0,c.default)(e,u.default.transparent,this.props.transparent),e));return m.default.createElement("span",{className:t},m.default.createElement("span",null),m.default.createElement("span",null),m.default.createElement("span",null))}}]),i}(m.Component);t.TypingAnimation=_,_.displayName="TypingAnimation",_.propTypes={isSmall:d.default.bool},_.defaultProps={isSmall:!1}},function(e,t,i){var s=i(30),o=i(1264);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_typing-animation{zoom:1}#spotim-specific#spotim-specific .spcv_typing-animation:after,#spotim-specific#spotim-specific .spcv_typing-animation:before{content:" ";display:block;height:0;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_typing-animation:after{clear:both}#spotim-specific#spotim-specific .spcv_typing-animation,#spotim-specific#spotim-specific .spcv_typing-animation span{height:6px}#spotim-specific#spotim-specific .spcv_typing-animation span{width:6px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_typing-animation span{background-color:#7b7f83;border-radius:50%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-animation span{animation-name:spcv_typing-animation;animation-duration:1.4s;animation-iteration-count:infinite;animation-fill-mode:both;float:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-animation span{animation-name:spcv_typing-animation;animation-duration:1.4s;animation-iteration-count:infinite;animation-fill-mode:both;float:right}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-animation span+span{margin-left:3px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-animation span+span{margin-right:3px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-animation span:nth-child(2),#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-animation span:nth-child(2){animation-delay:.2s}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-animation span:nth-child(3),#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-animation span:nth-child(3){animation-delay:.4s}#spotim-specific#spotim-specific .spcv_typing-animation.spcv_small,#spotim-specific#spotim-specific .spcv_typing-animation.spcv_small span{height:5px}#spotim-specific#spotim-specific .spcv_typing-animation.spcv_small span{width:5px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_typing-animation.spcv_transparent span{background-color:none}@keyframes spcv_typing-animation{0%{opacity:.2}20%{opacity:1}to{opacity:.2}}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","typing-animation":"spcv_typing-animation",typingAnimation:"spcv_typing-animation",small:"spcv_small",transparent:"spcv_transparent"}},function(e,t,i){var s=i(30),o=i(1266);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_top-activity-bar .spcv_message-section .spcv_message{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}#spotim-specific#spotim-specific .spcv_messages-list{list-style-type:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_messages-list{margin:0;padding:0}#spotim-specific#spotim-specific .spcv_messages-list{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_messages-list{clear:both;padding-top:15px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_messages-list{padding-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_messages-list{padding-right:0}@keyframes spcv_blink{0%{opacity:1}50%{opacity:0}to{opacity:1}}@keyframes spcv_hide{0%{opacity:1}to{opacity:0}}@keyframes spcv_unindent-ltr{0%{margin-left:15px}to{margin-left:0}}@keyframes spcv_unindent-rtl{0%{margin-left:15px}to{margin-left:0}}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_messages-list .spcv_immediate-mark,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_messages-list .spcv_immediate-mark{animation:spcv_blink 1s linear 3s both}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_messages-list .spcv_immediate-mark .spcv_marked-component{animation:spcv_unindent-ltr .1s linear 5s both}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_messages-list .spcv_immediate-mark .spcv_marked-component{animation:spcv_unindent-rtl .1s linear 5s both}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_messages-list .spcv_immediate-mark .spcv_marker,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_messages-list .spcv_immediate-mark .spcv_marker{animation:spcv_hide 1s linear 4s both}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_messages-list li:last-child .spcv_root-message{border-bottom:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_is-live-blog{padding-top:0}#spotim-specific#spotim-specific .spcv_the-earliest-messages.spcv_is-live-blog li:last-child .spcv_root-message:after{position:absolute;display:block;content:"";box-sizing:content-box;bottom:0;top:auto;width:8px;height:8px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_the-earliest-messages.spcv_is-live-blog li:last-child .spcv_root-message:after{border:5px solid #fff;background:#c3c5c7;border-radius:100px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_the-earliest-messages.spcv_is-live-blog li:last-child .spcv_root-message:after{left:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_the-earliest-messages.spcv_is-live-blog li:last-child .spcv_root-message:after{right:12px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_contentLoaderWrapper{margin-top:30px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_contentLoaderWrapper .spcv_contentLoader{margin-top:50px}#spotim-specific#spotim-specific .spcv_list-item.spcv_list-item{list-style:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_list-item.spcv_list-item{margin:0}#spotim-specific#spotim-specific .spcv_safari-padder{height:1px;display:none}#spotim-specific#spotim-specific .spcv_conversation>.spcv_messages-list>li:last-child .spcv_show-more-replies.spcv_last-message:not(.spcv_show-more):after,#spotim-specific#spotim-specific .spcv_list-item:nth-child(2) .spcv_safari-padder{height:0}#spotim-specific#spotim-specific .spcv_top-activity-bar{width:100%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_top-activity-bar.spcv_has-typing{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_top-activity-bar.spcv_has-typing{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_top-activity-bar.spcv_has-typing .spcv_show-new-button-wrapper{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_top-activity-bar.spcv_has-typing .spcv_show-new-button-wrapper{margin-right:0}#spotim-specific#spotim-specific .spcv_top-activity-bar .spcv_text-entity{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:15px;line-height:1.4}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_top-activity-bar .spcv_text-entity{margin-top:-1px}#spotim-specific#spotim-specific .spcv_top-activity-bar .spcv_marker{height:24px;width:1px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_top-activity-bar .spcv_marker{background-color:var(--spotim-border-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_top-activity-bar .spcv_marker{margin-right:15px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_top-activity-bar .spcv_marker{margin-left:15px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_top-activity-bar .spcv_marker{display:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_top-activity-bar .spcv_margin-v{margin-right:9px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_top-activity-bar .spcv_margin-v{margin-left:9px}#spotim-specific#spotim-specific .spcv_top-activity-bar .spcv_message-section{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific .spcv_top-activity-bar .spcv_message-section .spcv_conversation-typing{-ms-flex-negative:0;flex-shrink:0}#spotim-specific#spotim-specific .spcv_top-activity-bar .spcv_message-section .spcv_message{overflow:hidden;-ms-flex-negative:1;flex-shrink:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific .spcv_top-activity-bar .spcv_message-section .spcv_message>*{-ms-flex-negative:0;flex-shrink:0}#spotim-specific#spotim-specific .spcv_top-activity-bar .spcv_message-section .spcv_message .spcv_text-entity{-ms-flex-negative:1;flex-shrink:1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_top-activity-bar,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_top-activity-bar .spcv_message,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_top-activity-bar .spcv_show-new-button-wrapper{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_top-activity-bar,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_top-activity-bar .spcv_message,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_top-activity-bar .spcv_show-new-button-wrapper{margin-right:0}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_top-activity-bar .spcv_text-entity{font-size:11px}#spotim-specific#spotim-specific .spcv_blitzItem{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_blitzItem{margin:0}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","top-activity-bar":"spcv_top-activity-bar",topActivityBar:"spcv_top-activity-bar","message-section":"spcv_message-section",messageSection:"spcv_message-section",message:"spcv_message","messages-list":"spcv_messages-list",messagesList:"spcv_messages-list","immediate-mark":"spcv_immediate-mark",immediateMark:"spcv_immediate-mark",blink:"spcv_blink","marked-component":"spcv_marked-component",markedComponent:"spcv_marked-component","unindent-ltr":"spcv_unindent-ltr",unindentLtr:"spcv_unindent-ltr","unindent-rtl":"spcv_unindent-rtl",unindentRtl:"spcv_unindent-rtl",marker:"spcv_marker",hide:"spcv_hide","root-message":"spcv_root-message",rootMessage:"spcv_root-message","is-live-blog":"spcv_is-live-blog",isLiveBlog:"spcv_is-live-blog","the-earliest-messages":"spcv_the-earliest-messages",theEarliestMessages:"spcv_the-earliest-messages",contentLoaderWrapper:"spcv_contentLoaderWrapper",contentLoader:"spcv_contentLoader","list-item":"spcv_list-item",listItem:"spcv_list-item","safari-padder":"spcv_safari-padder",safariPadder:"spcv_safari-padder",conversation:"spcv_conversation","show-more-replies":"spcv_show-more-replies",showMoreReplies:"spcv_show-more-replies","last-message":"spcv_last-message",lastMessage:"spcv_last-message","show-more":"spcv_show-more",showMore:"spcv_show-more","has-typing":"spcv_has-typing",hasTyping:"spcv_has-typing","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","show-new-button-wrapper":"spcv_show-new-button-wrapper",showNewButtonWrapper:"spcv_show-new-button-wrapper","text-entity":"spcv_text-entity",textEntity:"spcv_text-entity","margin-v":"spcv_margin-v",marginV:"spcv_margin-v","conversation-typing":"spcv_conversation-typing",conversationTyping:"spcv_conversation-typing",blitzItem:"spcv_blitzItem"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,p=o(i(3)),a=i(42),r=s(i(14)),n=o(i(100)),l=o(i(107)),d=i(1268),m=o(i(48)),f=s(i(630)),u=s(i(679)),v=s(i(693)),_=i(44),g=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(){return(h=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e){function t(t){var s=e.call(this,t)||this;return s.childrenRefs=[],s.messageStackRef=p.default.createRef(),s.viewMessage=function(e){s.messageStackRef.current&&(s.messageStackRef.current.wrappedInstance.viewMessage(e),s.childrenRefs.forEach((function(t){t.current.wrappedInstance.viewMessage(e)})))},s.snippets=i(1562),s}return g(t,e),t.prototype.createDateAriaLableText=function(e,t){var i=new Date(1e3*t);return e+" commented "+["January","February","March","April","May","June","July","August","September","October","November","December"][i.getMonth()]+" "+i.getDate()},t.prototype.render=function(){var e,t,i=this,s=this.props,o=s.root,c=s.children,a=s.messageIndex,l=s.showReplySayControl,m=s.useExpandButton,g=s.repliesMaxDepth,y=s.isStaffParent,b=s.isStaffUser,x=s.isTheFirstMessage,w=s.shouldCollapseReplies,M=s.isEdit,E=s.isLiveBlog,k=o.message.user,S=this.snippets.handleTOLSpacing(this.props),C=S.isAdjacentStaffReply,T=S.isPreviousShowMoreReplies,I=S.isPreviousStaffComment,R=b(k),O=this.snippets.getClassNames(h(h({},this.props),{isAdjacentStaffReply:C,isPreviousShowMoreReplies:T,isPreviousStaffComment:I,isStaff:R,isTheFirstMessage:x,isEdit:M,isLiveBlog:E})),P=(0,r.default)(O,((e={})[v.default.isLiveBlogNoUserImage]=_.disableUserAvatar&&E,e[v.default.isLastMessageNoUserImage]=_.disableUserAvatar&&this.props.isLastMessage,e)),N=(0,r.default)(v.default.childrenList,((t={})[v.default.empty]=0===c.length,t)),A=n.getMessage(o),U=this.createDateAriaLableText(k.username,o.message.postedAt);return this.childrenRefs=[],p.default.createElement("article",{className:P},p.default.createElement(f.default,{ref:this.messageStackRef,isTheFirstMessage:x,stack:o,messageIndex:a,"aria-labelledby":"comment-description-"+a,"aria-describedby":"comment-content-"+a,isLastMessageInThread:o.message.id===this.props.lastMessageId}),p.default.createElement(d.AccessibilityLabel,{id:"comment-description-"+a,"aria-label":U}),p.default.createElement("ul",{className:N},c.map((function(e,t){var s=e.message.user,o="message-stack-"+e.id;return e.message.isNew&&(w&&(e.isLastMessage=!1)),i.snippets.renderChildrenStack(h({key:o,messageUser:s,index:t,stack:e,messageIndex:a,isStaffUser:b,isStaffParent:y,isAdjacentStaffReply:C,isLastMessageInThread:e.message.id===i.props.lastMessageId},i.props))}))),l&&p.default.createElement(u.default,{autoFocus:!m,useExpandButton:m,stackId:o.id,className:v.default["depth-"+Math.min(A.depth,g-1)],rootMessageId:A.rootMessageId||A.id,replyToStackId:o.id,replyToMessage:A,parentMessageId:A.id,userImageSize:"normal",depth:A.depth+1}))},t.defaultProps={children:[],showReplySayControl:!1,useExpandButton:!1,repliesMaxDepth:2,shouldCollapseReplies:!1},t}(p.Component),b=(0,a.connect)((function(e,t){var i=e.messageSayControls,s=e.moduleOptions,o=e.comments,c=e.conversation,p=c.isSubmittingEdit,a=c.editedMessageId,r=t.root,n=s.repliesMaxDepth,d=s.pageSize,f=s.spotId,u=s.testOption,v=s.shouldCollapseReplies,_=r.message.id,g=i[_],h=!!(null==g?void 0:g.isEdit)||p&&a===_,y=!(g&&g.isCreate),b=e.ui.optimizedMessageStack,x=m.isLiveBlog(e),w=l.getLastMessageStack(o.list,r);return{spotId:f,showReplySayControl:!1,useExpandButton:y,repliesMaxDepth:n,pageSize:d,optimizedMessageStack:b,testOption:u,shouldCollapseReplies:v,lastMessageId:w?w.message.id:_,stackList:o.list,isEdit:h,isLiveBlog:x}}),null,null,{forwardRef:!0})(y);t.default=b},,,function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ConversationMessage=void 0;var c,p=o(i(65)),a=s(i(3)),r=i(42),n=o(i(14)),l=i(1271),d=o(i(670)),m=i(66),f=i(671),u=i(656),v=i(672),_=i(1467),g=i(1468),h=i(673),y=i(674),b=i(675),x=i(1469),w=i(655),M=i(634),E=s(i(677)),k=i(91),S=i(93),C=i(669),T=s(i(48)),I=i(51),R=i(55),O=i(68),P=i(148),N=i(1470),A=o(i(1472)),U=i(668),D=i(658),L=i(1474),B=i(47),j=o(i(678)),q=i(49),z=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),F=function(){return(F=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},W=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),o=0;for(t=0;t<i;t++)for(var c=arguments[t],p=0,a=c.length;p<a;p++,o++)s[o]=c[p];return s},V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.messageRef=a.default.createRef(),t.hostProviderNotify=function(e,t){I.hostProvider.notifyHostApi(e,t)},t.handleMessageUrlClick=function(e){var i=t.props,s=i.href,o=i.referTraffic;(0,M.openLink)({url:e,newTab:!1,referTraffic:o,href:s})},t.handleBlockUser=function(e){var i=e.userId,s=e.deleteSpotUserContent,o=t.props.spotId;(0,j.default)({userId:i,spotId:o,deleteSpotUserContent:s})},t.viewMessage=function(e){e===t.props.message.id&&t.messageRef.current&&t.messageRef.current.viewMessage()},t}return z(t,e),t.prototype.componentDidMount=function(){this.props.message.id!==this.props.highlightedReplyId&&this.props.message.id!==this.props.highlightedCommentId||this.props.onReply()},t.prototype.enableShowText=function(){var e=this.props,t=e.isLiveBlog,i=e.enableSeeMoreButton,s=e.isRootMessage;return t&&s?!!(0,B.isTablet)()||(!(0,B.isMobile)()||!i):!i},t.prototype.render=function(){var e,t=this.props,i=t.message,s=t.conversationLongerComments,o=t.currentUser,c=t.isConnectEnabled,p=t.isMobileDevice,r=t.isLiveBlog,d=t.repliesMaxDepth,m=t.theme,f=t.isTheFirstMessage,u=t.shouldLimitFirstMessageLength,v=t.maxCharsCountDesktop,_=t.maxCharsCountMobile,g=t.maxLinesCount,h=t.shouldLimitMessageLength,y=t.enableNewMessageSticky,b=t.enableRealtimeCommentsSticky,x=t.dispatch,w=t.enableSSO,M=s?750:void 0,E=8;f&&u&&(M=p?_:v,E=g),h&&(M=p?_:v,E=g);var k={maxChars:M,maxLines:E,shortenText:!0,showUserImageButton:c&&!w,showLoadFrameEntityButton:!1,depth:Math.min(i.depth,d),message:JSON.parse(JSON.stringify(i)),currentUser:JSON.parse(JSON.stringify(o)),showFullText:this.enableShowText(),theme:m,isTheFirstMessage:f,hostProviderNotify:this.hostProviderNotify,placeholderTextKey:"richEditor.placeholder.replyTo",onBlockUser:this.handleBlockUser,onMessageUrlClick:this.handleMessageUrlClick,enableNewMessageSticky:y,enableRealtimeCommentsSticky:b,dispatch:x,messageModeratingStage:i.messageModeratingStage},S=(0,n.default)(A.default.conversationMessage,((e={})[A.default.padded]=r,e));return a.default.createElement(l.Message,F({ref:this.messageRef,className:S},this.props,k))},t}(a.Component);t.ConversationMessage=V;var H=(0,p.default)((0,r.connect)((function(e,t){var i,s=e.moduleOptions,o=e.currentUser,c=e.profileHover,p=e.comments,a=(0,m.getModuleOptions)(e).theme,r=s.direction,n=s.isConnectEnabled,l=s.allowFrameEntityLoad,d=s.repliesMaxDepth,f=s.conversationLongerComments,u=s.enableSSO,v=s.conversationImageAnchorsDisabled,_=s.spotId,g=s.postId,h=s.avatarsTheme,y=s.enableNewMessageSticky,b=s.enableSeeMoreButton,x=s.textsOverrides,w=x.communityModeratorBadgeText,M=x.moderatorBadgeText,E=x.reporterBadgeText,k=x.adminBadgeText,S=x.journalistBadgeText,C=s.isMobile,I=s.enableHighlightMessageSticky,R=s.shouldLimitFirstMessageLength,O=s.maxCharsCountDesktop,P=s.maxCharsCountMobile,N=s.maxLinesCount,A=s.shouldLimitMessageLength,U=s.highlightedReplyId,D=s.highlightedCommentId,L=s.enableRealtimeCommentsSticky,B=s.enableSegmentedCategory,j=s.disableProfileHover,q=t.message,z=q.id===q.rootMessageId,F=T.isLiveBlog(e),W=!F,V=o.isAdmin||o.isCommunityModerator||o.isModerator||o.isSuperAdmin,H=(null===(i=null==p?void 0:p.failedMessageTemp)||void 0===i?void 0:i.message.id)===(null==q?void 0:q.id),G=null==p?void 0:p.failedMessageTemp;return{direction:r,isConnectEnabled:n,allowFrameEntityLoad:l,repliesMaxDepth:d,avatarsTheme:h,currentUser:o,conversationLongerComments:f,enableSSO:u,spotId:_,postId:g,noImageAnchors:v,communityModeratorBadgeText:w,moderatorBadgeText:M,reporterBadgeText:E,adminBadgeText:k,journalistBadgeText:S,enableCategoryModeration:B,profileHoverUser:c.user,enableNewMessageSticky:y,isMobileDevice:T.isMobile(e)||C,enableSeeMoreButton:b,enableHighlightMessageSticky:I,isLiveBlog:F,enableReplies:W,theme:a,shouldLimitFirstMessageLength:R,maxCharsCountDesktop:O,maxCharsCountMobile:P,maxLinesCount:N,shouldLimitMessageLength:A,highlightedReplyId:U,highlightedCommentId:D,isRootMessage:z,userToken:e.authentication.token,href:s.href,referTraffic:s.referTraffic,enableRealtimeCommentsSticky:L,isStaffMember:V,isFailedMessage:H,failedMessageTemp:G,disableProfileHover:j}}),(function(e,t){var i=t.message;return{onLoadFrameButtonClick:function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e(U.notifyHostEvent.apply(void 0,W(["spot-im-frame-entity-load"],t)))},onReply:function(){e((0,u.openMessageSayControl)({messageId:i.id}))},onMessageUnmark:function(){e((0,g.unmarkMessage)({id:i.id}))},onDelete:function(){e((0,f.deleteMessage)({message:i}))},onEdit:function(t){var s=i.id,o=i.starsRating;"string"==typeof t&&(s=t),e((0,v.openEditSayControl)({messageId:s,starsRating:o}))},onReport:function(t,s){return void 0===s&&(s=!0),e((0,_.reportMessage)({message:i}))},reportConfirmation:function(e){return E.openReportMessageModal(e)},onUserWhiteList:function(t){e((0,h.changeUserWhiteListStatus)(t,i))},onPinMessage:function(t){e((0,y.changePinMessageStatus)(t,i))},loadVotedUsers:function(t){var i=t.messageDepth,s=t.messageId,o=t.offset,c=void 0===o?0:o,p=t.count,a=void 0===p?10:p;e((0,D.getUpVotes)({messageDepth:i,messageId:s,offset:c,count:a}))},onOpenUserProfileModal:function(t){e((0,S.openUserProfileModal)(t))},onVotesSummaryTooltipHide:function(){e((0,L.resetUpVotes)())},onLogin:function(){e((0,k.openLoginSelectorModal)())},onUserProfileHover:function(t,i,s){e((0,C.getBasicUserProfile)(t,i,s))},highlightMessage:function(){(0,d.default)((function(){e((0,b.scrollToMessage)(i.id))}))},pinFeaturedComment:function(t,i){e((0,P.pinFeaturedComment)(t,i))},muteUser:function(t){e((0,N.muteUser)(t))},dispatch:e}}),(function(e,t,i){var s=t.dispatch,o=t.highlightMessage,c=e.currentUser,p=e.enableHighlightMessageSticky,a=e.enableCategoryModeration,r=i.t;return F(F(F(F({},e),t),i),{onContextMenuShow:function(e){var t=c.isAdmin,i=c.isModerator,o=c.isSuperAdmin,p=c.isJournalist;(t||o||p)&&0===e.depth&&s((0,y.getPinMessageStatus)(e)),(t||i)&&e.user.isRegistered&&s((0,h.getUserWhiteListStatus)(e)),a&&s((0,R.getModerationTickets)())},showNewMessageSticky:function(e){p&&!(0,O.isSameUser)(e.user,c)&&(0,w.isMessageInDocument)(e.id)&&!(0,w.isMessageInViewport)(e.id)&&(0,x.showNewMessageSticky)({message:e,onClick:function(){return o()},t:r})},onImageUpload:function(e){s((0,R.profileImageUpload)({userId:c.id,rawImage:e}))}})}),{forwardRef:!0}),(0,q.withTranslation)(void 0,{withRef:!0}))(V);t.default=H},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var c=o(i(34)),p=o(i(40)),a=o(i(41)),r=o(i(32)),n=o(i(33)),l=o(i(37)),d=o(i(38)),m=o(i(36)),f=o(i(4)),u=i(1272),v=i(52),_=s(i(76)),g=i(96),h=o(i(14)),y=o(i(35)),b=s(i(3)),x=o(i(1283)),w=o(i(1377)),M=o(i(1380)),E=i(655),k=i(231),S=i(39),C=i(68),T=i(56),I=o(i(1383)),R=o(i(1385)),O=o(i(1388)),P=o(i(1393)),N=o(i(1425)),A=o(i(1441)),U=o(i(1457)),D=o(i(1459)),L=o(i(1462)),B=i(50);function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){(0,c.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,d.default)(this,i)}}var F=(0,b.lazy)((function(){return Promise.all([i.e(24),i.e(56)]).then(i.t.bind(null,1771,7))})),W=(0,b.lazy)((function(){return Promise.all([i.e(24),i.e(25),i.e(98)]).then(i.t.bind(null,1776,7))})),V=(0,b.lazy)((function(){return Promise.all([i.e(12),i.e(7)]).then(i.t.bind(null,356,7))})),H=function(e){(0,l.default)(s,e);var t=z(s);function s(e){var o;return(0,r.default)(this,s),(o=t.call(this,e)).messageRef=b.default.createRef(),o.messageDetailsRef=b.default.createRef(),o.messageEntitiesRef=b.default.createRef(),o.deletedMessageRef=b.default.createRef(),o.appearanceRef=b.default.createRef(),o.appearanceInnerRef=b.default.createRef(),o.messageMarkerRef=b.default.createRef(),o.state={collapsed:!1,showFeaturedCommentModal:!1,showMuteUserModal:!1,showDeletedMessageModal:!1},o.handleEdit=function(){o.props.onEdit(o.props.message.id)},o.onDelete=(0,a.default)(p.default.mark((function e(){return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.deleteAction();case 1:case"end":return e.stop()}}),e)}))),o.deleteAction=function(){var e=o.props.message;o.props.onDelete({message:e})},o.hasContextMenu=function(e){return!0===e.isAdmin||!0===e.isModerator||!0===e.isJournalist||!0===e.isSuperAdmin||!0===e.isCommunityModerator},o.isMyMessage=function(e,t){return t.user.id===e.id},o.handleUserProfileGotFocus=function(){},o.handleMessageReplyGotFocus=function(){},o.openFeaturedCommentModal=function(){o.setState({showFeaturedCommentModal:!0})},o.openMuteUserModal=function(){o.setState({showMuteUserModal:!0})},o.closeMuteUserModal=function(e){o.setState({showMuteUserModal:!1});var t={type:"user-prompt-message-clicked",item_type:"mute-user-prompt-message",target_type:e?"mute":"cancel",post_id:o.props.postId};(0,B.analyticsTrack)(t)},o.muteUserHovered=function(){var e={type:"user-prompt-message-viewed",item_type:"mute-user-prompt-message",target_type:"mute",post_id:o.props.postId};(0,B.analyticsTrack)(e)},o.closeFeaturedCommentModal=function(e){var t=o.props,i=t.pinFeaturedComment,s=t.message;"top-featured"===e&&i(s,e),o.setState({showFeaturedCommentModal:!1})},o.closeDeletedMessageModal=function(e){e&&o.onDelete(),o.setState({showDeletedMessageModal:!1})},o.handleCloseReportMessageModal=function(){var e=(0,a.default)(p.default.mark((function e(t){var i,s,c,a;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.props.message,"ok"!==t){e.next=4;break}return e.next=4,o.onReport();case 4:s=i.featuredComment?"featured-comment":"main",c=function(){if(i.featuredComment)return"top"===o.props.featuredComment?"top-featured-comment":"in-conversation-featured"}(),a={type:"report-message-clicked",target_type:s,segment:c,message_id:i.id,post_id:o.props.postId},(0,B.analyticsTrack)(a),o.setState({showReportMessageModal:!1});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleReport=function(){o.setState({showReportMessageModal:!0})},o.onDeletedMessageModalOpen=function(){o.setState({showDeletedMessageModal:!0})},o.viewMessage=function(){o.appearanceInnerRef.current&&o.appearanceInnerRef.current.scrollIntoView({behavior:"smooth"})},o.sendFailedMessage=function(){var e=o.props,t=e.failedMessageTemp,i=e.dispatch;t.message&&i((0,k.createMessage)(q(q({},t.message),{},{isRetry:!0})))},o.snippets=i(1465),o}return(0,n.default)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.enableNewMessageSticky,i=e.message,s=e.currentUser,o=e.enableHighlightMessageSticky,c=e.enableRealtimeCommentsSticky,p=e.dispatch;i.isNew&&t&&c&&o&&!(0,C.isSameUser)(i.user,s)&&(0,E.isMessageInDocument)(i.id)&&!(0,E.isMessageInViewport)(i.id)&&!i.featured&&p({type:S.SHOW_NEW_MESSAGE_TOAST,payload:{message:i}})}},{key:"getDetailsHeight",value:function(){return(this.props.message.isDeleted?this.deletedMessageRef:this.messageDetailsRef).current.offsetHeight}},{key:"getEntitiesOriginalHeight",value:function(){return this.props.message.isDeleted?0:this.messageEntitiesRef.current.offsetHeight}},{key:"setMessageEntitiesHeight",value:function(e){var t=this.props.message.isDeleted,i=this.messageEntitiesRef.current;!t&&i&&(i.style.height=e)}},{key:"onMessageUrlClick",value:function(e){this.props.onMessageUrlClick(this.props.messageUrl),e.preventDefault()}},{key:"onReport",value:function(){var e=this.props,t=e.message;return(0,e.hostProviderNotify)(v.CLICKED_FLAG,t),this.snippets.handleReport(this.props)}},{key:"mark",value:function(){var e=this;this.messageMarkerRef.current.mark((function(){e.props.onMessageUnmark({id:e.props.message.id})}))}},{key:"isPendingOrBlocked",value:function(e){return e.status===(_.PENDING&&!e.isPublished)||e.status===_.BLOCKED}},{key:"isHidden",value:function(e){return this.isPendingOrBlocked(e)}},{key:"render",value:function(){var e,t=this.props,i=t.className,s=t.message,o=t.currentUser,p=t.messageUrl,a=t.messageIndex,r=t.enterAnimationDisabled,n=t.noAnchors,l=t.depth,d=t.enableVotesMessageAction,m=t.onImageUpload,v=t.showFullText,g=t.reporterBadgeText,y=t.adminBadgeText,E=t.journalistBadgeText,k=t.moderatorBadgeText,S=t.communityModeratorBadgeText,C=t.hostProviderNotify,B=t.featuredComment,j=t.userToken,z=t.muteUser,H=t.isStaffMember,G=t.isFailedMessage,K=t.messageModeratingStage,Q=t.disableProfileHover,J=t.spotName,Y=this.state.showMuteUserModal,X=f.default.get("tenant_config.conversation.enableUsersMuting",!1)&&s.user.isMuted,Z=this.isMyMessage(o,s),$=this.state,ee=$.showFeaturedCommentModal,te=$.showDeletedMessageModal,ie=$.showReportMessageModal,se=(G||s.status===_.BLOCKED||s.status===_.PENDING||K)&&(Z||H)&&!s.isDeleted&&!X&&!s.isPublished,oe=o&&o.id===s.user.id?q(q({},o),{},{points:s.user.points}):s.user;i=(0,h.default)(I.default.messageView,I.default["depth-".concat(l)],(e={},(0,c.default)(e,I.default.messageWithStatus,se),(0,c.default)(e,I.default.temporary,s.isTempId),e),i);var ce=(0,h.default)((0,c.default)({},I.default.collapsed,this.state.collapsed)),pe=this.snippets.getUserImageSize(this.props),ae=null;p&&(ae=b.default.createElement("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:I.default.messageUrl,onClick:this.onMessageUrlClick.bind(this)},b.default.createElement(T.TranslatedText,{textKey:"message.discussionLinkText"})));var re=null;s.starsRating&&(re=b.default.createElement(b.Suspense,{fallback:null},b.default.createElement(V,{starsRating:s.starsRating,disabled:!0,descriptionKey:null,editing:!1,inSayControl:!0})));var ne,le=null;if(!G&&this.props.hasMenu){var de,me=this.isHidden(s);de=this.snippets.showContextMenu({currentUser:o,message:s,hasContextMenu:this.hasContextMenu,isMyMessage:this.isMyMessage}),le=b.default.createElement("span",null,de&&b.default.createElement(b.Suspense,{fallback:null},b.default.createElement(F,{onShow:this.props.onContextMenuShow,message:s,onEdit:this.handleEdit,onReport:this.handleReport,isHidden:me,featuredComment:B,openFeaturedCommentModal:this.openFeaturedCommentModal,openMuteUserModal:this.openMuteUserModal,onDeletedMessageModalOpen:this.onDeletedMessageModalOpen})))}if(se||s.status!==_.BLOCKED)if(se||!s.isDeleted&&!X){var fe=se;ne=b.default.createElement("div",{className:I.default.messageContainer},b.default.createElement("div",{className:I.default.messageDataWrapper},b.default.createElement(U.default,{size:pe,message:s,user:oe,isDisabled:fe,messageIndex:a,profileHoverUser:oe,adminBadgeText:y,onImageUpload:m,enableProfileHover:!Q}),b.default.createElement(N.default,{innerRef:this.messageDetailsRef,adminBadgeText:y,journalistBadgeText:E,communityModeratorBadgeText:S,message:s,isDisabled:fe,user:oe,userImageSize:pe,messageIndex:a,onImageUpload:m,profileHoverUser:oe,userProfileGotFocus:this.handleUserProfileGotFocus,messageContextMenu:le,featuredComment:B,messageStatus:_e,enableProfileHover:!Q})),re,b.default.createElement(A.default,{innerRef:this.messageEntitiesRef,message:s,noAnchors:n,shortenText:this.props.shortenText,maxChars:this.props.maxChars,depth:l,isDisabled:fe,maxLines:this.props.maxLines,showFullText:v}),ae,b.default.createElement(P.default,{depth:l,currentUser:o,isDisabled:fe,message:s,spotName:J,enableVotes:d,messageReplyGotFocus:this.handleMessageReplyGotFocus,hostProviderNotify:C}))}else ne=b.default.createElement("div",{className:I.default.messageContainer},b.default.createElement(O.default,{isReported:s.isReported,isDeleted:s.isDeleted,isMuted:X,innerRef:this.deletedMessageRef,adminBadgeText:y,journalistBadgeText:E,message:s,userImageSize:this.props.userImageSize,messageIndex:a}));else ne=b.default.createElement("div",{className:I.default.messageContainer},b.default.createElement(L.default,{moderatorBadgeText:k,reporterBadgeText:g,adminBadgeText:y,journalistBadgeText:E,message:s,userImageSize:this.props.userImageSize,messageIndex:a}));var ue=null;0===l&&(ue=b.default.createElement("div",{"data-ad-placeholder":"ad-placeholder-".concat(s.id)}));var ve=(0,h.default)(i,(0,c.default)({},I.default.isMessageStatus,!!_e)),_e=null;return se&&(_e=b.default.createElement(b.Suspense,{fallback:null},b.default.createElement("div",{className:(0,h.default)(I.default.messageStatusClickable,ve)},b.default.createElement(W,{message:s,status:s.status,messageType:s.type,isFailedMessage:G,onRetry:this.sendFailedMessage,isModerated:H,showMessageStatus:se,messageModeratingStage:K})))),b.default.createElement(R.default,{animate:"top"===s.featuredComment},b.default.createElement(u.Appearance,{mobileEnabled:!1,enterAnimationDisabled:r,ref:this.appearanceRef,innerRef:this.appearanceInnerRef,className:ce,depth:l,user:oe},_e,ue,b.default.createElement("div",{ref:this.messageRef,className:i,"data-message-id":s.id,"data-message-depth":l,"data-spot-im-class":"message-view"},ne)),b.default.createElement(w.default,{message:s,showFeaturedCommentModal:ee,onClose:this.closeFeaturedCommentModal,ConfigProvider:f.default,userToken:j}),b.default.createElement(D.default,{muteUserHovered:this.muteUserHovered,showMuteUserModal:Y,onClose:this.closeMuteUserModal,muteUser:z,message:s}),b.default.createElement(x.default,{onClose:this.closeDeletedMessageModal,showModal:te,message:s,currentUser:o}),b.default.createElement(M.default,{showModal:ie,onClose:this.handleCloseReportMessageModal}))}}]),s}(b.Component);t.Message=H,H.displayName="Message",H.propTypes={message:y.default.object.isRequired,currentUser:y.default.object.isRequired,className:y.default.string,adminBadgeText:y.default.string,communityModeratorBadgeText:y.default.string,journalistBadgeText:y.default.string,spotName:y.default.string,reporterBadgeText:(0,g.requiredOrNull)(y.default.string),moderatorBadgeText:(0,g.requiredOrNull)(y.default.string),hasMenu:y.default.bool,maxChars:y.default.number,maxLines:y.default.number,enterAnimationDisabled:y.default.bool,shortenText:y.default.bool,messageIndex:y.default.number,noAnchors:y.default.bool,onMessageUnmark:y.default.func,onMessageUrlClick:y.default.func,messageUrl:y.default.string,onDelete:y.default.func,onEdit:y.default.func,onReport:y.default.func,onImageUpload:y.default.func,showLoadFrameEntityButton:y.default.bool,enableVotesMessageAction:y.default.bool,enableNewMessageSticky:y.default.bool,onContextMenuShow:y.default.func,depth:y.default.number,showFullText:y.default.bool,hostProviderNotify:y.default.func,featuredComment:y.default.string,userToken:y.default.string,pinFeaturedComment:y.default.func,muteUser:y.default.func,enableHighlightMessageSticky:y.default.bool,enableRealtimeCommentsSticky:y.default.bool,dispatch:y.default.func,isStaffMember:y.default.bool,isFailedMessage:y.default.bool,failedMessageTemp:y.default.object,isApproving:y.default.bool,disableProfileHover:y.default.bool,postId:y.default.string},H.defaultProps={className:"",hasMenu:!0,maxChars:null,userImageSize:"medium",maxLines:null,messageUrl:null,enterAnimationDisabled:!1,shortenText:!1,messageIndex:-1,enableNewMessageSticky:!0,featuredComment:null,isStaffMember:!1,onMessageUnmark:function(){},onMessageUrlClick:function(){},onDelete:function(){},onImageUpload:function(){},onEdit:function(){},onReport:function(){},onContextMenuShow:function(){},hostProviderNotify:function(){},pinFeaturedComment:function(){}}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Appearance=void 0;var c=o(i(34)),p=o(i(40)),a=o(i(41)),r=o(i(32)),n=o(i(33)),l=o(i(37)),d=o(i(38)),m=o(i(36)),f=o(i(35)),u=s(i(3)),v=o(i(14)),_=i(2),g=i(337),h=i(47),y=i(173),b=o(i(1281));function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,d.default)(this,i)}}var w=function(e){e&&"function"==typeof e&&e()},M=function(e){(0,l.default)(o,e);var t,i,s=x(o);function o(){return(0,r.default)(this,o),s.apply(this,arguments)}return(0,n.default)(o,[{key:"enter",value:(i=(0,a.default)(p.default.mark((function e(t){var i,s;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h.isMobile&&!this.props.mobileEnabled||this.props.enterAnimationDisabled)){e.next=3;break}return w(t),e.abrupt("return");case 3:return i=(0,_.findDOMNode)(this),s="".concat((0,g.outerHeight)(i),"px"),i.style.opacity=0,i.style.height=0,e.next=9,(0,y.animate)(i,{opacity:1,height:s},{duration:432,easing:"cubic-bezier(0.86,0,0.07,1)"});case 9:i.style.opacity="",i.style.height="",w(t);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"leave",value:(t=(0,a.default)(p.default.mark((function e(t){var i,s;return p.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.isMobile||this.props.mobileEnabled){e.next=3;break}return w(t),e.abrupt("return");case 3:return i=(0,_.findDOMNode)(this),s=(0,g.outerHeight)(i),i.style.opacity=1,i.style.height=s,e.next=9,(0,y.animate)(i,{opacity:0,height:"0px"},{duration:432,easing:"cubic-bezier(0.86, 0, 0.07, 1)"});case 9:i.style.opacity="",i.style.height="",w(t);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.props,i=t.innerRef,s=t.depth,o=(0,v.default)(b.default.appearanceComponent,(e={},(0,c.default)(e,b.default.isReply,s>0),(0,c.default)(e,b.default.isHighlighted,this.props.user.isJournalist||this.props.user.isAdmin||this.props.user.isModerator),e),this.props.className);return u.default.createElement("div",{ref:i,className:o},this.props.children)}}]),o}(u.Component);t.Appearance=M,M.displayName="Appearance",M.propTypes={children:f.default.any,className:f.default.string,mobileEnabled:f.default.bool,enterAnimationDisabled:f.default.bool,user:f.default.object,depth:f.default.number,innerRef:f.default.object.isRequired},M.defaultProps={mobileEnabled:!0,enterAnimationDisabled:!1,className:void 0}},,,,,,,,,function(e,t,i){var s=i(30),o=i(1282);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'#spotim-specific#spotim-specific .spcv_appearance-component{position:relative}#spotim-specific#spotim-specific .spcv_appearance-component.spcv_collapsed{height:0;overflow:hidden}#spotim-specific#spotim-specific .spcv_times-of-london .spcv_appearance-component.spcv_is-highlighted>.spcv_message-view:after{content:"";position:absolute;top:0;bottom:-5px;z-index:-1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_times-of-london .spcv_appearance-component.spcv_is-highlighted>.spcv_message-view:after{background:#f9f9f9;border:1px solid #f0f0f0;border-radius:4px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_times-of-london .spcv_appearance-component.spcv_is-highlighted>.spcv_message-view:after,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_times-of-london .spcv_appearance-component.spcv_is-highlighted>.spcv_message-view:after{left:-7px;right:-7px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_times-of-london .spcv_appearance-component.spcv_is-highlighted>.spcv_message-view,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_times-of-london .spcv_appearance-component.spcv_is-highlighted>.spcv_message-view:first-child{border-top:none}#spotim-specific#spotim-specific .spcv_times-of-london .spcv_appearance-component.spcv_is-highlighted.spcv_is-reply:after{top:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_times-of-london .spcv_appearance-component.spcv_is-reply .spcv_icon{margin-top:13px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_times-of-london .spcv_appearance-component.spcv_is-reply .spcv_show-button .spcv_icon{margin-top:0}',""]),t.locals={"appearance-component":"spcv_appearance-component",appearanceComponent:"spcv_appearance-component",collapsed:"spcv_collapsed","times-of-london":"spcv_times-of-london",timesOfLondon:"spcv_times-of-london","is-highlighted":"spcv_is-highlighted",isHighlighted:"spcv_is-highlighted","message-view":"spcv_message-view",messageView:"spcv_message-view","is-reply":"spcv_is-reply",isReply:"spcv_is-reply",icon:"spcv_icon","show-button":"spcv_show-button",showButton:"spcv_show-button"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,i;0===e.message.depth?(t=c.default.t("message.contextMenu.delete.confirmation.titleComment"),i=e.currentUser.isModerator&&e.message.repliesCount>0?c.default.t("message.contextMenu.delete.confirmation.relatedReplies",{params:{repliesCount:"props.message.repliesCount"}}):c.default.t("message.contextMenu.delete.confirmation.comment")):(t=c.default.t("message.contextMenu.delete.confirmation.titleReply"),i=c.default.t("message.contextMenu.delete.confirmation.reply"));return o.default.createElement(p.Modal,{disableCustomBodyScroll:r.disableModalDefaultScroll,shadowRootCssModules:a.isUseShadowDomOnOverlays?["conversation"]:void 0,isLtr:r.isLtr,fullScreenMobile:!1,showModal:e.showModal,onClose:function(){return e.onClose()},size:"md",id:"spotim-delete-message-modal",bottomActions:o.default.createElement(p.Gutter,null,o.default.createElement(p.Button,{mode:"ghost",onClick:function(){return e.onClose()},id:"spotim-delete-message-cancel"},c.default.t("message.contextMenu.delete.confirmation.cancelButton")),o.default.createElement(p.Button,{mode:"primary",onClick:function(){e.onClose(!0)},id:"spotim-delete-message-ok"},c.default.t("message.contextMenu.delete.confirmation.okButton"))),modalTitle:t},i)};var o=s(i(3)),c=s(i(183)),p=i(43),a=i(69),r=i(44)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(3)),p=s(i(35)),a=i(43),r=s(i(1378)),n=i(69),l=i(178),d=i(44),m=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},f=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};function u(e){var t=this,i=(0,c.useState)(!1),s=i[0],o=i[1],p=e.message,u=p.id,v=p.conversationId,_=function(i){return m(t,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return o(!0),[4,(0,l.oldApiGwFetch)({endpoint:"/moderation/conversation/"+v+"/message/"+u+"/feature",body:{should_top_feature:i},method:"POST"})];case 1:return t.sent(),o(!1),i?e.onClose("top-featured"):e.onClose("leave-tagged"),[2]}}))}))};return c.default.createElement(a.Modal,{disableCustomBodyScroll:d.disableModalDefaultScroll,shadowRootCssModules:n.isUseShadowDomOnOverlays?["conversation"]:void 0,isLtr:d.isLtr,closeButton:!0,showModal:e.showFeaturedCommentModal,onClose:function(){return e.onClose("closed")},modalTitle:"Pin Featured Comment",className:r.default.featureCommentModal,size:"md",bottomActions:c.default.createElement(a.Gutter,null,c.default.createElement(a.Button,{mode:"secondary",disabled:s,onClick:function(){return _(!1)}},"No"),c.default.createElement(a.Button,{mode:"primary",disabled:s,onClick:function(){return _(!0)}},"Yes"))},c.default.createElement("div",{className:r.default.text},"Would you like to pin this featured comment at the top of the conversation?"),c.default.createElement("div",{className:r.default.imageWrapper},c.default.createElement("img",{className:r.default.image,src:"http://publisher-assets.spot.im/featured-comment/set-post-as-featured.svg"})))}u.propTypes={message:p.default.object,showFeaturedCommentModal:p.default.bool,onClose:p.default.func};var v=u;t.default=v},function(e,t,i){var s=i(30),o=i(1379);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_feature-comment-modal{font-family:Open Sans}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_feature-comment-modal .spcv_image-wrapper{margin-bottom:18px;text-align:center}#spotim-specific#spotim-specific .spcv_feature-comment-modal .spcv_image{width:250px;height:97px}#spotim-specific#spotim-specific .spcv_feature-comment-modal .spcv_text{font-size:15px;color:var(--spotim-text-color-muted);line-height:1.4}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_feature-comment-modal .spcv_text{margin-bottom:24px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","feature-comment-modal":"spcv_feature-comment-modal",featureCommentModal:"spcv_feature-comment-modal","image-wrapper":"spcv_image-wrapper",imageWrapper:"spcv_image-wrapper",image:"spcv_image",text:"spcv_text"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,a.useTranslation)().t,i=(0,c.useState)(!1),s=i[0],o=i[1];return c.default.createElement(p.Modal,{disableCustomBodyScroll:d.disableModalDefaultScroll,shadowRootCssModules:l.isUseShadowDomOnOverlays?["conversation"]:void 0,isLtr:d.isLtr,fullScreenMobile:!1,showModal:e.showModal,onClose:function(){return e.onClose()},size:"md",bottomActions:c.default.createElement(p.Gutter,null,c.default.createElement(p.Button,{mode:"ghost",onClick:function(){e.onClose("cancel")}},t("message.contextMenu.delete.confirmation.cancelButton","No")),c.default.createElement(p.Button,{mode:"primary",onClick:function(){o(!0),e.onClose("ok")}},c.default.createElement(r.default,{label:t("message.contextMenu.delete.confirmation.okButton","Yes"),showSpinner:s}))),modalTitle:t("reportMessageModal.title","Report Message")},c.default.createElement(n.TranslationWrapper,{i18nKey:"reportMessageModal.body"},"Would you like to report this comment as inappropriate? The reported comment will not be displayed in your view."))};var c=o(i(3)),p=i(43),a=i(49),r=s(i(654)),n=i(45),l=i(69),d=i(44)},function(e,t,i){var s=i(30),o=i(1382);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"#spotim-specific#spotim-specific .spcv_wrapper{position:relative}#spotim-specific#spotim-specific .spcv_wrapper .spcv_label{transition:all .2s ease-out}#spotim-specific#spotim-specific .spcv_wrapper .spcv_spinnerWrapper{position:absolute;top:50%;opacity:0;transition:all .2s ease-out}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_wrapper .spcv_spinnerWrapper{left:50%;transform:translateY(-50%) translateX(-50%)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_wrapper .spcv_spinnerWrapper{right:50%;transform:translateY(-50%) translateX(50%)}#spotim-specific#spotim-specific .spcv_wrapper.spcv_showSpinner .spcv_label{opacity:0}#spotim-specific#spotim-specific .spcv_wrapper.spcv_showSpinner .spcv_spinnerWrapper{opacity:1}",""]),t.locals={wrapper:"spcv_wrapper",label:"spcv_label",spinnerWrapper:"spcv_spinnerWrapper",showSpinner:"spcv_showSpinner"}},function(e,t,i){var s=i(30),o=i(1384);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_message-view .spcv_message-url a{color:#307fe2;display:inline-block;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-view .spcv_message-url a{cursor:pointer}#spotim-specific#spotim-specific .spcv_message-view .spcv_message-url a,#spotim-specific#spotim-specific .spcv_message-view .spcv_message-url a:hover{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_message-view .spcv_message-url a:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_message-view .spcv_message-url a:after{content:"\\A0\\BB"}#spotim-specific#spotim-specific .spcv_message-view .spcv_message-url a{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_appearance-component{position:relative}#spotim-specific#spotim-specific .spcv_appearance-component.spcv_collapsed{height:0;overflow:hidden}#spotim-specific#spotim-specific .spcv_message-container .spcv_message-data-wrapper{-ms-flex:1;flex:1}#spotim-specific#spotim-specific .spcv_uproxx .spcv_message-data-wrapper{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_uproxx .spcv_message-data-wrapper{border:1px solid #ebebeb;padding:10px 15px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_uproxx .spcv_message-data-wrapper{border:none;padding-top:0;padding-bottom:0;margin-bottom:10px}#spotim-specific#spotim-specific .spcv_message-data-wrapper{display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-data-wrapper{margin-bottom:6px}#spotim-specific#spotim-specific .spcv_message-status-clickable:before{position:relative!important}#spotim-specific#spotim-specific .spcv_message-view{overflow:visible;position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-view{padding:30px 0 0;padding:21px 0 0}#spotim-specific#spotim-specific .spcv_message-view.spcv_isMessageStatus{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-view.spcv_isMessageStatus{padding:14px 0 0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view.spcv_depth-1{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view.spcv_depth-1{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-view.spcv_depth-1 .spcv_message-details .spcv_username{margin-top:0}#spotim-specific#spotim-specific .spcv_message-view.spcv_depth-1.spcv_marked:before{height:34px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view.spcv_depth-2{margin-left:78px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view.spcv_depth-2{margin-right:78px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view.spcv_depth-3{margin-left:117px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view.spcv_depth-3{margin-right:117px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view.spcv_depth-4{margin-left:156px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view.spcv_depth-4{margin-right:156px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view.spcv_depth-5{margin-left:195px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view.spcv_depth-5{margin-right:195px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view.spcv_depth-6{margin-left:234px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view.spcv_depth-6{margin-right:234px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view.spcv_depth-7{margin-left:273px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view.spcv_depth-7{margin-right:273px}#spotim-specific#spotim-specific .spcv_message-view.spcv_messageWithStatus:before{bottom:0;content:"";display:block;position:absolute;top:0;z-index:10}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view.spcv_messageWithStatus:before,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view.spcv_messageWithStatus:before{left:0;right:0}#spotim-specific#spotim-specific .spcv_message-view .spcv_message-context-menu{top:30px;position:absolute}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view .spcv_message-context-menu{right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view .spcv_message-context-menu{left:0}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view .spcv_message-context-menu{visibility:visible!important}@media only screen and (min-width:415px){#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-view .spcv_message-context-menu{margin-left:auto}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-view .spcv_message-context-menu{margin-right:auto}}#spotim-specific#spotim-specific .spcv_message-view .spcv_message-context-menu .spcv_droplist-container{z-index:11}#spotim-specific#spotim-specific .spcv_message-view .spcv_message-url{display:inline-block;font-size:11px;line-height:15px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-view .spcv_message-url{margin-bottom:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-1:not(.spcv_padded){margin-left:0;padding-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-1:not(.spcv_padded){margin-right:0;padding-right:10px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-1.spcv_last-item:before{bottom:20px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-1 .spcv_marked-component.spcv_marked .spcv_marker{top:15px;bottom:20px;height:auto}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-1+.spcv_mq-mobile .spcv_message-view.spcv_depth-1:after{content:"";display:block;height:35px;position:absolute;top:-35px;width:2px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_message-view.spcv_depth-1+.spcv_mq-mobile .spcv_message-view.spcv_depth-1:after{background-color:#f0f1f1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-1+.spcv_mq-mobile .spcv_message-view.spcv_depth-1:after{left:-2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-1+.spcv_mq-mobile .spcv_message-view.spcv_depth-1:after{right:-2px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-1 .spcv_show-reply-to .spcv_username{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-1 .spcv_show-reply-to .spcv_reply-to .spcv_icon{top:-4px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-1 .spcv_show-reply-to .spcv_reply-to .spcv_username{top:-1px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-2:not(.spcv_padded){margin-left:0;padding-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-2:not(.spcv_padded){margin-right:0;padding-right:10px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-2.spcv_last-item:before{bottom:20px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-2 .spcv_marked-component.spcv_marked .spcv_marker{top:15px;bottom:20px;height:auto}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-2+.spcv_mq-mobile .spcv_message-view.spcv_depth-2:after{content:"";display:block;height:35px;position:absolute;top:-35px;width:2px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_message-view.spcv_depth-2+.spcv_mq-mobile .spcv_message-view.spcv_depth-2:after{background-color:#f0f1f1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-2+.spcv_mq-mobile .spcv_message-view.spcv_depth-2:after{left:-2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-2+.spcv_mq-mobile .spcv_message-view.spcv_depth-2:after{right:-2px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-2 .spcv_show-reply-to .spcv_username{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-2 .spcv_show-reply-to .spcv_reply-to .spcv_icon{top:-4px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-2 .spcv_show-reply-to .spcv_reply-to .spcv_username{top:-1px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-3:not(.spcv_padded){margin-left:0;padding-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-3:not(.spcv_padded){margin-right:0;padding-right:10px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-3.spcv_last-item:before{bottom:20px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-3 .spcv_marked-component.spcv_marked .spcv_marker{top:15px;bottom:20px;height:auto}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-3+.spcv_mq-mobile .spcv_message-view.spcv_depth-3:after{content:"";display:block;height:35px;position:absolute;top:-35px;width:2px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_message-view.spcv_depth-3+.spcv_mq-mobile .spcv_message-view.spcv_depth-3:after{background-color:#f0f1f1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-3+.spcv_mq-mobile .spcv_message-view.spcv_depth-3:after{left:-2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-3+.spcv_mq-mobile .spcv_message-view.spcv_depth-3:after{right:-2px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-3 .spcv_show-reply-to .spcv_username{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-3 .spcv_show-reply-to .spcv_reply-to .spcv_icon{top:-4px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-3 .spcv_show-reply-to .spcv_reply-to .spcv_username{top:-1px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-4:not(.spcv_padded){margin-left:0;padding-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-4:not(.spcv_padded){margin-right:0;padding-right:10px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-4.spcv_last-item:before{bottom:20px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-4 .spcv_marked-component.spcv_marked .spcv_marker{top:15px;bottom:20px;height:auto}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-4+.spcv_mq-mobile .spcv_message-view.spcv_depth-4:after{content:"";display:block;height:35px;position:absolute;top:-35px;width:2px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_message-view.spcv_depth-4+.spcv_mq-mobile .spcv_message-view.spcv_depth-4:after{background-color:#f0f1f1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-4+.spcv_mq-mobile .spcv_message-view.spcv_depth-4:after{left:-2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-4+.spcv_mq-mobile .spcv_message-view.spcv_depth-4:after{right:-2px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-4 .spcv_show-reply-to .spcv_username{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-4 .spcv_show-reply-to .spcv_reply-to .spcv_icon{top:-4px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-4 .spcv_show-reply-to .spcv_reply-to .spcv_username{top:-1px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-5:not(.spcv_padded){margin-left:0;padding-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-5:not(.spcv_padded){margin-right:0;padding-right:10px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-5.spcv_last-item:before{bottom:20px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-5 .spcv_marked-component.spcv_marked .spcv_marker{top:15px;bottom:20px;height:auto}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-5+.spcv_mq-mobile .spcv_message-view.spcv_depth-5:after{content:"";display:block;height:35px;position:absolute;top:-35px;width:2px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_message-view.spcv_depth-5+.spcv_mq-mobile .spcv_message-view.spcv_depth-5:after{background-color:#f0f1f1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-5+.spcv_mq-mobile .spcv_message-view.spcv_depth-5:after{left:-2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-5+.spcv_mq-mobile .spcv_message-view.spcv_depth-5:after{right:-2px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-5 .spcv_show-reply-to .spcv_username{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-5 .spcv_show-reply-to .spcv_reply-to .spcv_icon{top:-4px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-5 .spcv_show-reply-to .spcv_reply-to .spcv_username{top:-1px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-6:not(.spcv_padded){margin-left:0;padding-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-6:not(.spcv_padded){margin-right:0;padding-right:10px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-6.spcv_last-item:before{bottom:20px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-6 .spcv_marked-component.spcv_marked .spcv_marker{top:15px;bottom:20px;height:auto}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-6+.spcv_mq-mobile .spcv_message-view.spcv_depth-6:after{content:"";display:block;height:35px;position:absolute;top:-35px;width:2px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_message-view.spcv_depth-6+.spcv_mq-mobile .spcv_message-view.spcv_depth-6:after{background-color:#f0f1f1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-6+.spcv_mq-mobile .spcv_message-view.spcv_depth-6:after{left:-2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-6+.spcv_mq-mobile .spcv_message-view.spcv_depth-6:after{right:-2px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-6 .spcv_show-reply-to .spcv_username{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-6 .spcv_show-reply-to .spcv_reply-to .spcv_icon{top:-4px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-6 .spcv_show-reply-to .spcv_reply-to .spcv_username{top:-1px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-7:not(.spcv_padded){margin-left:0;padding-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-7:not(.spcv_padded){margin-right:0;padding-right:10px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-7.spcv_last-item:before{bottom:20px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-7 .spcv_marked-component.spcv_marked .spcv_marker{top:15px;bottom:20px;height:auto}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-7+.spcv_mq-mobile .spcv_message-view.spcv_depth-7:after{content:"";display:block;height:35px;position:absolute;top:-35px;width:2px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_message-view.spcv_depth-7+.spcv_mq-mobile .spcv_message-view.spcv_depth-7:after{background-color:#f0f1f1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-view.spcv_depth-7+.spcv_mq-mobile .spcv_message-view.spcv_depth-7:after{left:-2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-view.spcv_depth-7+.spcv_mq-mobile .spcv_message-view.spcv_depth-7:after{right:-2px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-7 .spcv_show-reply-to .spcv_username{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-7 .spcv_show-reply-to .spcv_reply-to .spcv_icon{top:-4px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-view.spcv_depth-7 .spcv_show-reply-to .spcv_reply-to .spcv_username{top:-1px}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","message-view":"spcv_message-view",messageView:"spcv_message-view","message-url":"spcv_message-url",messageUrl:"spcv_message-url","appearance-component":"spcv_appearance-component",appearanceComponent:"spcv_appearance-component",collapsed:"spcv_collapsed","message-container":"spcv_message-container",messageContainer:"spcv_message-container","message-data-wrapper":"spcv_message-data-wrapper",messageDataWrapper:"spcv_message-data-wrapper",uproxx:"spcv_uproxx","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","message-status-clickable":"spcv_message-status-clickable",messageStatusClickable:"spcv_message-status-clickable",isMessageStatus:"spcv_isMessageStatus","depth-1":"spcv_depth-1",depth1:"spcv_depth-1","message-details":"spcv_message-details",messageDetails:"spcv_message-details",username:"spcv_username",marked:"spcv_marked","depth-2":"spcv_depth-2",depth2:"spcv_depth-2","depth-3":"spcv_depth-3",depth3:"spcv_depth-3","depth-4":"spcv_depth-4",depth4:"spcv_depth-4","depth-5":"spcv_depth-5",depth5:"spcv_depth-5","depth-6":"spcv_depth-6",depth6:"spcv_depth-6","depth-7":"spcv_depth-7",depth7:"spcv_depth-7",messageWithStatus:"spcv_messageWithStatus","message-context-menu":"spcv_message-context-menu",messageContextMenu:"spcv_message-context-menu","droplist-container":"spcv_droplist-container",droplistContainer:"spcv_droplist-container",padded:"spcv_padded","last-item":"spcv_last-item",lastItem:"spcv_last-item","marked-component":"spcv_marked-component",markedComponent:"spcv_marked-component",marker:"spcv_marker","show-reply-to":"spcv_show-reply-to",showReplyTo:"spcv_show-reply-to","reply-to":"spcv_reply-to",replyTo:"spcv_reply-to",icon:"spcv_icon"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i(32)),c=s(i(33)),p=s(i(37)),a=s(i(38)),r=s(i(36)),n=s(i(3)),l=s(i(14)),d=s(i(1386));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,r.default)(e);if(t){var o=(0,r.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,a.default)(this,i)}}var f=function(e){(0,p.default)(i,e);var t=m(i);function i(){var e;(0,o.default)(this,i);for(var s=arguments.length,c=new Array(s),p=0;p<s;p++)c[p]=arguments[p];return(e=t.call.apply(t,[this].concat(c))).wrapperRef=n.default.createRef(),e.state={startAnimation:!1,expanderStyle:{height:"0px"},demarginStyle:{marginTop:"-60px"}},e.maxHeight=void 0,e.startAnimation=function(){setTimeout((function(){e.setState({startAnimation:!0})}),1e3),setTimeout((function(){e.setState({animationDone:!0})}),3e3),e.setState({expanderStyle:{height:"0px"}}),e.interval=setInterval((function(){if(e.wrapperRef.current){var t=e.wrapperRef.current.getBoundingClientRect().height;if(t<e.maxHeight)return;e.maxHeight=t;var i=t+"px";i!==e.state.expanderStyle.height&&e.setState({expanderStyle:{height:i}}),"0px"!==e.state.demarginStyle.marginTop&&e.setState({demarginStyle:{marginTop:"0px"}})}}),100)},e}return(0,c.default)(i,[{key:"componentDidMount",value:function(){this.props.animate&&this.startAnimation()}},{key:"componentDidUpdate",value:function(e){this.props.animate&&this.props.animate!==e.animate&&this.startAnimation()}},{key:"render",value:function(){return this.props.animate?n.default.createElement("div",{className:(0,l.default)(d.default.animateInWrapper,this.state.startAnimation&&d.default.startAnimation,this.state.animationDone&&d.default.animationDone)},n.default.createElement("div",{className:d.default.demargin,style:this.state.demarginStyle},n.default.createElement("div",{className:d.default.expander,style:this.state.expanderStyle},n.default.createElement("div",{ref:this.wrapperRef,className:d.default.animateIn},this.props.children)))):this.props.children}}]),i}(n.default.Component);t.default=f},function(e,t,i){var s=i(30),o=i(1387);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@keyframes spcv_thumbtack-animation-ltr{0%{transform:rotate(16deg)}20%{transform:rotate(-16deg)}40%{transform:rotate(16deg)}60%{transform:rotate(-16deg)}80%{transform:rotate(16deg)}}@keyframes spcv_thumbtack-animation-rtl{0%{transform:rotate(-16deg)}20%{transform:rotate(16deg)}40%{transform:rotate(-16deg)}60%{transform:rotate(16deg)}80%{transform:rotate(-16deg)}}@keyframes spcv_fade-in{0%{transform:scale(.6);opacity:0}to{transform:scale(1);opacity:1}}#spotim-specific#spotim-specific .spcv_animateInWrapper{opacity:0}#spotim-specific#spotim-specific .spcv_animateInWrapper .spcv_expander{transition:height .5s ease-out}#spotim-specific#spotim-specific .spcv_animateInWrapper .spcv_demargin{transition:margin-top .5s ease-out}#spotim-specific#spotim-specific .spcv_animateInWrapper.spcv_startAnimation{opacity:1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animateInWrapper.spcv_startAnimation .spcv_animateIn,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animateInWrapper.spcv_startAnimation .spcv_animateIn{animation:spcv_fade-in .6s}#spotim-specific#spotim-specific .spcv_animateInWrapper.spcv_animationDone .spcv_expander{overflow:visible}",""]),t.locals={animateInWrapper:"spcv_animateInWrapper",expander:"spcv_expander",demargin:"spcv_demargin",startAnimation:"spcv_startAnimation",animateIn:"spcv_animateIn","fade-in":"spcv_fade-in",fadeIn:"spcv_fade-in",animationDone:"spcv_animationDone","thumbtack-animation-ltr":"spcv_thumbtack-animation-ltr",thumbtackAnimationLtr:"spcv_thumbtack-animation-ltr","thumbtack-animation-rtl":"spcv_thumbtack-animation-rtl",thumbtackAnimationRtl:"spcv_thumbtack-animation-rtl"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DeletedMessage=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=o(i(14)),m=i(42),f=s(i(3)),u=i(96),v=o(i(346)),_=o(i(1391)),g=i(56),h=i(43),y=i(68);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var x=function(e){(0,a.default)(i,e);var t=b(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"renderTranslatedText",value:function(){var e=this.props,t=e.isReported,i=e.isDeleted;return t?f.default.createElement(g.TranslatedText,{textKey:"message.reported"}):i?f.default.createElement(g.TranslatedText,{textKey:"message.deleted"}):f.default.createElement(g.TranslatedText,{textKey:"message.muted"})}},{key:"render",value:function(){var e=this.props,t=e.spotName,i=e.userImageSize,s=e.messageIndex,o=e.message,c=e.avatarsTheme,p=e.reporterBadgeText,a=e.moderatorBadgeText,r=e.innerRef,n=(0,y.createUserObject)();return f.default.createElement("div",{ref:r,className:(0,d.default)(_.default.messageDetails,_.default.deletedMessage)},f.default.createElement(v.default,{size:i,message:o,user:n,messageIndex:s,enableProfileHover:!1,avatarsTheme:c,guestUsernameForNonRegisteredUsers:!1,profileHoverUser:null,moderatorBadgeText:a,spotName:t,isLoggedIn:!1,isMe:!1,reporterBadgeText:p}),f.default.createElement(h.Typography,{type:"infoMd",className:_.default.isDeleted},this.renderTranslatedText()))}}]),i}(f.Component);t.DeletedMessage=x,x.displayName="DeletedMessage",x.propTypes={moderatorBadgeText:(0,u.requiredOrNull)(l.default.string),reporterBadgeText:(0,u.requiredOrNull)(l.default.string),avatarsTheme:l.default.string,message:l.default.object.isRequired,spotName:l.default.string.isRequired,userImageSize:l.default.oneOf(["large","medium","normal","small"]),messageIndex:l.default.number,isReported:l.default.bool.isRequired,isDeleted:l.default.bool.isRequired,innerRef:l.default.object.isRequired},x.defaultProps={userImageSize:"medium",messageIndex:-1};var w=(0,m.connect)((function(e){return{spotName:e.moduleOptions.spotName,avatarsTheme:e.moduleOptions.avatarsTheme,moderatorBadgeText:e.moduleOptions.textsOverrides.moderatorBadgeText,reporterBadgeText:e.moduleOptions.textsOverrides.reporterBadgeText}}))(x);t.default=w},function(e,t,i){var s=i(30),o=i(1390);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_user-image-wrapper{line-height:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_user-image-wrapper{cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_user-image-wrapper{margin-right:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_user-image-wrapper{margin-left:12px}#spotim-specific#spotim-specific .spcv_is-disabled{opacity:.5}#spotim-specific#spotim-specific .spcv_user-bullet{display:block;content:"";box-sizing:content-box;bottom:0;top:auto;width:8px;height:8px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_user-bullet{margin:0 11px;border:5px solid #fff;background:#c3c5c7;border-radius:100px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_user-bullet{left:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_user-bullet{right:12px}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","user-image-wrapper":"spcv_user-image-wrapper",userImageWrapper:"spcv_user-image-wrapper","is-disabled":"spcv_is-disabled",isDisabled:"spcv_is-disabled","user-bullet":"spcv_user-bullet",userBullet:"spcv_user-bullet"}},function(e,t,i){var s=i(30),o=i(1392);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_deletedMessage{display:-ms-flexbox;display:flex;color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_deletedMessage,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_deletedMessage{animation:spcv_slide-in-top .5s}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_spacer{margin-right:18px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_spacer{margin-left:18px}#spotim-specific#spotim-specific .spcv_message-details .spcv_is-deleted{font-style:italic;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",deletedMessage:"spcv_deletedMessage","slide-in-top":"spcv_slide-in-top",slideInTop:"spcv_slide-in-top",spacer:"spcv_spacer","message-details":"spcv_message-details",messageDetails:"spcv_message-details","is-deleted":"spcv_is-deleted",isDeleted:"spcv_is-deleted"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageActions=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=o(i(35)),m=s(i(3)),f=i(42),u=o(i(14)),v=o(i(1394)),_=i(272),g=i(52),h=s(i(48)),y=i(656),b=o(i(1399)),x=o(i(1402)),w=o(i(660)),M=o(i(47)),E=i(56);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var S=function(e){(0,r.default)(i,e);var t=k(i);function i(e){var s;return(0,p.default)(this,i),(s=t.call(this,e)).handleMessageReplyGotFocus=function(){s.props.messageReplyGotFocus()},s.onReply=function(){s.props.hostProviderNotify(g.USER_CLICKED_REPLY),s.props.onReply(s.props.message,event)},s.handleCloseShareModal=function(){s.setState({showShareModal:!1})},s.state={showShareModal:!1},s}return(0,a.default)(i,[{key:"componentWillUnmount",value:function(){clearTimeout(this.isEditableTimeout)}},{key:"share",value:function(){var e=this;M.default&&"function"==typeof navigator.share?navigator.share({title:document.title,url:location.href}).catch((function(){e.setState({showShareModal:!0})})):this.setState({showShareModal:!0}),this.hideDroplist()}},{key:"render",value:function(){var e,t=this.props,i=t.message,s=t.currentUser,o=t.depth,p=t.enableVotes,a=t.votedUsers,r=t.isDisabled,n=t.enableReply,l=t.isVotedUsersLoading,d=t.loadVotedUsers,f=t.hostProviderNotify,g=t.isLiveBlog,h=t.spotName,y=t.spotId,M=this.state.showShareModal,k=(0,_.isLoggedIn)(s),S=(0,u.default)(v.default.messageActions,v.default["depth-".concat(o)],(e={},(0,c.default)(e,v.default.isDisabled,r),(0,c.default)(e,v.default.isLiveBlog,g),e));return m.default.createElement("div",{className:S},g&&m.default.createElement(m.default.Fragment,null,m.default.createElement(E.TranslatedText,{onClick:this.share.bind(this),className:v.default.shareMessageText,textKey:"message.share"}),m.default.createElement(w.default,{currentUser:s,spotId:y,spotName:h,message:i,show:M,onClose:this.handleCloseShareModal})),n&&m.default.createElement(b.default,{messageReplyGotFocus:this.handleMessageReplyGotFocus,onReply:this.onReply}),m.default.createElement(x.default,{isEnabled:p,isLoggedIn:k,message:i,hostProviderNotify:f,upVotesCount:i.upVotesCount,downVotesCount:i.downVotesCount,votedUsers:a,isVotedUsersLoading:l,loadVotedUsers:d}))}}]),i}(m.Component);t.MessageActions=S,S.displayName="MessageActions",S.propTypes={message:d.default.object.isRequired,spotName:d.default.string.isRequired,currentUser:d.default.object.isRequired,depth:d.default.number,onReply:d.default.func,enableReply:d.default.bool,enableVotes:d.default.bool,messageReplyGotFocus:d.default.func,hostProviderNotify:d.default.func,isDisabled:d.default.bool,spotId:d.default.string.isRequired},S.defaultProps={depth:3,enableReply:!0,enableVotes:!0,onReply:function(){},messageReplyGotFocus:function(){}};var C=(0,f.connect)((function(e){var t=h.isLiveBlog(e);return{isLiveBlog:e.moduleOptions.isConversationLiveBlog,spotName:e.moduleOptions.spotName,spotId:e.moduleOptions.spotId,currentUser:e.currentUser,enableReply:!t,isMobileDevice:h.isMobile(e)||e.moduleOptions.isMobile}}),(function(e){return{onReply:function(t){e((0,y.openMessageSayControl)({messageId:t.id}))}}}))(S);t.default=C},function(e,t,i){var s=i(30),o=i(1395);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_message-reply+.spcv_message-share:before{content:"\\B7";display:inline-block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-reply+.spcv_message-share:before,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-reply+.spcv_message-share:before{margin-left:7px;margin-right:7px}#spotim-specific#spotim-specific .spcv_message-actions{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-actions{clear:both}#spotim-specific#spotim-specific .spcv_right-message-actions{font-size:11px;color:#7b7f83}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_right-message-actions{padding-top:2px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_right-message-actions{margin-left:auto}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_right-message-actions{margin-right:auto}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_is-liveBlog{margin-left:51px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_is-liveBlog{margin-right:51px}#spotim-specific#spotim-specific .spcv_is-disabled{opacity:.5}#spotim-specific#spotim-specific .spcv_share-message-text{font-size:13px;color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_share-message-text{cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_share-message-text{margin-right:9px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_share-message-text{margin-left:9px}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","message-reply":"spcv_message-reply",messageReply:"spcv_message-reply","message-share":"spcv_message-share",messageShare:"spcv_message-share","message-actions":"spcv_message-actions",messageActions:"spcv_message-actions","right-message-actions":"spcv_right-message-actions",rightMessageActions:"spcv_right-message-actions","is-liveBlog":"spcv_is-liveBlog",isLiveBlog:"spcv_is-liveBlog","is-disabled":"spcv_is-disabled",isDisabled:"spcv_is-disabled","share-message-text":"spcv_share-message-text",shareMessageText:"spcv_share-message-text"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUserSuspensionStatus=function(){var e=this;return function(t,i){return r(e,void 0,void 0,(function(){var e,s,r,l,d,m,f,u;return n(this,(function(n){switch(n.label){case 0:if(e=i(),s=e.moduleOptions.postId,r=e.userSuspension.isFetched,l=(0,a.isSuspensionEnabled)(),r||!l)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,p.userSuspended)(s)];case 2:return d=n.sent(),m=d.suspended,f=d.suspension_expiration,t({type:c.FETCH_USER_SUSPENSION_STATUS,payload:{isUserSuspended:m,expirationTime:f}}),[3,4];case 3:return u=n.sent(),(0,o.default)(c.FETCH_USER_SUSPENSION_STATUS,u),t({type:c.FETCH_USER_SUSPENSION_STATUS,payload:{isUserSuspended:!1}}),[3,4];case 4:return[2]}}))}))}};var o=s(i(5)),c=i(39),p=i(236),a=i(87),r=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},n=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}},function(e,t,i){var s=i(30),o=i(1398);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_content{max-height:4.2em;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_content{margin-bottom:5px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_content .spcv_username{direction:ltr;text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_content .spcv_username{direction:rtl;text-align:right}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_content .spcv_description,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_content .spcv_title,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_content .spcv_username{margin-right:2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_content .spcv_description,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_content .spcv_title,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_content .spcv_username{margin-left:2px}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_content .spcv_title:after{content:":"}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_content .spcv_title.spcv_no-message:after{content:"."}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_content .spcv_param-username{font-weight:700;display:inline-block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_content .spcv_param-username{direction:ltr}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_content .spcv_param-username{direction:rtl}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_content .spcv_message{font-style:normal;word-break:break-word}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_content .spcv_message:before{content:\'"\'}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_content .spcv_message:after{content:\'".\'}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","notifications-tooltip":"spcv_notifications-tooltip",notificationsTooltip:"spcv_notifications-tooltip",content:"spcv_content",username:"spcv_username",description:"spcv_description",title:"spcv_title","no-message":"spcv_no-message",noMessage:"spcv_no-message","param-username":"spcv_param-username",paramUsername:"spcv_param-username",message:"spcv_message"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageReply=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=s(i(3)),m=i(42),f=i(56),u=o(i(1400)),v=i(66),_=(i(146),i(43));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var h=function(e){(0,a.default)(i,e);var t=g(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"render",value:function(){return d.default.createElement(_.Button,{onClick:this.props.onReply},d.default.createElement(_.Typography,{type:"action",className:u.default.messageReply},d.default.createElement(f.TranslatedText,{"data-spot-im-class":"message-reply",role:"button",textKey:"message.reply"},"Reply")))}}]),i}(d.Component);t.MessageReply=h,h.displayName="MessageReply",h.propTypes={onReply:l.default.func,spotId:l.default.string,messageReplyGotFocus:l.default.func},h.defaultProps={onReply:function(){},messageReplyGotFocus:function(){}};var y=(0,m.connect)((function(e){return{spotId:(0,v.getModuleOptions)(e).spotId}}))(h);t.default=y},function(e,t,i){var s=i(30),o=i(1401);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-reply{cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-reply{margin-right:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-reply{margin-left:12px}#spotim-specific#spotim-specific .spcv_accessibility-mode .spcv_message-reply{color:#57595c}#spotim-specific#spotim-specific .spcv_wrapper{outline:none}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_wrapper:focus{outline:auto}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","message-reply":"spcv_message-reply",messageReply:"spcv_message-reply",wrapper:"spcv_wrapper"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageVote=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=s(i(3)),d=i(42),m=o(i(1403)),f=o(i(1420));function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var v=function(e){(0,a.default)(i,e);var t=u(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,i=e.isLoggedIn,s=e.message,o=e.hostProviderNotify,c=e.upVotesCount,p=e.downVotesCount,a=e.votedUsers,r=e.isVotedUsersLoading,n=e.loadVotedUsers;return t&&l.default.createElement(m.default,{isLoggedIn:i,className:f.default.messageVote,message:s,isVotedUp:s.isVotedUp,isVotedDown:s.isVotedDown,hostProviderNotify:o,upVotesCount:c,downVotesCount:p,showUpVotes:!0,showDownVotes:!0,votedUsers:a,isVotedUsersLoading:r,loadVotedUsers:n})}}]),i}(l.PureComponent);t.MessageVote=v;var _=(0,d.connect)((function(e){return{spotId:e.moduleOptions.spotId}}))(v);t.default=_},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,p=o(i(3)),a=i(42),r=s(i(14)),n=s(i(1404)),l=s(i(1407)),d=i(52),m=s(i(1409)),f=i(1418),u=s(i(4)),v=i(486),_=i(91),g=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=u.default.get("tenant_config.conversation.disable_vote_up"),y=u.default.get("tenant_config.conversation.disable_vote_down"),b=function(e){function t(t){var i=e.call(this,t)||this;return i.upvoteCounterRef=p.default.createRef(),i.downvoteCounterRef=p.default.createRef(),i.handleCloseVotersList=function(){i.setState({showVotersList:!1})},i.renderUpVoteCount=function(){var e=i.props,t=e.showUpVotes,s=e.upVotesCount,o=e.votedUsers,c=e.isVotedUsersLoading,a=e.loadVotedUsers,r=e.message,n=i.state.showVotersList;return t&&s>0&&p.default.createElement("span",{style:{display:"inline-flex"}},p.default.createElement(m.default,{votedUsers:o,isVotedUsersLoading:c,loadVotedUsers:a,count:s,message:r,showVotersList:n,onClick:i.handleClick,onCloseVotersList:i.handleCloseVotersList}))},i.renderDownVoteCount=function(){var e=i.props,t=e.showDownVotes,s=e.downVotesCount,o=e.votedUsers,c=e.isVotedUsersLoading,a=e.loadVotedUsers;return t&&s>0?p.default.createElement("span",{style:{display:"inline-flex"}},p.default.createElement(m.default,{votedUsers:o,isVotedUsersLoading:c,loadVotedUsers:a,count:s,showLikesList:!1})):null},i.handleClick=function(){i.state.showVotersList||i.setState({showVotersList:!0})},i.state={isVotedUp:t.isVotedUp,isVotedDown:t.isVotedDown,showVotersList:!1},i}return g(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({isVotedUp:e.isVotedUp,isVotedDown:e.isVotedDown})},t.prototype.toggleVoteUp=function(){var e=this.props,t=e.allowGuestVoting,i=e.showLoginSelectorModal;if(t){var s=this.state.isVotedUp,o=this.state.isVotedDown;o&&(o=!o),this.setState({isVotedUp:!s,isVotedDown:o}),this.props.onToggleVote({operation:"up"}),this.props.hostProviderNotify(d.CLICKED_LIKE_THUMBS_UP)}else i()},t.prototype.toggleVoteDown=function(){var e=this.props,t=e.allowGuestVoting,i=e.showLoginSelectorModal;if(t){var s=this.state.isVotedUp,o=this.state.isVotedDown;s&&(s=!s),this.setState({isVotedUp:s,isVotedDown:!o}),this.props.onToggleVote({operation:"down"}),this.props.hostProviderNotify(d.CLICKED_LIKE_THUMBS_DOWN)}else i()},t.prototype.render=function(){var e=this.props,t=e.className,i=e.isLoggedIn,s=e.enablePoints,o=e.allowToast,c=e.showUpVotesBefore,a=e.showCounters,d=e.isSyFy,m=e.message.depth>0,f=null;f=void 0!==o?o:i&&s;var u=(0,r.default)(l.default.voteLinks,t);return p.default.createElement("div",{className:u,"data-spot-im-class":"vote-links"},!h&&p.default.createElement(p.default.Fragment,null,a&&c&&this.renderUpVoteCount(),p.default.createElement(n.default,{type:"up",isReply:m,active:this.state.isVotedUp,onClick:this.toggleVoteUp.bind(this),allowToast:f&&!this.state.isVotedDown}),a&&!c&&this.renderUpVoteCount()),!y&&p.default.createElement(p.default.Fragment,null,!d&&p.default.createElement(n.default,{type:"down",isReply:m,active:this.state.isVotedDown,onClick:this.toggleVoteDown.bind(this),allowToast:f&&!this.state.isVotedUp}),a&&this.renderDownVoteCount()))},t.displayName="VoteLinks",t.defaultProps={className:"",enablePoints:!1,showUpVotes:!1,showDownVotes:!1,showUpVotesBefore:!1,showCounters:!0,isSyFy:!1,allowGuestVoting:!0,hostProviderNotify:function(){}},t}(p.Component),x=(0,a.connect)((function(e){var t=e.currentUser,i=e.moduleOptions.enableGuestVoting;return{allowGuestVoting:(0,v.isLoggedIn)(t)||i}}),(function(e,t){return{onToggleVote:function(i){var s=i.operation;e((0,f.toggleVoteMessage)({operation:s,message:t.message}))},showLoginSelectorModal:function(){e((0,_.openLoginSelectorModal)())}}}))(b);t.default=x},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,p,a,r=s(i(34)),n=s(i(32)),l=s(i(33)),d=s(i(37)),m=s(i(38)),f=s(i(36)),u=s(i(172)),v=o(i(3)),_=s(i(35)),g=s(i(14)),h=s(i(227)),y=s(i(46)),b=i(47),x=s(i(1405)),w=i(49);function M(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?M(Object(i),!0).forEach((function(t){(0,r.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):M(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,m.default)(this,i)}}var S=(a=p=function(e){(0,d.default)(i,e);var t=k(i);function i(e){var s;return(0,n.default)(this,i),(s=t.call(this,e)).state={hover:!1},s.wrapper=v.default.createRef(),s.handleAnimatedVoteKeyUp=function(e){13===e.keyCode&&s.onClick(e)},e.active&&(s.state=E(E({},s.state),{},{activeNoAnimation:!0})),s}return(0,l.default)(i,[{key:"onClick",value:function(e){var t=this.props.t,i=this.context.toastMessage;if(this.props.allowToast){var s=this.wrapper.current,o=i.values.RANK,c=this.props.active?"-":"+",p=t("general.toast.points",{points:o,sign:c});i.show(s,p,{offsetY:-5})}this.props.onClick.apply(this,arguments),this.setState({activeNoAnimation:!1}),e.stopPropagation()}},{key:"toggleHover",value:function(e){this.setState({hover:e})}},{key:"render",value:function(){var e,t,i,s=this,o=this.props,c=o.active,p=o.type,a=o.className,n=o.size,l=o.hoverManaged,d=o.tabIndex,m=o.isReply,f=this.state,u=f.hover,_=f.activeNoAnimation,h=(0,g.default)(x.default.animatedVote,(e={},(0,r.default)(e,x.default.active,c),(0,r.default)(e,x.default.voteUpWrapper,"up"===p),(0,r.default)(e,x.default.voteDownWrapper,"down"===p),e),a),w=(0,g.default)(x.default.voteIcon,(t={},(0,r.default)(t,x.default.hover,u&&!(0,b.isMobile)()),(0,r.default)(t,x.default.voteUpIcon,"up"===p),(0,r.default)(t,x.default.voteDownIcon,"down"===p),t),(0,r.default)({},x.default.hover,c)),M="up"===p?"voteUpIcon":"voteDownIcon",E={};n&&(E={width:n,height:n});var k=!!window.MSInputMethodContext&&!!document.documentMode;return v.default.createElement("div",{tabIndex:d,className:h,style:E,onClick:this.onClick,onKeyUp:this.handleAnimatedVoteKeyUp,"data-spot-im-class":"animated-vote-".concat(p),id:"spotim-animated-vote-".concat(p,"-").concat(m?"reply":"comment")},v.default.createElement("div",{className:x.default.voteWrapper,style:E,ref:this.wrapper},v.default.createElement(y.default,{style:E,onMouseEnter:function(){!l&&s.setState({hover:!0})},onMouseLeave:function(){!l&&s.setState({hover:!1})},selector:M,className:(0,g.default)(w,x.default.inactive)}),!k&&v.default.createElement("div",{className:(0,g.default)(x.default.animatedLikeWrapper,(i={},(0,r.default)(i,x.default.active,c),(0,r.default)(i,x.default.activeNoAnimation,_),(0,r.default)(i,x.default.isDownVote,"down"===p),i))}),k&&c&&v.default.createElement(y.default,{style:E,selector:M,className:w})))}}]),i}(v.Component),p.displayName="AnimatedVote",p.propTypes={type:_.default.oneOf(["up","down"]).isRequired,active:_.default.bool.isRequired,onClick:_.default.func,allowToast:_.default.bool,className:_.default.string,size:_.default.string,hoverManaged:_.default.bool,tabIndex:_.default.number,t:_.default.func,isReply:_.default.bool},p.defaultProps={onClick:function(){},allowToast:!1,className:"",tabIndex:null},p.contextTypes={toastMessage:_.default.object.isRequired},c=a,(0,u.default)(c.prototype,"onClick",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"onClick"),c.prototype),c),C=(0,w.withTranslation)()(S);t.default=C},function(e,t,i){var s=i(30),o=i(1406);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_animated-vote{color:#307fe2;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_animated-vote{cursor:pointer}#spotim-specific#spotim-specific .spcv_animated-vote,#spotim-specific#spotim-specific .spcv_animated-vote:hover{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_animated-vote:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_animated-vote{color:#7b7f83}#spotim-specific#spotim-specific .spcv_animated-vote:hover{color:#373e44}#spotim-specific#spotim-specific .spcv_animated-vote{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_animated-vote .spcv_vote-icon{display:inline-block;height:16px;overflow:hidden;width:16px;pointer-events:all}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_animated-vote .spcv_vote-icon{background-image:none}#spotim-specific#spotim-specific .spcv_animated-vote{line-height:0;display:inline-block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animated-vote{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animated-vote{margin-left:10px}#spotim-specific#spotim-specific .spcv_animated-vote:hover{text-decoration:none}#spotim-specific#spotim-specific .spcv_animated-vote .spcv_voteWrapper{height:14px;width:14px;display:inline-block;position:relative;vertical-align:middle}#spotim-specific#spotim-specific .spcv_animated-vote .spcv_vote-count{line-height:20px;height:20px;vertical-align:middle}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animated-vote .spcv_vote-count{margin:0 0 0 5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animated-vote .spcv_vote-count{margin:0 5px 0 0}#spotim-specific#spotim-specific .spcv_animated-vote .spcv_vote-icon{position:absolute;z-index:0;overflow:inherit}#spotim-specific#spotim-specific .spcv_animated-vote .spcv_vote-icon.spcv_inactive{color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_animated-vote .spcv_vote-icon.spcv_active{transform:scale(0)}#spotim-specific#spotim-specific .spcv_animated-vote .spcv_vote-icon.spcv_hover svg{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animated-vote.spcv_active .spcv_vote-icon,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animated-vote.spcv_active .spcv_vote-icon{animation:cubic-bezier(.455,.03,.515,.955) .616s forwards;animation-play-state:running}#spotim-specific#spotim-specific .spcv_animated-vote.spcv_active .spcv_vote-icon.spcv_inactive{opacity:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animated-vote.spcv_active .spcv_vote-icon.spcv_active,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animated-vote.spcv_active .spcv_vote-icon.spcv_active{animation-name:spcv_animated-vote-icon-active}#spotim-specific#spotim-specific body.spcv_grade-c .spcv_animated-vote.spcv_active .spcv_vote-icon.spcv_inactive{opacity:0}#spotim-specific#spotim-specific [data-spot-im-direction] body.spcv_grade-c .spcv_animated-vote.spcv_active .spcv_vote-icon.spcv_inactive{transform:scale(0)}#spotim-specific#spotim-specific body.spcv_grade-c .spcv_animated-vote.spcv_active .spcv_vote-icon.spcv_active{opacity:1}#spotim-specific#spotim-specific [data-spot-im-direction] body.spcv_grade-c .spcv_animated-vote.spcv_active .spcv_vote-icon.spcv_active{transform:scale(1)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animated-vote.spcv_active .spcv_toast,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animated-vote.spcv_active .spcv_toast{animation-delay:.35s}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_vote-up-wrapper{transform:translateY(-3px)}#spotim-specific#spotim-specific .spcv_animated-vote:hover .spcv_vote-down-icon.spcv_inactive,#spotim-specific#spotim-specific .spcv_animated-vote:hover .spcv_vote-up-icon.spcv_inactive{color:var(--spotim-brand-color)}@keyframes spcv_animated-vote-icon-inactive{0%{transform:scale(1);opacity:1}35%{transform:scale(.7);opacity:1}64%{opacity:0}to{opacity:0}}@keyframes spcv_animated-vote-icon-active{0%{opacity:0}35%{transform:scale(.7);opacity:0}64%{transform:scale(1.2);opacity:1}to{transform:scale(1)}}@keyframes spcv_branded-heart-burst{0%{-webkit-mask-position:left}to{-webkit-mask-position:right}}#spotim-specific#spotim-specific .spcv_likeImage{width:14px;height:16px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_likeImage{background:url(https://i.imgur.com/GEyHgi1.png)}#spotim-specific#spotim-specific .spcv_animatedLikeWrapper{width:63px;height:63px;-webkit-mask-image:url(https://i.imgur.com/EBVlJjJ.png);mask-image:url(https://i.imgur.com/EBVlJjJ.png);-webkit-mask-position:right;mask-position:right;-webkit-mask-size:1600%;mask-size:1600%;position:absolute;top:-23px;opacity:0;pointer-events:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_animatedLikeWrapper{background:var(--spotim-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animatedLikeWrapper{left:-23px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animatedLikeWrapper{right:-23px}#spotim-specific#spotim-specific .spcv_animatedLikeWrapper.spcv_active{opacity:1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animatedLikeWrapper.spcv_active,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animatedLikeWrapper.spcv_active{animation:spcv_branded-heart-burst .4s steps(15) 1}#spotim-specific#spotim-specific .spcv_animatedLikeWrapper.spcv_active.spcv_activeNoAnimation{-webkit-mask-position:right}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animatedLikeWrapper.spcv_active.spcv_activeNoAnimation,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animatedLikeWrapper.spcv_active.spcv_activeNoAnimation{animation:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_animatedLikeWrapper.spcv_isDownVote{transform:rotate(180deg)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_animatedLikeWrapper.spcv_isDownVote{transform:rotate(-180deg)}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_animated-vote:focus .spcv_voteWrapper{outline:auto}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","animated-vote":"spcv_animated-vote",animatedVote:"spcv_animated-vote","vote-icon":"spcv_vote-icon",voteIcon:"spcv_vote-icon",voteWrapper:"spcv_voteWrapper","vote-count":"spcv_vote-count",voteCount:"spcv_vote-count",inactive:"spcv_inactive",active:"spcv_active",hover:"spcv_hover","animated-vote-icon-active":"spcv_animated-vote-icon-active",animatedVoteIconActive:"spcv_animated-vote-icon-active","grade-c":"spcv_grade-c",gradeC:"spcv_grade-c",toast:"spcv_toast","vote-up-wrapper":"spcv_vote-up-wrapper",voteUpWrapper:"spcv_vote-up-wrapper","vote-up-icon":"spcv_vote-up-icon",voteUpIcon:"spcv_vote-up-icon","vote-down-icon":"spcv_vote-down-icon",voteDownIcon:"spcv_vote-down-icon",likeImage:"spcv_likeImage",animatedLikeWrapper:"spcv_animatedLikeWrapper","branded-heart-burst":"spcv_branded-heart-burst",brandedHeartBurst:"spcv_branded-heart-burst",activeNoAnimation:"spcv_activeNoAnimation",isDownVote:"spcv_isDownVote","animated-vote-icon-inactive":"spcv_animated-vote-icon-inactive",animatedVoteIconInactive:"spcv_animated-vote-icon-inactive"}},function(e,t,i){var s=i(30),o=i(1408);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_vote-links{-webkit-user-select:none;-ms-user-select:none;user-select:none}#spotim-specific#spotim-specific .spcv_vote-links .spcv_vote-count{display:inline-block;font-size:var(--spotim-font-size-medium)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_vote-links .spcv_vote-count{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_vote-links .spcv_vote-count{margin-left:10px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","vote-links":"spcv_vote-links",voteLinks:"spcv_vote-links","vote-count":"spcv_vote-count",voteCount:"spcv_vote-count"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(3)),p=i(42),a=s(i(14)),r=s(i(47)),n=i(658),l=s(i(1412)),d=s(i(1416)),m=i(43),f=i(45),u=i(44),v=(0,p.connect)((function(e){return{votedUsers:e.upVotesList.users}}),(function(e){return{loadVotedUsers:function(t){var i=t.messageDepth,s=t.messageId,o=t.offset,c=void 0===o?0:o,p=t.count,a=void 0===p?10:p;e((0,n.getUpVotes)({messageDepth:i,messageId:s,offset:c,count:a}))}}}))((function(e){var t=e.count,i=e.votedUsers,s=(e.isVotedUsersLoading,e.loadVotedUsers),o=e.showLikesList,p=void 0===o||o,n=e.message,v=e.showVotersList,_=e.onCloseVotersList,g=e.onClick,h=(0,c.useState)(!1),y=h[0],b=(h[1],(0,c.useRef)(null),(0,c.useState)(0)),x=b[0],w=b[1];(0,c.useRef)(0);function M(){s({messageDepth:n.depth,messageId:n.id,offset:x})}return(0,c.useEffect)((function(){w(0),v&&M()}),[v]),p?c.default.createElement(m.Menu,{isLtr:u.isLtr,placement:"bottom",onShowChange:function(e){e?g():_()},showMenu:y,trigger:r.default?"click":"hover",mobileCancelButtonContent:c.default.createElement(f.TranslationWrapper,{i18nKey:"menu.closeButton"},"Done"),menuButton:c.default.createElement("span",{className:(0,a.default)(d.default.likesCount,d.default.clickable)},t)},c.default.createElement(l.default,{users:i,scheduleUpdate:function(){},upVotesCount:n.upVotesCount,onLoadMore:function(){w(x+10),M()}})):c.default.createElement("span",{className:d.default.likesCount},t)}));t.default=v},,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getUpvotesRequest=function(e,t,i,s,c,p){void 0===e&&(e=0);var a={message_type:0===e?"comment":"reply",message_id:t,spot_id:i,offset:s,count:c};return(0,o.default)("v1.0.0/conversation/rank/message/users",{postId:p,method:"POST",data:a})};var o=s(i(62))},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(3)),p=i(42),a=s(i(14)),r=s(i(102)),n=s(i(659)),l=i(93),d=s(i(1414)),m=i(49),f=s(i(1912)),u=s(i(4)),v=i(44),_=i(59),g=u.default.get("tenant_config.conversation.disable_user_profile"),h=(0,p.connect)((function(e){return{avatarsTheme:e.moduleOptions.avatarsTheme,direction:e.moduleOptions.direction,disableUserProfileModal:e.moduleOptions.disableUserProfileModal}}),(function(e){return{dispatch:e}}))((function(e){var t,i=e.users,s=void 0===i?[]:i,o=e.avatarsTheme,p=e.dispatch,u=(e.direction,e.scheduleUpdate),h=e.upVotesCount,y=e.onLoadMore,b=e.disableUserProfileModal,x=(0,m.useTranslation)().t,w=(0,f.default)(),M=w[0],E=w[1];function k(e,t){t.preventDefault(),g||p((0,l.openUserProfileModal)({user:e}))}(0,c.useEffect)((function(){u&&u()}),[s]),(0,c.useEffect)((function(){M.isIntersecting&&y()}),[M]);var S=0===s.length,C=(0,a.default)(n.default.user,((t={})[n.default.notClickable]=b||g,t)),T=x("likersList.header",{numUsers:h,count:h});return c.default.createElement("div",{className:(0,a.default)(n.default.usersList,S&&n.default.isLoading)},c.default.createElement("div",{className:n.default.header},T),c.default.createElement("div",{className:n.default.list},S&&c.default.createElement(d.default,null),!S&&s.map((function(e){var t,i;return c.default.createElement("a",{href:"spotim-user",className:C,key:e.id,onClick:k.bind(null,e)},c.default.createElement("div",{className:!v.disableUserAvatar&&n.default.userImage},c.default.createElement(r.default,{imageId:e.imageId,avatarsTheme:o,isOnline:e.isOnline,size:33,showButton:!1,displayName:(0,_.getDisplayName)(e)})),c.default.createElement("div",{className:n.default.userDetails},c.default.createElement("div",{className:(0,a.default)(n.default.displayName,(t={},t[n.default.notClickable]=g,t))},(0,_.getDisplayName)(e)),c.default.createElement("div",{className:(0,a.default)(n.default.username,(i={},i[n.default.notClickable]=g,i))},"@",e.username)))})),c.default.createElement("div",{ref:E})))}));t.default=h},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_usersList{max-height:300px;-webkit-user-select:none;-ms-user-select:none;user-select:none;font-size:var(--spotim-font-size-small);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_usersList{margin:0 0 5px;background:var(--spotim-overlay-background-color)}#spotim-specific#spotim-specific .spcv_usersList.spcv_isLoading{min-height:106px}#spotim-specific#spotim-specific .spcv_usersList .spcv_header{font-size:var(--spotim-font-size-medium);font-weight:var(--spotim-font-weight-bold);color:var(--spotim-text-color-muted);box-sizing:border-box;z-index:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_usersList .spcv_header{padding:12px 18px;border-bottom:1px solid var(--spotim-border-color);background:var(--spotim-overlay-background-color)}#spotim-specific#spotim-specific .spcv_usersList .spcv_list{max-height:300px;overflow-y:auto}@media only screen and (max-width:414px){#spotim-specific#spotim-specific .spcv_usersList{font-size:var(--spotim-font-size-small)}#spotim-specific#spotim-specific .spcv_usersList .spcv_header{display:block}}#spotim-specific#spotim-specific .spcv_usersList .spcv_user{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_usersList .spcv_user{margin:13px 20px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_usersList .spcv_user.spcv_not-clickable{cursor:auto}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_usersList .spcv_user .spcv_userImage{margin-right:9px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_usersList .spcv_user .spcv_userImage{margin-left:9px}#spotim-specific#spotim-specific .spcv_usersList .spcv_user .spcv_userDetails{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific .spcv_usersList .spcv_user .spcv_displayName{color:var(--spotim-text-color-default);font-weight:var(--spotim-font-weight-bold)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_usersList .spcv_user .spcv_displayName{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_usersList .spcv_user .spcv_displayName{margin-left:6px}#spotim-specific#spotim-specific .spcv_usersList .spcv_user .spcv_username{color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific .spcv_usersList .spcv_user:hover .spcv_displayName:not(.spcv_not-clickable),#spotim-specific#spotim-specific .spcv_usersList .spcv_user:hover .spcv_username:not(.spcv_not-clickable){color:var(--spotim-brand-color)}@media only screen and (max-width:414px){#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_usersList .spcv_user{margin:15px}}#spotim-specific#spotim-specific .spcv_usersList .spcv_activityIndicator{width:224px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",usersList:"spcv_usersList",isLoading:"spcv_isLoading",header:"spcv_header",list:"spcv_list",user:"spcv_user","not-clickable":"spcv_not-clickable",notClickable:"spcv_not-clickable",userImage:"spcv_userImage",userDetails:"spcv_userDetails",displayName:"spcv_displayName",username:"spcv_username",activityIndicator:"spcv_activityIndicator"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i(3)),c=s(i(177)),p=s(i(4)),a=s(i(659));t.default=function(){return o.default.createElement("div",{className:a.default.activityIndicator},o.default.createElement(c.default,{baseUrl:document.location.href,rtl:!p.default.get("init_data.config.ltr"),height:98,width:224,speed:2,primaryColor:getComputedStyle(document.documentElement).getPropertyValue("--spotim-content-loader-primary-color"),secondaryColor:getComputedStyle(document.documentElement).getPropertyValue("--spotim-content-loaders-secondary-color")},o.default.createElement("rect",{x:"52",y:"11",rx:"8",ry:"8",width:"153",height:"13"}),o.default.createElement("circle",{cx:"27",cy:"17",r:"12"}),o.default.createElement("rect",{x:"52",y:"44",rx:"8",ry:"8",width:"153",height:"13"}),o.default.createElement("circle",{cx:"27",cy:"50",r:"12"}),o.default.createElement("rect",{x:"52",y:"77",rx:"8",ry:"8",width:"153",height:"13"}),o.default.createElement("circle",{cx:"27",cy:"83",r:"12"})))}},,function(e,t,i){var s=i(30),o=i(1417);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_likes-count{font-size:var(--spotim-font-size-medium);color:var(--spotim-text-color-x-muted);-webkit-user-select:none;-ms-user-select:none;user-select:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_likes-count{padding-right:12px;margin-left:-2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_likes-count{padding-left:12px;margin-right:-2px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_likes-count.spcv_clickable{cursor:pointer}#spotim-specific#spotim-specific .spcv_likes-count.spcv_clickable:hover{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_votesCountTooltip{font-family:var(--spotim-font-family);min-width:240px;overflow:auto;max-height:350px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_votesCountTooltip{background:var(--spotim-overlay-background-color);border:1px solid var(--spotim-overlay-border-color);border-radius:var(--spotim-border-radius-medium);box-shadow:var(--spotim-box-shadow-medium)}@media only screen and (max-width:414px){#spotim-specific#spotim-specific .spcv_votesCountTooltip{height:100%;max-height:none;z-index:-1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_votesCountTooltip{border-radius:0;border:none;box-shadow:none}}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","likes-count":"spcv_likes-count",likesCount:"spcv_likes-count",clickable:"spcv_clickable",votesCountTooltip:"spcv_votesCountTooltip"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVoteMessage=function(e){var t=e.operation,i=e.message;return function(){var e=(0,c.default)(o.default.mark((function e(s,c){var l,d,_,g,h,y,b,x,w,M;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null,l=c(),d=l.moduleOptions.spotId,_=l.conversation.id,g=l.currentUser.id,h=i.rootMessageId,y=i.id,b=i.isVotedUp,x=i.isVotedDown,w=i.depth>0,e.prev=4,"up"!==t||b?"down"!==t||x||r.hostProvider.notifyHostApi(a.USER_DOWN_VOTE_CLICK):r.hostProvider.notifyHostApi(a.USER_UP_VOTE_CLICK),s({type:p.VOTE_TOGGLE_MESSAGE_START,payload:{operation:t,message:i}}),M=v(b,x,t),!w){e.next=13;break}return e.next=11,(0,m.toggleVoteReply)({messageId:y,spotId:d,operation:M});case 11:e.next=15;break;case 13:return e.next=15,(0,m.toggleVoteComment)({messageId:y,spotId:d,operation:M});case 15:f(c,{operation:t,message:i,conversationId:_,userId:g}),u({operation:t,message:i}),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),(0,n.default)(p.VOTE_TOGGLE_MESSAGE_END,e.t0),s({type:p.VOTE_TOGGLE_MESSAGE_END,payload:{error:e.t0,operation:t,rootMessageId:h,id:y},error:!0});case 23:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t,i){return e.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(41)),p=i(39),a=i(52),r=i(51),n=s(i(5)),l=i(19),d=s(i(53)),m=i(1419);function f(e,t){var i=t.operation,s=t.message,o=t.conversationId,c=void 0===o?null:o,p=t.userId,a={userId:void 0===p?null:p,conversationId:c,messageId:s.id};s.featuredComment&&(a.target_type="featured-comment",a.segment="top"===s.featuredComment?"top-featured-comment":"in-conversation-featured"),"up"===i?s.isVotedUp?a.type="liked-cancelled":a.type="liked":s.isVotedDown?a.type="disliked-cancelled":a.type="disliked",(0,d.default)("[Conversation] - ".concat(a.type))}function u(e){var t,i=e.operation,s=e.message;t="up"===i?s.isVotedUp?"unlike":"like":s.isVotedDown?"undislike":"dislike",l.metrics.putEngaged(),l.events.vote({type:t,commentId:s.id})}function v(e,t,i){var s;switch(!0){case"up"===i&&!e&&!t:s="like";break;case"up"===i&&e&&!t:s="toggle-like";break;case"up"===i&&!e&&t:s="swap-to-like";break;case"down"===i&&!e&&!t:s="dislike";break;case"down"===i&&!e&&t:s="toggle-dislike";break;case"down"===i&&e&&!t:s="swap-to-dislike"}return{operation:s}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleVoteReply=function(e){var t=e.messageId,i=e.spotId,p=e.operation;return o(this,void 0,void 0,(function(){var e;return c(this,(function(o){switch(o.label){case 0:return e=p,[4,(0,s.oldApiGwFetch)({endpoint:"/rank/reply/"+t,method:"POST",spotId:i,body:e})];case 1:return[2,o.sent()]}}))}))},t.toggleVoteComment=function(e){var t=e.messageId,i=e.spotId,p=e.operation;return o(this,void 0,void 0,(function(){var e;return c(this,(function(o){switch(o.label){case 0:return e=p,[4,(0,s.oldApiGwFetch)({endpoint:"/rank/comment/"+t,method:"POST",spotId:i,body:e})];case 1:return[2,o.sent()]}}))}))};var s=i(178),o=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},c=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}},function(e,t,i){var s=i(30),o=i(1421);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-vote{transform:translateZ(0)}#spotim-specific#spotim-specific body.spcv_grade-c .spcv_message-vote{display:inline-block}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-vote .spcv_animated-vote:before{display:none}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","message-vote":"spcv_message-vote",messageVote:"spcv_message-vote","grade-c":"spcv_grade-c",gradeC:"spcv_grade-c","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","animated-vote":"spcv_animated-vote",animatedVote:"spcv_animated-vote"}},function(e,t,i){var s=i(30),o=i(1423);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_shareModal{font-family:var(--spotim-font-family)}#spotim-specific#spotim-specific .spcv_shareModal .spcv_modalTitle{font-size:var(--spotim-font-size-large);font-weight:var(--spotim-font-weight-bold)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_shareModal .spcv_modalTitle{margin-bottom:30px}#spotim-specific#spotim-specific .spcv_shareModal .spcv_spinnerWrapper{position:absolute;width:calc(100% - 40px)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_shareModal .spcv_spinnerWrapper{margin-top:15px}#spotim-specific#spotim-specific .spcv_shareModal .spcv_shareButtons{display:-ms-flexbox;display:flex;visibility:hidden;-ms-flex-pack:justify;justify-content:space-between}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_shareModal .spcv_shareButtons{padding:10px 0}#spotim-specific#spotim-specific .spcv_shareModal .spcv_shareButtons.spcv_show{visibility:visible}#spotim-specific#spotim-specific .spcv_shareModal .spcv_shareButtons .spcv_shareButton{width:55px;height:55px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_shareModal .spcv_shareButtons .spcv_shareButton{border-radius:100%;border:1px solid var(--spotim-border-color);padding:5px 0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_shareModal .spcv_shareButtons .spcv_shareButton:last-child{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_shareModal .spcv_shareButtons .spcv_shareButton:last-child{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_shareModal .spcv_shareButtons .spcv_shareButton:hover{box-shadow:0 0 10px 0 rgba(0,0,0,.15)}@media only screen and (max-width:414px){#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_shareModal .spcv_shareButtons .spcv_shareButton:hover{box-shadow:none}}#spotim-specific#spotim-specific .spcv_shareModal .spcv_shareButtons .spcv_shareButton .spcv_icon{width:20px;height:20px}#spotim-specific#spotim-specific .spcv_shareModal .spcv_shareButtons .spcv_shareButton .spcv_facebookIcon{color:#3c5a99}#spotim-specific#spotim-specific .spcv_shareModal .spcv_shareButtons .spcv_shareButton .spcv_twitterIcon{color:#55acee}#spotim-specific#spotim-specific .spcv_shareModal .spcv_shareButtons .spcv_shareButton .spcv_emailIcon,#spotim-specific#spotim-specific .spcv_shareModal .spcv_shareButtons .spcv_shareButton .spcv_linkIcon{color:#d4d6d7}#spotim-specific#spotim-specific .spcv_shareModal .spcv_linkWrapper{display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_shareModal .spcv_linkWrapper{margin-top:20px;margin-bottom:5px;border:1px solid var(--spotim-border-color);border-radius:var(--spotim-border-radius-medium)}#spotim-specific#spotim-specific .spcv_shareModal .spcv_linkInput{-ms-flex:1;flex:1;font-size:var(--spotim-font-size-medium);color:var(--spotim-text-color-xx-muted);-webkit-appearance:none;width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_shareModal .spcv_linkInput{border:0 solid var(--spotim-border-color);padding:10px;background:var(--spotim-input-background-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_shareModal .spcv_linkInput{border-right-width:1px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_shareModal .spcv_linkInput{border-left-width:1px}#spotim-specific#spotim-specific .spcv_shareModal .spcv_copyLinkButton{font-size:var(--spotim-font-size-medium);color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_shareModal .spcv_copyLinkButton{border:none;padding:10px 12px;background:none}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",shareModal:"spcv_shareModal",modalTitle:"spcv_modalTitle",spinnerWrapper:"spcv_spinnerWrapper",shareButtons:"spcv_shareButtons",show:"spcv_show",shareButton:"spcv_shareButton",icon:"spcv_icon",facebookIcon:"spcv_facebookIcon",twitterIcon:"spcv_twitterIcon",emailIcon:"spcv_emailIcon",linkIcon:"spcv_linkIcon",linkWrapper:"spcv_linkWrapper",linkInput:"spcv_linkInput",copyLinkButton:"spcv_copyLinkButton"}},,function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageDetails=void 0;var c,p=o(i(65)),a=s(i(3)),r=o(i(35)),n=o(i(57)),l=i(42),d=o(i(14)),m=i(2),f=i(75),u=o(i(341)),v=i(1426),_=i(66),g=o(i(348)),h=s(i(48)),y=i(91),b=i(93),x=i(49),w=o(i(1430)),M=i(661),E=o(i(4)),k=i(43),S=i(662),C=i(44),T=i(82),I=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),R=E.default.get("tenant_config.conversation.disable_user_profile"),O=E.default.get("tenant_config.conversation.enable_uppercase_username",!1),P=function(e){function t(t){var s=e.call(this,t)||this;return s.getSnippets=function(){return s.snippets},s.displayNameTooltipAlign=null,s.showUserProfileTooltip=function(){if(s.isProfileHoverEnabled()){s.setState({showProfileHover:!0});var e=s.props,t=e.message,i=e.user;e.tracking.trackEvent({type:"user-profile-hovered",item_type:"main",message_id:t.id,target_id:i.id})}},s.hideUserProfileTooltip=function(){s.isProfileHoverEnabled()&&s.setState({showProfileHover:!1})},s.openUserProfileModal=function(e){var t=s.props,i=t.message,o=t.user,c=t.currentUser,p=t.tracking,a=(0,f.isSameUser)(c,o),r=i.userDisplayName;s.props.onOpenUserProfileModal({user:o,overrideDisplayName:r,overrideImageId:void 0,mode:"main"}),p.trackEvent({type:"user-profile-clicked",item_type:"main",target_type:"tooltip"===e?"profile-preview":"message",native:0===i.depth?"comment":"reply",segment:"name",target_id:a?"my-profile":o.id,message_id:i.id,related_message_id:i.rootMessageId,source:s.state.isPostPage?"post-page":"conversation",ugc_post_id:s.props.convId})},s.onTitleLinkClick=function(e){e.preventDefault(),s.props.onTitleLinkClick()},s.handleUserProfileClick=function(){s.hideUserProfileTooltip(),R||s.openUserProfileModal()},s.handleUserProfileKeyUp=function(e){13===e.keyCode&&s.handleUserProfileClick()},s.handleUserProfileGotFocus=function(){s.props.userProfileGotFocus()},s.getUserBadge=function(e,t){var i;return t?i=M.Badges.REPORTER:e.isModerator?i=M.Badges.MODERATOR:e.isJournalist?i=M.Badges.JOURNALIST:e.isCommunityModerator?i=M.Badges.COMMUNITY_MODERATOR:e.isAdmin?i=M.Badges.ADMIN:e.ssoData&&e.ssoData.isSubscriber&&(i=M.Badges.SUBSCRIBER),i},s.state={isVisible:!1,isPostPage:s.props.contentType===C.ContentType.Post},s.snippets=i(1435),s}return I(t,e),t.prototype.componentDidMount=function(){this.setState({isVisible:!0})},t.prototype.isProfileHoverEnabled=function(){var e=this.props,t=e.message,i=e.currentUser.id===t.user.id;return this.props.enableProfileHover&&!i&&!R},t.prototype.render=function(){var e,t,i,s,o,c=this,p=this.props,r=p.message,n=p.user,l=p.avatarsTheme,_=p.showBadge,h=p.showReplyTo,y=p.messageUrl,b=p.reporters,x=p.spotName,M=p.currentUser,I=p.profileHoverUser,P=p.onMessageUrlClick,N=p.reporterBadgeText,A=p.moderatorBadgeText,U=p.communityModeratorBadgeText,D=p.adminBadgeText,L=p.journalistBadgeText,B=p.theme,j=p.size,q=p.oneLine,z=p.enableHideMessage,F=p.enableSSO,W=p.messageContextMenu,V=p.enableGamificationBadges,H=p.isMobileDevice,G=p.token,K=(F=p.enableSSO,p.messageStatus,p.innerRef),Q=p.t,J=p.isDisabled,Y=this.isProfileHoverEnabled(),X=(0,f.isSameUser)(M,n),Z=M.isRegistered,$=Array.isArray(b)&&(b.indexOf(n.username)>-1||b.indexOf(n.id)>-1),ee=null,te=E.default.get("tenant_config.conversation.disable_badges",!1),ie=this.getUserBadge(n,$);_&&!te&&ie&&(ee=a.default.createElement(w.default,{user:n,spotName:x,badge:ie,reporterBadgeText:N,moderatorBadgeText:A,communityModeratorBadgeText:U,adminBadgeText:D,journalistBadgeText:L,spotTheme:B,enableGamificationBadges:V}));var se=null;y&&(se=a.default.createElement(v.MessageUrl,{url:y,onClick:P}));(0,d.default)(g.default.userWrap,((e={})[g.default.replyTo]=h,e[g.default.isDisabled]=J,e));var oe=(0,d.default)(g.default.metadataWrapper,((t={})[g.default.isDisabled]=J,t)),ce=(0,d.default)(g.default.username,((i={})[g.default.brandFill]=$,i[g.default.isUserProfileDisabled]=R,i[g.default.uppercase]=O,i)),pe=null;Y&&!H&&(pe=a.default.createElement(u.default,{avatarsTheme:l,alignElement:function(){return(0,m.findDOMNode)(c.displayNameTooltipAlign)},isLoggedIn:Z,show:this.state.showProfileHover,isMe:X,user:I,onViewProfileClick:this.openUserProfileModal.bind(this,"tooltip"),onLogin:this.props.onLogin,token:G,enableSSO:F}));var ae=[];(M.id===r.user.id||M.isModerator)&&(ae.push(Q("delete")),z&&ae.push(Q("hide")));var re=r.depth>0,ne=n.isRegistered&&C.enableUserReputation&&!(0,T.isStaffMember)(n);return a.default.createElement("div",{ref:K,className:(0,d.default)(g.default.messageDetails,(s={},s[g.default.depth0]=0===r.depth,s[g.default.small]="small"===j,s[g.default.large]="large"===j,s[g.default.xLarge]="x-large"===j,s[g.default.oneLine]=q,s[g.default.isDisabled]=J,s))},a.default.createElement("div",{className:g.default.userLink,ref:function(e){return c.displayNameTooltipAlign=e}},a.default.createElement(k.Typography,{type:"username",className:ce,onKeyUp:this.handleUserProfileKeyUp,onClick:this.handleUserProfileClick,onFocus:this.handleUserProfileGotFocus,onMouseEnter:this.showUserProfileTooltip,onMouseLeave:this.hideUserProfileTooltip,"data-spot-im-class":"message-username",id:"spotim-username"},this.getSnippets().displayUserName(this.props)),ne&&a.default.createElement(S.UserPoints,{total:null===(o=n.reputation)||void 0===o?void 0:o.total,isLtr:C.isLtr}),ee,!H&&this.getSnippets().renderMessageReplyTo(this.props),!H&&this.getSnippets().renderFeaturedComment(this.props,!1)),pe,a.default.createElement("div",{className:oe},H&&this.getSnippets().renderMessageReplyTo(this.props),H&&re&&a.default.createElement("span",{className:g.default.middleDot}),this.getSnippets().renderStats(r,null,se,this.state.isVisible,this.props)),W)},t.displayName="MessageDetails",t.defaultProps={reporters:[],enableProfileHover:!0,showBadge:!0,spotName:"",showReplyTo:!1,messageUrl:null,onMessageUrlClick:function(){},onOpenUserProfileModal:function(){},onLogin:function(){},size:"normal",userProfileGotFocus:function(){},messageContextMenu:null,enableGamificationBadges:!0,featuredComment:null,journalistBadgeText:null,convId:""},t.contextTypes={analyticsTrack:r.default.func.isRequired},t}(a.Component);t.MessageDetails=P;var N=(0,p.default)((0,l.connect)((function(e){var t=(0,_.getModuleOptions)(e),i=t.theme,s=t.enableGamificationBadges,o=t.enableSSO,c=t.spotName,p=t.avatarsTheme,a=t.textsOverrides,r=a.moderatorBadgeText,n=a.communityModeratorBadgeText,l=a.reporterBadgeText,d=t.isConnectEnabled,m=t.isMobile,f=e.conversation,u=f.contentType,v=f.id;return{theme:i,enableGamificationBadges:s,token:e.authentication.token,enableSSO:o,spotName:c,avatarsTheme:p,moderatorBadgeText:r,communityModeratorBadgeText:n,reporterBadgeText:l,reporters:h.getReporters(e),currentUser:e.currentUser,showUserImageButton:d&&!o,isMobileDevice:h.isMobile(e)||m,contentType:u,convId:v}}),{onLogin:y.openLoginSelectorModal,onOpenUserProfileModal:b.openUserProfileModal}),(0,n.default)({}),(0,x.withTranslation)())(P);t.default=N},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageUrl=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=s(i(3)),m=o(i(14)),f=i(56),u=o(i(1427));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var _=function(e){(0,a.default)(i,e);var t=v(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"render",value:function(){var e=this.props,t=e.className,i=e.url,s=e.onClick;return t=(0,m.default)(u.default.messageUrl,t),d.default.createElement("span",{className:t},d.default.createElement("a",{href:i,className:u.default.link,onClick:function(e){return s(e,i)}},d.default.createElement(f.TranslatedText,{textKey:"message.conversationLinkText"})))}}]),i}(d.Component);t.MessageUrl=_,_.displayName="MessageUrl",_.propTypes={className:l.default.string,url:l.default.string,onClick:l.default.func},_.defaultProps={className:void 0,url:"",onClick:function(){}}},function(e,t,i){var s=i(30),o=i(1428);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_message-url,#spotim-specific#spotim-specific .spcv_message-url .spcv_link{color:#307fe2;display:inline-block;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-url,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-url .spcv_link{cursor:pointer}#spotim-specific#spotim-specific .spcv_message-url,#spotim-specific#spotim-specific .spcv_message-url .spcv_link,#spotim-specific#spotim-specific .spcv_message-url .spcv_link:hover,#spotim-specific#spotim-specific .spcv_message-url:hover{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_message-url .spcv_link:hover,#spotim-specific#spotim-specific .spcv_message-url:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_message-url:after{content:"\\A0\\BB"}#spotim-specific#spotim-specific .spcv_message-url,#spotim-specific#spotim-specific .spcv_message-url .spcv_link{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_message-url{display:inline-block;font-size:11px;line-height:15px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-url{margin-bottom:10px}#spotim-specific#spotim-specific .spcv_message-url .spcv_link{font-size:11px;line-height:15px;vertical-align:middle}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","message-url":"spcv_message-url",messageUrl:"spcv_message-url",link:"spcv_link"}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific body.spcv_grade-c .spcv_message-details{zoom:1}#spotim-specific#spotim-specific body.spcv_grade-c .spcv_message-details:after,#spotim-specific#spotim-specific body.spcv_grade-c .spcv_message-details:before{content:" ";display:block;height:0;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] body.spcv_grade-c .spcv_message-details:after{clear:both}#spotim-specific#spotim-specific .spcv_message-details .spcv_middleDot:after,#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_is-edited:before,#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_message-url:before,#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_more-replies:before,#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_posted-at:before{content:"\\B7";display:inline-block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details .spcv_middleDot:after,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_is-edited:before,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_message-url:before,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_more-replies:before,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_posted-at:before,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details .spcv_middleDot:after,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_is-edited:before,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_message-url:before,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_more-replies:before,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_posted-at:before{margin-left:7px;margin-right:7px}#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url .spcv_link,#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url span{color:#307fe2;display:inline-block;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details .spcv_message-url .spcv_link,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details .spcv_message-url span{cursor:pointer}#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url .spcv_link,#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url .spcv_link:hover,#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url span,#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url span:hover{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url .spcv_link:hover,#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url span:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url .spcv_link,#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url span{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_message-details{font-size:15px;line-height:18px;color:#7b7f83;width:100%;min-width:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details{margin-top:-2px}#spotim-specific#spotim-specific .spcv_message-details .spcv_middleDot{color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific .spcv_message-details .spcv_metadataWrapper{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-details .spcv_metadataWrapper{max-width:calc(100% - 7vw)}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-details .spcv_metadataWrapper .spcv_stats{-ms-flex:1 0 auto;flex:1 0 auto;display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline}#spotim-specific#spotim-specific .spcv_message-details .spcv_message-index,#spotim-specific#spotim-specific .spcv_message-details .spcv_user-image{-ms-flex-negative:0;flex-shrink:0}#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap{-ms-flex-negative:1;flex-shrink:1;-ms-flex:1;flex:1;display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details .spcv_user-wrap{margin-bottom:0}#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_is-edited>span,#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_message-url:before,#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_more-replies>span,#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_posted-at>span{vertical-align:middle}#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_message-url:after{vertical-align:baseline;text-decoration:none}#spotim-specific#spotim-specific .spcv_message-details .spcv_user-wrap .spcv_reply-to{display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-details .spcv_user-wrap .spcv_stats{display:inline}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_message-details .spcv_user-wrap .spcv_stats{clear:both}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-details .spcv_user-wrap .spcv_stats .spcv_posted-at:before{display:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-details .spcv_user-wrap .spcv_reply-to,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-details .spcv_user-wrap .spcv_user-link,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-details .spcv_user-wrap>.spcv_stats{float:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-details .spcv_user-wrap .spcv_reply-to,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-details .spcv_user-wrap .spcv_user-link,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-details .spcv_user-wrap>.spcv_stats{float:right}#spotim-specific#spotim-specific .spcv_message-details:before{vertical-align:middle}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details:before,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details:before{margin-left:7px;margin-right:7px}#spotim-specific#spotim-specific .spcv_message-details .spcv_user-link{display:-ms-flexbox;display:flex;position:relative;max-width:calc(100% - 7vw);-ms-flex-align:center;align-items:center;-ms-flex:0 1 auto;flex:0 1 auto}#spotim-specific#spotim-specific .spcv_message-details .spcv_user-link .spcv_roleBadge{white-space:nowrap;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details .spcv_user-link .spcv_roleBadge{transform:translateY(-1px)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details .spcv_user-link .spcv_roleBadge:not(:empty){margin-left:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details .spcv_user-link .spcv_roleBadge:not(:empty){margin-right:6px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-details .spcv_user-link{min-width:0}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-details .spcv_user-link .spcv_username{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:15ch;-ms-flex-negative:0;flex-shrink:0}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-details .spcv_user-link .spcv_roleBadge{-ms-flex:1 1 auto;flex:1 1 auto}#spotim-specific#spotim-specific .spcv_message-details .spcv_user-link .spcv_username{color:var(--spotim-text-color-muted);font-size:var(--spotim-font-size-small);font-weight:var(--spotim-font-weight-bold);line-height:var(--spotim-line-height-medium);outline:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details .spcv_user-link .spcv_username{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details .spcv_user-link .spcv_username{margin-left:6px}#spotim-specific#spotim-specific .spcv_message-details .spcv_user-link .spcv_username:hover:not(.spcv_isUserProfileDisabled){color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_message-details .spcv_user-link .spcv_username.spcv_uppercase{text-transform:uppercase}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details .spcv_user-link .spcv_username:not(.spcv_isUserProfileDisabled){cursor:pointer}#spotim-specific#spotim-specific .spcv_message-details .spcv_reply-to .spcv_icon{height:8px;width:10px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details .spcv_reply-to .spcv_icon{margin:0 5px}#spotim-specific#spotim-specific .spcv_message-details .spcv_badge{vertical-align:top}#spotim-specific#spotim-specific .spcv_message-details .spcv_is-edited,#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url,#spotim-specific#spotim-specific .spcv_message-details .spcv_more-replies{font-size:var(--spotim-font-size-small);color:var(--spotim-text-color-xx-muted);line-height:1.4em;vertical-align:baseline}#spotim-specific#spotim-specific .spcv_message-details .spcv_is-edited{display:inline-block;font-style:italic}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details .spcv_is-edited{transform:translateY(-1px)}#spotim-specific#spotim-specific .spcv_message-details .spcv_is-deleted{color:#a8abae;font-style:italic;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url .spcv_link,#spotim-specific#spotim-specific .spcv_message-details .spcv_message-url span{font-size:11px;line-height:15px;vertical-align:baseline}#spotim-specific#spotim-specific .spcv_message-details .spcv_createdA{color:#707478}#spotim-specific#spotim-specific .spcv_message-details .spcv_createdA .spcv_createdAPost{color:#2a74de;font-weight:700}#spotim-specific#spotim-specific .spcv_message-details .spcv_createdA .spcv_createdAPost:hover{color:#2b68bb}#spotim-specific#spotim-specific .spcv_message-details.spcv_small{-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details.spcv_small .spcv_user-wrap>.spcv_stats.spcv_stats,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details.spcv_small .spcv_user-wrap>.spcv_user-link.spcv_user-link{float:none}#spotim-specific#spotim-specific .spcv_message-details.spcv_small .spcv_user-link .spcv_username{font-size:11px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details.spcv_small .spcv_user-wrap .spcv_stats{margin-top:-3px}#spotim-specific#spotim-specific .spcv_message-details.spcv_small .spcv_user-wrap .spcv_stats .spcv_posted-at:before{display:none}#spotim-specific#spotim-specific .spcv_message-details.spcv_large{-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details.spcv_large{margin-bottom:16px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details.spcv_large .spcv_user-wrap>.spcv_stats.spcv_stats,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details.spcv_large .spcv_user-wrap>.spcv_user-link.spcv_user-link{float:none}#spotim-specific#spotim-specific .spcv_message-details.spcv_large .spcv_user-wrap .spcv_stats .spcv_posted-at:before{display:none}#spotim-specific#spotim-specific .spcv_message-details.spcv_xLarge{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific .spcv_message-details.spcv_xLarge .spcv_user-wrap{font-size:15px}#spotim-specific#spotim-specific .spcv_message-details.spcv_xLarge .spcv_user-wrap>.spcv_stats.spcv_stats,#spotim-specific#spotim-specific .spcv_message-details.spcv_xLarge .spcv_user-wrap>.spcv_user-link.spcv_user-link{line-height:21px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details.spcv_xLarge .spcv_user-wrap>.spcv_stats.spcv_stats,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details.spcv_xLarge .spcv_user-wrap>.spcv_user-link.spcv_user-link{float:none}#spotim-specific#spotim-specific .spcv_message-details.spcv_xLarge .spcv_user-wrap>.spcv_stats.spcv_stats .spcv_username,#spotim-specific#spotim-specific .spcv_message-details.spcv_xLarge .spcv_user-wrap>.spcv_user-link.spcv_user-link .spcv_username{font-size:15px}#spotim-specific#spotim-specific .spcv_message-details.spcv_xLarge .spcv_user-wrap .spcv_stats .spcv_posted-at{font-size:13px;display:block}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-details.spcv_xLarge .spcv_user-wrap .spcv_stats .spcv_posted-at{margin-top:5px}#spotim-specific#spotim-specific .spcv_message-details.spcv_xLarge .spcv_user-wrap .spcv_stats .spcv_posted-at:before{display:none}#spotim-specific#spotim-specific .spcv_message-details.spcv_one-line .spcv_user-wrap{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details.spcv_one-line .spcv_user-wrap .spcv_stats{margin-left:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details.spcv_one-line .spcv_user-wrap .spcv_stats{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details.spcv_one-line .spcv_user-wrap>.spcv_stats.spcv_stats,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details.spcv_one-line .spcv_user-wrap>.spcv_user-link.spcv_user-link{float:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details.spcv_one-line .spcv_user-wrap>.spcv_stats.spcv_stats,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details.spcv_one-line .spcv_user-wrap>.spcv_user-link.spcv_user-link{float:right}#spotim-specific#spotim-specific body.spcv_grade-c .spcv_message-details{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] body.spcv_grade-c .spcv_message-details .spcv_user-image{float:left;margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] body.spcv_grade-c .spcv_message-details .spcv_user-image{float:right;margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] body.spcv_grade-c .spcv_message-details .spcv_large-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] body.spcv_grade-c .spcv_message-details .spcv_large-user-image+.spcv_user-wrap{margin-left:69px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] body.spcv_grade-c .spcv_message-details .spcv_large-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] body.spcv_grade-c .spcv_message-details .spcv_large-user-image+.spcv_user-wrap{margin-right:69px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] body.spcv_grade-c .spcv_message-details .spcv_medium-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] body.spcv_grade-c .spcv_message-details .spcv_medium-user-image+.spcv_user-wrap{margin-left:63px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] body.spcv_grade-c .spcv_message-details .spcv_medium-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] body.spcv_grade-c .spcv_message-details .spcv_medium-user-image+.spcv_user-wrap{margin-right:63px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] body.spcv_grade-c .spcv_message-details .spcv_normal-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] body.spcv_grade-c .spcv_message-details .spcv_normal-user-image+.spcv_user-wrap{margin-left:49px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] body.spcv_grade-c .spcv_message-details .spcv_normal-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] body.spcv_grade-c .spcv_message-details .spcv_normal-user-image+.spcv_user-wrap{margin-right:49px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_large-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_large-user-image+.spcv_user-wrap{margin-left:64px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_large-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_large-user-image+.spcv_user-wrap{margin-right:64px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_medium-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_medium-user-image+.spcv_user-wrap{margin-left:58px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_medium-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_medium-user-image+.spcv_user-wrap{margin-right:58px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_normal-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_normal-user-image+.spcv_user-wrap{margin-left:44px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_normal-user-image+.spcv_user-details,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile body.spcv_grade-c .spcv_message-details .spcv_normal-user-image+.spcv_user-wrap{margin-right:44px}#spotim-specific#spotim-specific .spcv_is-disabled{opacity:.5}#spotim-specific#spotim-specific .spcv_accessibility-mode .spcv_message-details,#spotim-specific#spotim-specific .spcv_accessibility-mode .spcv_message-details .spcv_reply-to .spcv_username{color:#57595c}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_message-details .spcv_user-link .spcv_username:focus{outline:auto}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_the-sun .spcv_message-details .spcv_user-wrap .spcv_stats{clear:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_uproxx .spcv_message-details .spcv_user-wrap{padding-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_uproxx .spcv_message-details .spcv_user-wrap{padding-left:0}#spotim-specific#spotim-specific .spcv_FeaturedIcon{fill:var(--spotim-say-control-action-color);vertical-align:middle;width:10px;height:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_FeaturedIcon{animation:spcv_spcv_thumbtack-animation .75s 2s;transform:rotate(30deg);margin-right:5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_FeaturedIcon{animation:spcv_spcv_thumbtack-animation .75s 2s;transform:rotate(-30deg);margin-left:5px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_FeaturedIcon{position:relative;top:1px}#spotim-specific#spotim-specific .spcv_Badge{font-size:9px;font-weight:700;font-style:normal;font-stretch:normal;line-height:normal;letter-spacing:normal;color:var(--spotim-brand-color);text-transform:uppercase;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_Badge{border-radius:var(--spotim-border-radius-medium);border:solid 1px var(--spotim-brand-color);padding:1px 4px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_Badge{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_Badge{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_Badge_OnlyBadgeNotInline{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_Badge_OnlyBadgeNotInline{margin-right:10px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_Badge{position:relative;top:-1px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_Badge{left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_Badge{right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_Badge_OnlyBadgeNotInline{margin-left:8px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_Badge_OnlyBadgeNotInline{margin-right:8px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_Space{margin:0 8px}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","grade-c":"spcv_grade-c",gradeC:"spcv_grade-c","message-details":"spcv_message-details",messageDetails:"spcv_message-details","user-wrap":"spcv_user-wrap",userWrap:"spcv_user-wrap",stats:"spcv_stats","posted-at":"spcv_posted-at",postedAt:"spcv_posted-at","is-edited":"spcv_is-edited",isEdited:"spcv_is-edited","more-replies":"spcv_more-replies",moreReplies:"spcv_more-replies","message-url":"spcv_message-url",messageUrl:"spcv_message-url",middleDot:"spcv_middleDot",link:"spcv_link",metadataWrapper:"spcv_metadataWrapper","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","user-image":"spcv_user-image",userImage:"spcv_user-image","message-index":"spcv_message-index",messageIndex:"spcv_message-index","reply-to":"spcv_reply-to",replyTo:"spcv_reply-to","user-link":"spcv_user-link",userLink:"spcv_user-link",roleBadge:"spcv_roleBadge",username:"spcv_username",isUserProfileDisabled:"spcv_isUserProfileDisabled",uppercase:"spcv_uppercase",icon:"spcv_icon",badge:"spcv_badge","is-deleted":"spcv_is-deleted",isDeleted:"spcv_is-deleted",createdA:"spcv_createdA",createdAPost:"spcv_createdAPost",small:"spcv_small",large:"spcv_large",xLarge:"spcv_xLarge","one-line":"spcv_one-line",oneLine:"spcv_one-line","large-user-image":"spcv_large-user-image",largeUserImage:"spcv_large-user-image","user-details":"spcv_user-details",userDetails:"spcv_user-details","medium-user-image":"spcv_medium-user-image",mediumUserImage:"spcv_medium-user-image","normal-user-image":"spcv_normal-user-image",normalUserImage:"spcv_normal-user-image","is-disabled":"spcv_is-disabled",isDisabled:"spcv_is-disabled","the-sun":"spcv_the-sun",theSun:"spcv_the-sun",uproxx:"spcv_uproxx",FeaturedIcon:"spcv_FeaturedIcon",featuredIcon:"spcv_FeaturedIcon","spcv_thumbtack-animation":"spcv_spcv_thumbtack-animation",spcvThumbtackAnimation:"spcv_spcv_thumbtack-animation",Badge:"spcv_Badge",badge:"spcv_Badge",Badge_OnlyBadgeNotInline:"spcv_Badge_OnlyBadgeNotInline",badgeOnlyBadgeNotInline:"spcv_Badge_OnlyBadgeNotInline",Space:"spcv_Space",space:"spcv_Space"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UserBadge=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=o(i(65)),m=s(i(3)),f=i(42),u=i(43),v=i(446),_=i(49),g=o(i(14)),h=i(661),y=o(i(1431)),b=i(45),x=i(44);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var M=function(e){(0,r.default)(i,e);var t=w(i);function i(){var e;(0,p.default)(this,i);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).customBadge=function(t){var i=null;switch(e.props.badge){case h.Badges.REPORTER:i=e.getRoleBadge(t,e.props.reporterBadgeText,h.Badges.REPORTER);break;case h.Badges.JOURNALIST:i=e.getRoleBadge(t,e.props.adminBadgeText,h.Badges.ADMIN);break;case h.Badges.COMMUNITY_MODERATOR:i=e.getRoleBadge(t,e.props.communityModeratorBadgeText,h.Badges.COMMUNITY_MODERATOR);break;case h.Badges.MODERATOR:i=e.getRoleBadge(t,e.props.moderatorBadgeText,h.Badges.MODERATOR);break;case h.Badges.ADMIN:i=e.getRoleBadge(t,e.props.journalistBadgeText,h.Badges.JOURNALIST);break;case h.Badges.SUBSCRIBER:i=e.getSubscriberBadge()}return i},e.getRoleBadge=function(t,i,s){var o=e.props.spotName,c=(0,g.default)(y.default.isRoleBadge,y.default[s]);return m.default.createElement("span",{className:c,"data-open-web-class":"user-badge"},i||m.default.createElement(b.TranslationWrapper,{i18nKey:t,values:{spotName:o}}))},e.getSubscriberBadge=function(){var t=e.props.t,i=x.subscriberIcon.name,s=x.subscriberIcon.type;return m.default.createElement("div",{"data-balloon-pos":"up","aria-label":t("conversation.user.badges.subscriber","Subscribed"),className:y.default.subscriber},m.default.createElement(u.Icon,{name:i,type:s}))},e}return(0,a.default)(i,[{key:"render",value:function(){var e=this.props,t=e.badge,i=e.className,s=e.badgeTextKey,o=t===h.Badges.MODERATOR||t===h.Badges.REPORTER||t===h.Badges.ADMIN||t===h.Badges.COMMUNITY_MODERATOR||t===h.Badges.JOURNALIST||t===h.Badges.SUBSCRIBER,p=null,a=(0,g.default)(i,y.default.badge,(0,c.default)({},y.default.isRoleBadge,t!==h.Badges.SUBSCRIBER));if(o){s="user.badges."+t.toLowerCase();p=t===h.Badges.COMMUNITY_MODERATOR?m.default.createElement(u.Tooltip,{placement:"bottom",trigger:(0,v.isMobile)()?"click":"hover",tooltipContent:m.default.createElement("div",{className:y.default.tooltipContainer},m.default.createElement(u.Typography,{color:"#fff",type:"infoXs",weight:"bold"},m.default.createElement(b.TranslationWrapper,{i18nKey:s},"Community Moderator")),m.default.createElement(u.Typography,{color:"#fff",type:"infoXs",className:y.default.communityModeratorDescriptionText},m.default.createElement(b.TranslationWrapper,{i18nKey:"user.badges.communityModeratorDescription"},"Top members of the community entrusted in keeping discussions civil")))},m.default.createElement(u.Icon,{className:y.default.communityModeratorShieldBadge,type:"custom",name:"community-moderator-shield"})):m.default.createElement("span",{className:a,"data-spot-im-class":"user-badge"},this.customBadge(s))}return p}}]),i}(m.PureComponent);t.UserBadge=M;var E=(0,d.default)((0,f.connect)((function(e){return{spotId:e.moduleOptions.spotId}})),(0,_.withTranslation)())(M);t.default=E},function(e,t,i){var s=i(30),o=i(1432);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_badge{-ms-user-select:none;user-select:none;-o-user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_badge{cursor:default}#spotim-specific#spotim-specific .spcv_badge{color:var(--spotim-say-control-action-color);display:-ms-flexbox;display:flex;font-size:var(--spotim-font-size-medium);word-break:normal;-ms-flex-align:baseline;align-items:baseline;text-transform:uppercase;-ms-flex-negative:0;flex-shrink:0}#spotim-specific#spotim-specific .spcv_badge.spcv_isRoleBadge{font-size:9px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-ms-flex-negative:1;flex-shrink:1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_badge.spcv_isRoleBadge{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_badge.spcv_isRoleBadge{margin-left:6px}#spotim-specific#spotim-specific .spcv_badge>*{display:inline-block;vertical-align:middle}@media only screen and (min-width:551px){#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_badge .spcv_icon,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_badge.spcv_margin-right{margin-right:5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_badge .spcv_icon,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_badge.spcv_margin-right{margin-left:5px}}#spotim-specific#spotim-specific .spcv_badge .spcv_community-moderator,#spotim-specific#spotim-specific .spcv_badge .spcv_moderator,#spotim-specific#spotim-specific .spcv_badge .spcv_reporter{width:133px;line-height:normal;color:var(--spotim-brand-color);font-weight:var(--spotim-font-weight-bold);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_badge .spcv_community-moderator,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_badge .spcv_moderator,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_badge .spcv_reporter{border-radius:var(--spotim-border-radius-medium);border:solid 1px var(--spotim-brand-color);padding:1px 4px}#spotim-specific#spotim-specific .spcv_badge .spcv_journalist{color:#1d1d1b;font-family:Gill Sans;text-transform:uppercase}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_badge .spcv_journalist{border:1px solid #1d1d1b;border-radius:var(--spotim-border-radius-medium);padding:1px 4px}#spotim-specific#spotim-specific .spcv_badge .spcv_community-moderator,#spotim-specific#spotim-specific .spcv_badge .spcv_journalist,#spotim-specific#spotim-specific .spcv_badge .spcv_moderator,#spotim-specific#spotim-specific .spcv_badge .spcv_reporter{overflow:hidden;text-overflow:ellipsis;width:100%}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_badge .spcv_community-moderator,#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_badge .spcv_journalist,#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_badge .spcv_moderator,#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_badge .spcv_reporter{width:auto}#spotim-specific#spotim-specific .spcv_star-icon{height:14px;width:14px;color:var(--spotim-brand-color);overflow:initial}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_star-icon{transform:translateY(1px)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_star-icon{margin-left:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_star-icon{margin-right:6px}#spotim-specific#spotim-specific .spcv_subscriber{color:var(--spotim-brand-color);text-transform:none;font-size:var(--spotim-font-size-small);line-height:14px;overflow:initial}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_subscriber{transform:translateY(-1px)}#spotim-specific#spotim-specific .spcv_communityModeratorShieldBadge{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;font-size:14px;color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_tooltipContainer{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;max-width:150px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_communityModeratorDescriptionText{text-align:center}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",badge:"spcv_badge",isRoleBadge:"spcv_isRoleBadge",icon:"spcv_icon","margin-right":"spcv_margin-right",marginRight:"spcv_margin-right",moderator:"spcv_moderator","community-moderator":"spcv_community-moderator",communityModerator:"spcv_community-moderator",reporter:"spcv_reporter",journalist:"spcv_journalist","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","star-icon":"spcv_star-icon",starIcon:"spcv_star-icon",subscriber:"spcv_subscriber",communityModeratorShieldBadge:"spcv_communityModeratorShieldBadge",tooltipContainer:"spcv_tooltipContainer",communityModeratorDescriptionText:"spcv_communityModeratorDescriptionText"}},function(e,t,i){var s=i(30),o=i(1434);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_pointsWrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-item-align:center;align-self:center;white-space:nowrap}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_pointsWrapper{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_pointsWrapper{margin-left:6px}#spotim-specific#spotim-specific .spcv_dotSeparator{height:4px;width:4px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_dotSeparator{background-color:var(--spotim-text-color-xx-muted);border-radius:50%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_dotSeparator{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_dotSeparator{margin-left:6px}#spotim-specific#spotim-specific .spcv_tooltipWrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;max-width:180px}#spotim-specific#spotim-specific .spcv_learnMoreBtn{width:-webkit-fit-content;width:fit-content;-ms-flex-item-align:end;align-self:flex-end}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",pointsWrapper:"spcv_pointsWrapper",dotSeparator:"spcv_dotSeparator",tooltipWrapper:"spcv_tooltipWrapper",learnMoreBtn:"spcv_learnMoreBtn"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.renderMessageReplyTo=t.renderFeaturedComment=t.renderStats=t.displayUserName=t.renderPrettyDate=void 0;var o=s(i(3)),c=s(i(663)),p=s(i(348)),a=i(75),r=i(1437),n=i(1440),l=function(e){var t=e.message,i=t.depth>0;return o.default.createElement(c.default,{"data-spot-im-class":"message-timestamp",id:"spotim-message-timestamp-".concat(i?"reply":"comment"),date:t.postedAt||t.publishedAt,longDate:!e.isMobileDevice})};t.renderPrettyDate=l;t.displayUserName=function(e){var t=e.message,i=e.user;return t.userDisplayName||(0,a.getDisplayName)(i)};t.renderStats=function(e,t,i,s,c){return o.default.createElement("div",{className:p.default.stats},c.children,c.isMobileDevice&&d(c,!0),s&&l(c),t,i)};var d=function(e,t){return"top"===e.message.featuredComment?(0,n.renderFeaturedCommentSection)(e.spotName,{onlyBadge:!1,brandColor:e.brandColor,isMobile:e.isMobileDevice,inline:t}):e.message.featured?(0,n.renderFeaturedCommentSection)(e.spotName,{onlyBadge:!0,brandColor:e.brandColor,isMobile:e.isMobileDevice,inline:t}):null};t.renderFeaturedComment=d;t.renderMessageReplyTo=function(e){return o.default.createElement(r.MessageReplyTo,{message:e.message,isMobile:e.isMobileDevice,isEnabled:e.showReplyTo})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prettyDate=function(e,t,i){var c=e.getTime(),p=(Date.now()-c)/1e3,a=null,r=t?"long":"short",n=o(e.getUTCFullYear());if(!c||isNaN(p))a="";else if(p<14)a=i("prettyDate.now");else if(p<60){var l=Math.floor(p);a=i("prettyDate."+r+"Second",{count:l,seconds:l})}else if(p<3600){var d=Math.floor(p/60);a=i("prettyDate."+r+"Minute",{count:d,minutes:d})}else if(p<86400){var m=Math.floor(p/3600);a=i("prettyDate."+r+"Hour",{count:m,hours:m})}else{var f=e.getUTCMonth()+1,u=Math.floor(p/86400);if(u<3)a=i("prettyDate."+r+"Day",{count:u,days:u});else if(s.enableDateFormat){a=new Intl.DateTimeFormat(s.dateFormat,{year:"numeric",month:"long",day:"numeric"}).format(e)}else a=e.getDate()+" "+i("prettyDate.months."+f+"."+r)+(t||!n?", "+e.getUTCFullYear():"")}return a},t.toolTipDate=function(e,t,i){void 0===i&&(i="short");var s=e.getMonth()+1;return e.getDate()+" "+t("prettyDate.months."+s+"."+i)+", "+e.getUTCFullYear()+" "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};var s=i(44);var o=function(e){return e===(new Date).getFullYear()}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.MessageReplyTo=function(e){var t=e.message,i=(0,c.getDisplayName)({id:t.replyToUserId,username:t.replyToUsername,displayName:t.replyToDisplayName});if(!i)return null;return o.default.createElement(o.default.Fragment,null,o.default.createElement(p.default,{className:a.default.replyToIcon,selector:"chevronRightIcon"}),o.default.createElement(r.Typography,{type:"infoSm",className:a.default.replyUsername},i))};var o=s(i(3)),c=i(75),p=s(i(46)),a=s(i(1438)),r=i(43)},function(e,t,i){var s=i(30),o=i(1439);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_reply-to{line-height:var(--spotim-line-height-medium);font-size:var(--spotim-font-size-medium);-ms-flex:0 1 auto;flex:0 1 auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#spotim-specific#spotim-specific .spcv_reply-to .spcv_username{color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific .spcv_reply-to-icon{color:var(--spotim-text-color-xx-muted);font-size:13px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_reply-to-icon{margin-top:-2px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_reply-to-icon{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_reply-to-icon{margin-left:6px;transform:scaleX(1) rotate(180deg)}#spotim-specific#spotim-specific .spcv_accessibility-mode .spcv_reply-to .spcv_username{color:#57595c}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_reply-username{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:11ch}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","reply-to":"spcv_reply-to",replyTo:"spcv_reply-to",username:"spcv_username","reply-to-icon":"spcv_reply-to-icon",replyToIcon:"spcv_reply-to-icon","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","reply-username":"spcv_reply-username",replyUsername:"spcv_reply-username"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.renderFeaturedCommentSection=void 0;var o=s(i(3)),c=s(i(46)),p=i(56),a=s(i(348)),r=s(i(14));t.renderFeaturedCommentSection=function(e,t){var i=void 0===t?{onlyBadge:!1,isMobile:!1,inline:!1}:t,s=i.onlyBadge,n=i.isMobile,l=i.inline;if(!e)return null;function d(){return s?null:o.default.createElement(c.default,{className:a.default.FeaturedIcon,selector:"thumbtackIcon"})}function m(){return s&&!n?null:o.default.createElement("span",{className:a.default.Space},"Â·")}function f(){var t;return o.default.createElement("span",{className:(0,r.default)([a.default.Badge,(t={},t[a.default.Badge_OnlyBadgeNotInline]=s&&!l,t)])},o.default.createElement(p.TranslatedText,{textKey:"featuredComment."+(n?"featured":"featuredBy"),params:{spotName:e.toUpperCase()}}))}return n?o.default.createElement(o.default.Fragment,null,d(),f(),m()):o.default.createElement(o.default.Fragment,null,m(),d(),f())}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MessageEntities=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=o(i(35)),m=s(i(3)),f=i(42),u=o(i(14)),v=i(106),_=s(i(101)),g=i(664),h=i(665),y=i(666),b=i(667),x=i(612),w=i(1451),M=o(i(1455)),E=i(668),k=i(52),S=s(i(48));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var T=function(e){(0,r.default)(i,e);var t=C(i);function i(){return(0,p.default)(this,i),t.apply(this,arguments)}return(0,a.default)(i,[{key:"render",value:function(){var e,t=this.props,i=t.message,s=t.showSeeMoreButton,o=t.showAttachment,p=t.maxChars,a=t.maxLines,r=t.noAnchors,n=t.noImageAnchors,l=t.depth,d=t.seeMoreTranslate,f=t.shortenText,E=t.richText,k=t.preserveLinebreaks,S=t.showFullText,C=t.size,T=t.padMessage,I=t.flexDirection,R=t.isModal,O=t.innerRef,P=t.isDisabled,N=t.isLiveBlog,A=[],U=(0,v.getTextEntities)(i),D=(0,v.getMentions)(i);if(U.length>0){var L=m.default.createElement(x.TextEntity,{size:C,entity:U[0],key:0,maxChars:p,maxLines:a,showFullText:S,mentions:D,showSeeMore:s,seeMoreTranslate:d,shortenText:f,noAnchors:r,richText:E,preserveLinebreaks:k});A.push(L)}var B=i.entities.find((function(e){return _.isMediaEntity(e.type)}));if(B){var j=B.type,q=j===_.FRAME?B.frameType:null;if(o)A.push(m.default.createElement(w.Attachment,{size:C,key:1,type:j,frameType:q}));else switch(j){case _.IMAGE:A.push(m.default.createElement(h.ImageEntity,{size:C,noAnchors:r||n,key:1,entity:B}));break;case _.ANIMATION:A.push(m.default.createElement(y.AnimationEntity,{size:C,key:1,entity:B,isModal:R}));break;case _.LINK:A.push(m.default.createElement(g.LinkEntity,{size:C,noAnchors:r,key:1,entity:B}));break;case _.VIDEO:A.push(m.default.createElement(b.VideoEntity,{size:C,key:1,entity:B}))}}var z=(0,u.default)(M.default.messageEntities,M.default["depth-".concat(l)],(e={},(0,c.default)(e,M.default.small,"small"===C),(0,c.default)(e,M.default.padMessage,T),(0,c.default)(e,M.default.isColumn,"column"===I),(0,c.default)(e,M.default.isEdited,i.isEdited),(0,c.default)(e,M.default.isDisabled,P),(0,c.default)(e,M.default.isLiveBlog,N),e));return m.default.createElement("div",{ref:O,className:z},A)}}]),i}(m.Component);t.MessageEntities=T,T.displayName="MessageEntities",T.propTypes={message:d.default.object.isRequired,direction:d.default.oneOf(["rtl","ltr"]).isRequired,flexDirection:d.default.oneOf(["column","row"]),showAttachment:d.default.bool,showSeeMoreButton:d.default.bool,noImageAnchors:d.default.bool,maxChars:d.default.number,maxLines:d.default.number,onLoadFrameButtonClick:d.default.func,allowFrameEntityLoad:d.default.bool,depth:d.default.number,noAnchors:d.default.bool,shortenText:d.default.bool,seeMoreTranslate:d.default.oneOf(["short","long"]),richText:d.default.bool,preserveLinebreaks:d.default.bool,showLoadFrameEntityButton:d.default.bool,isMobileDevice:d.default.bool,showFullText:d.default.bool,forceEntityShow:d.default.bool,size:d.default.string,padMessage:d.default.bool,isModal:d.default.object,innerRef:d.default.object.isRequired,isDisabled:d.default.bool,isLiveBlog:d.default.bool},T.defaultProps={showSeeMoreButton:!0,showAttachment:!1,maxChars:0,noAnchors:!1,noImageAnchors:!1,seeMoreTranslate:"long",shortenText:!1,depth:3,richText:!0,preserveLinebreaks:!0,showLoadFrameEntityButton:!0,forceEntityShow:!1,isMobileDevice:!1,size:"normal",padMessage:!0,flexDirection:"row"};var I=(0,f.connect)((function(e){return{noImageAnchors:e.moduleOptions.conversationImageAnchorsDisabled,allowFrameEntityLoad:e.moduleOptions.allowFrameEntityLoad,direction:e.moduleOptions.direction,isMobileDevice:S.isMobile(e)||e.moduleOptions.isMobile,isLiveBlog:S.isLiveBlog(e)}}),(function(e){return{onLoadFrameButtonClick:function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];e(E.notifyHostEvent.apply(void 0,[k.FRAME_ENTITY_LOAD].concat(i)))}}}))(T);t.default=I},function(e,t,i){var s=i(30),o=i(1443);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_link,#spotim-specific#spotim-specific .spcv_link.spcv_link:hover{text-decoration:none}#spotim-specific#spotim-specific .spcv_link-entity{max-width:450px;display:-ms-flexbox;display:flex;font-size:var(--spotim-font-size-medium);text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_link-entity{padding:21px;border:1px solid var(--spotim-border-color);background-color:var(--spotim-extract-background-color);border-radius:var(--spotim-border-radius-medium);margin-bottom:15px}#spotim-specific#spotim-specific .spcv_link-entity.spcv_entity{zoom:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_link-entity:hover{box-shadow:var(--spotim-box-shadow-medium)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_link-entity{padding:15px}#spotim-specific#spotim-specific .spcv_link-entity .spcv_thumbWrapper{-ms-flex:0 0 117px;flex:0 0 117px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_link-entity .spcv_thumbWrapper{margin-right:18px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_link-entity .spcv_thumbWrapper{margin-left:18px}#spotim-specific#spotim-specific .spcv_link-entity .spcv_thumbWrapper img{width:100%;height:100%;object-fit:cover}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_link-entity .spcv_thumbWrapper img{border-radius:var(--spotim-border-radius-medium)}#spotim-specific#spotim-specific .spcv_link-entity .spcv_metadata{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific .spcv_link-entity .spcv_title{-ms-flex:1;flex:1;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;line-height:1.5;font-size:var(--spotim-font-size-small);font-weight:var(--spotim-font-weight-bold);color:var(--spotim-message-text-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_link-entity .spcv_title{margin-bottom:8px}#spotim-specific#spotim-specific .spcv_link-entity .spcv_domain{color:var(--spotim-text-color-xx-muted);font-size:var(--spotim-font-size-small)}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",link:"spcv_link","link-entity":"spcv_link-entity",linkEntity:"spcv_link-entity",entity:"spcv_entity","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",thumbWrapper:"spcv_thumbWrapper",metadata:"spcv_metadata",title:"spcv_title",domain:"spcv_domain"}},function(e,t,i){var s=i(30),o=i(1445);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_image-entity img{display:inline-block;font-size:0;height:100%;line-height:0;width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_image-entity img{background-color:#f0f1f1;border:0}#spotim-specific#spotim-specific .spcv_image-entity{display:inline-block;font-size:0;line-height:0;max-width:450px;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_image-entity{margin-bottom:15px;border:none;cursor:pointer}#spotim-specific#spotim-specific .spcv_image-entity.spcv_entity{zoom:1}#spotim-specific#spotim-specific .spcv_image-entity:focus{outline:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_image-entity:focus{box-shadow:none}#spotim-specific#spotim-specific .spcv_image-entity img{width:auto;height:auto;max-width:300px;max-height:200px;object-fit:contain}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_image-entity img{border-radius:var(--spotim-border-radius-medium)}#spotim-specific#spotim-specific .spcv_image-entity.spcv_loading{opacity:.3}#spotim-specific#spotim-specific .spcv_image-entity.spcv_loaded{opacity:1}#spotim-specific#spotim-specific .spcv_image-entity.spcv_small{-ms-flex:0 0 34px;flex:0 0 34px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_image-entity.spcv_small{margin-left:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_image-entity.spcv_small{margin-right:6px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","image-entity":"spcv_image-entity",imageEntity:"spcv_image-entity",entity:"spcv_entity",loading:"spcv_loading",loaded:"spcv_loaded",small:"spcv_small"}},function(e,t,i){var s=i(30),o=i(1447);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_animation-entity img{display:inline-block;font-size:0;height:100%;line-height:0;width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_animation-entity img{background-color:#f0f1f1;border:0}#spotim-specific#spotim-specific .spcv_animation-entity{display:inline-block;font-size:0;line-height:0;max-height:500px;max-width:450px;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_animation-entity{margin-bottom:15px}#spotim-specific#spotim-specific .spcv_animation-entity.spcv_entity{zoom:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_animation-entity img{border-radius:var(--spotim-border-radius-medium)}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","animation-entity":"spcv_animation-entity",animationEntity:"spcv_animation-entity",entity:"spcv_entity"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcImageSize=function(e,t,i,s){if(t.current&&i.current){var o=t.current.getBoundingClientRect(),c=void 0,p=void 0;s=s||Math.min(450,o.width),e.originalWidth>s?(p=e.originalHeight*(s/e.originalWidth),c=s):(c=e.originalWidth,p=e.originalHeight),i.current.style.width=c+"px",i.current.style.height=p+"px"}}},function(e,t,i){var s=i(30),o=i(1450);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_video-entity .spcv_preview .spcv_icon{display:inline-block;height:16px;overflow:hidden;width:16px;pointer-events:all}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity .spcv_preview .spcv_icon{background-image:none}#spotim-specific#spotim-specific .spcv_video-entity .spcv_preview .spcv_thumb{display:inline-block;font-size:0;height:100%;line-height:0;width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity .spcv_preview .spcv_thumb{background-color:#f0f1f1;border:0}#spotim-specific#spotim-specific .spcv_video-entity{position:relative;max-width:450px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity{margin-bottom:15px}#spotim-specific#spotim-specific .spcv_video-entity.spcv_entity{zoom:1}#spotim-specific#spotim-specific .spcv_video-entity,#spotim-specific#spotim-specific .spcv_video-entity .spcv_preview,#spotim-specific#spotim-specific .spcv_video-entity .spcv_thumb{overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity .spcv_preview,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity .spcv_thumb{border-radius:var(--spotim-border-radius-medium)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity .spcv_thumb{margin:-9.4% 0}#spotim-specific#spotim-specific .spcv_video-entity .spcv_preview .spcv_icon{height:58px;width:58px;position:absolute;top:50%;z-index:2}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity .spcv_preview .spcv_icon{background-repeat:no-repeat}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_video-entity .spcv_preview .spcv_icon{left:50%;margin:-29px 0 0 -29px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_video-entity .spcv_preview .spcv_icon{right:50%;margin:-29px -29px 0 0}#spotim-specific#spotim-specific .spcv_video-entity .spcv_preview .spcv_thumb{display:block;position:relative;z-index:1}#spotim-specific#spotim-specific .spcv_video-entity .spcv_preview .spcv_text{bottom:0;color:#fff;font-size:var(--spotim-font-size-small);line-height:1.5em;position:absolute;z-index:2}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity .spcv_preview .spcv_text{background:linear-gradient(180deg,transparent 0,rgba(0,0,0,.3));padding:18px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_video-entity .spcv_preview .spcv_text,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_video-entity .spcv_preview .spcv_text{left:0;right:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_video-entity .spcv_preview .spcv_text{padding:9px}#spotim-specific#spotim-specific .spcv_video-entity .spcv_preview .spcv_youtube{font-size:var(--spotim-font-size-small);font-weight:var(--spotim-font-weight-bold);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity .spcv_preview .spcv_youtube{margin-bottom:6px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_video-entity .spcv_preview .spcv_youtube{margin-bottom:3px}#spotim-specific#spotim-specific .spcv_video-entity .spcv_preview .spcv_youtubeLogo{width:16px;color:#dd2c28}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_video-entity .spcv_preview .spcv_youtubeLogo{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_video-entity .spcv_preview .spcv_youtubeLogo{margin-left:6px}#spotim-specific#spotim-specific .spcv_video-entity .spcv_screen{height:0;max-width:100%;overflow:hidden;position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_video-entity .spcv_screen{padding-bottom:50%}#spotim-specific#spotim-specific .spcv_video-entity .spcv_screen iframe{height:100%!important;position:absolute;top:0;width:100%!important}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_video-entity .spcv_screen iframe{left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_video-entity .spcv_screen iframe{right:0}#spotim-specific#spotim-specific .spcv_video-entity.spcv_small{-ms-flex:0 0 34px;flex:0 0 34px}#spotim-specific#spotim-specific .spcv_video-entity.spcv_small .spcv_icon,#spotim-specific#spotim-specific .spcv_video-entity.spcv_small .spcv_text{display:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_video-entity{padding:0;box-shadow:none}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_video-entity .spcv_preview{display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_video-entity .spcv_thumb{-ms-flex-negative:0;flex-shrink:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_video-entity .spcv_thumb{margin-bottom:0}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","video-entity":"spcv_video-entity",videoEntity:"spcv_video-entity",preview:"spcv_preview",icon:"spcv_icon",thumb:"spcv_thumb",entity:"spcv_entity",text:"spcv_text","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",youtube:"spcv_youtube",youtubeLogo:"spcv_youtubeLogo",screen:"spcv_screen",small:"spcv_small"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Attachment=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=s(i(3)),m=o(i(14)),f=s(i(101)),u=s(i(1452)),v=o(i(46)),_=o(i(1453)),g=i(56);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var y=function(e){(0,a.default)(i,e);var t=h(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"render",value:function(){var e=this.props,t=e.type,i=e.frameType,s=e.onClick,o=null,c=null,p=null,a=null;switch(t){case f.IMAGE:case f.ANIMATION:c="attachmentPhotoIcon",o=_.default.attachmentPhoto,p="newsfeed.item.attachments.image";break;case f.LINK:c="link",o=_.default.attachmentUrl,p="newsfeed.item.attachments.link";break;case f.VIDEO:c="playIcon",o=_.default.attachmentVideo,p="newsfeed.item.attachments.video";break;case f.FRAME:switch(i){case u.INSTAGRAM:c="instagramIcon",o=_.default.attachmentInstagram;break;case u.TWEET:c="twitterIcon",o=_.default.attachmentTweet}p="newsfeed.item.attachments.link"}return o&&p&&(a=d.default.createElement("div",{className:_.default.entityAttachment,onClick:s},d.default.createElement(v.default,{selector:c,className:(0,m.default)(_.default.icon,o)}),d.default.createElement(g.TranslatedText,{className:_.default.label,textKey:p}))),a}}]),i}(d.Component);t.Attachment=y,y.displayName="Attachment",y.propTypes={type:l.default.oneOf([f.IMAGE,f.LINK,f.VIDEO,f.FRAME,f.ANIMATION]).isRequired,frameType:l.default.oneOf([u.INSTAGRAM,u.TWEET]),onClick:l.default.func}},,function(e,t,i){var s=i(30),o=i(1454);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_entity-attachment{cursor:pointer}#spotim-specific#spotim-specific .spcv_entity-attachment>*{vertical-align:middle}#spotim-specific#spotim-specific .spcv_entity-attachment .spcv_icon{fill:#c3c5c7}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_entity-attachment .spcv_icon{margin-right:5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_entity-attachment .spcv_icon{margin-left:5px}#spotim-specific#spotim-specific .spcv_entity-attachment .spcv_icon.spcv_attachment-photo{height:10px;width:12px;position:relative;top:1px}#spotim-specific#spotim-specific .spcv_entity-attachment .spcv_icon.spcv_attachment-url{height:12px;width:12px}#spotim-specific#spotim-specific .spcv_entity-attachment .spcv_icon.spcv_attachment-video{height:10px;width:8px}#spotim-specific#spotim-specific .spcv_entity-attachment .spcv_icon.spcv_attachment-tweet{height:10px;width:12px}#spotim-specific#spotim-specific .spcv_entity-attachment .spcv_icon.spcv_attachment-instagram{height:10px;width:10px}#spotim-specific#spotim-specific .spcv_entity-attachment .spcv_label{color:#7b7f83;font-size:11px;line-height:15px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","entity-attachment":"spcv_entity-attachment",entityAttachment:"spcv_entity-attachment",icon:"spcv_icon","attachment-photo":"spcv_attachment-photo",attachmentPhoto:"spcv_attachment-photo","attachment-url":"spcv_attachment-url",attachmentUrl:"spcv_attachment-url","attachment-video":"spcv_attachment-video",attachmentVideo:"spcv_attachment-video","attachment-tweet":"spcv_attachment-tweet",attachmentTweet:"spcv_attachment-tweet","attachment-instagram":"spcv_attachment-instagram",attachmentInstagram:"spcv_attachment-instagram",label:"spcv_label"}},function(e,t,i){var s=i(30),o=i(1456);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_message-entities{max-width:var(--spotim-max-reading-width);position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-entities{margin-bottom:-2px}#spotim-specific#spotim-specific .spcv_message-entities.spcv_is-column{-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific .spcv_message-entities.spcv_is-edited .spcv_text-entity:after{content:attr(data-edited-text);font-style:italic;color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-entities.spcv_is-edited .spcv_text-entity:after{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-entities.spcv_is-edited .spcv_text-entity:after{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-entities.spcv_is-edited .spcv_text-entity.spcv_isEmpty:after{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-entities.spcv_is-edited .spcv_text-entity.spcv_isEmpty:after{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-entities .spcv_entity+.spcv_entity{margin-top:10px}#spotim-specific#spotim-specific .spcv_message-entities.spcv_small{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-entities.spcv_small{margin-top:0}#spotim-specific#spotim-specific .spcv_is-disabled{opacity:.5}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_is-liveBlog{margin-left:51px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_is-liveBlog{margin-right:51px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","message-entities":"spcv_message-entities",messageEntities:"spcv_message-entities","is-column":"spcv_is-column",isColumn:"spcv_is-column","is-edited":"spcv_is-edited",isEdited:"spcv_is-edited","text-entity":"spcv_text-entity",textEntity:"spcv_text-entity",isEmpty:"spcv_isEmpty",entity:"spcv_entity",small:"spcv_small","is-disabled":"spcv_is-disabled",isDisabled:"spcv_is-disabled","is-liveBlog":"spcv_is-liveBlog",isLiveBlog:"spcv_is-liveBlog"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ConnectedUserImage=void 0;var o,c=s(i(65)),p=s(i(3)),a=s(i(35)),r=i(42),n=s(i(57)),l=i(96),d=i(66),m=s(i(346)),f=i(75),u=i(669),v=i(91),_=i(93),g=s(i(4)),h=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),y=g.default.get("tenant_config.conversation.disable_user_profile"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openUserProfileModal=function(){var e=t.props,i=e.message,s=e.user,o=e.currentUser,c=e.tracking,p=(0,f.isSameUser)(o,s);if(!p&&!y){var a=i.userDisplayName;t.props.onOpenUserProfileModal({user:s,overrideDisplayName:a,overrideImageId:null}),c.trackEvent({type:p?"my-profile-clicked":"user-profile-clicked",item_type:"main",message_id:i.id,target_id:s.id})}},t}return h(t,e),t.prototype.isProfileHoverEnabled=function(){var e=this.props,t=e.message,i=e.currentUser.id===t.user.id;return this.props.enableProfileHover&&!i&&!y},t.prototype.render=function(){var e=this.props,t=e.size,i=e.avatarsTheme,s=e.showUserImageButton,o=e.message,c=e.user,a=e.messageIndex,r=e.spotName,n=e.onUserProfileHover,l=e.profileHoverUser,d=e.reporterBadgeText,u=e.moderatorBadgeText,v=e.guestUsernameForNonRegisteredUsers,_=e.onImageUpload,g=e.onLogin,h=e.enableSSO,y=e.editableSSO,b=e.currentUser,x=e.isDisabled,w=this.isProfileHoverEnabled(),M=(0,f.isSameUser)(b,c),E=b.isRegistered;return p.default.createElement(m.default,{size:t,avatarsTheme:i,showButton:s||!!y,message:o,user:c,isDisabled:x,messageIndex:a,spotName:r,enableProfileHover:w,onUserProfileHover:n,profileHoverUser:l,onClick:this.openUserProfileModal,reporterBadgeText:d,moderatorBadgeText:u,guestUsernameForNonRegisteredUsers:v,isMe:M,isLoggedIn:E,onImageUpload:_,onLogin:g,enableSSO:h,onMouseEnter:this.onMouseEnter})},t.propTypes={avatarsTheme:a.default.string,guestUsernameForNonRegisteredUsers:(0,l.requiredIf)(a.default.bool,(function(e){return e.enableProfileHover})),isMe:a.default.bool,spotName:a.default.string.isRequired,message:a.default.object.isRequired,user:a.default.object.isRequired,reporterBadgeText:(0,l.requiredOrNull)(a.default.string),moderatorBadgeText:(0,l.requiredOrNull)(a.default.string),size:a.default.oneOfType([a.default.oneOf(["giant","huge","extra-large","large","medium","normal","small"]),a.default.number]),messageIndex:a.default.number,enableProfileHover:a.default.bool,onUserProfileHover:(0,l.requiredIf)(a.default.func,(function(e){return e.enableProfileHover})),profileHoverUser:(0,l.requiredOrNullIf)(a.default.object,(function(e){return e.enableProfileHover})),profileHoverPlacement:a.default.string,overrideImageId:a.default.string,onClick:a.default.func,showButton:a.default.bool,onImageUpload:a.default.func,onLogin:a.default.func,isMobileDevice:a.default.bool,enableSSO:a.default.bool,editableSSO:a.default.bool,isModal:a.default.object,currentUser:a.default.object,showUserImageButton:a.default.bool,onOpenUserProfileModal:a.default.func,tracking:a.default.object},t}(p.default.Component);t.ConnectedUserImage=b;var x=(0,c.default)((0,r.connect)((function(e){var t=(0,d.getModuleOptions)(e),i=t.editableSSO,s=t.avatarsTheme,o=t.isConnectEnabled,c=t.enableSSO,p=t.spotName,a=t.textsOverrides;return{editableSSO:i,enableSSO:c,avatarsTheme:s,showUserImageButton:o&&!c,spotName:p,moderatorBadgeText:a.moderatorBadgeText,reporterBadgeText:a.reporterBadgeText,guestUsernameForNonRegisteredUsers:!0,currentUser:e.currentUser}}),(function(e){return{onUserProfileHover:function(t,i,s){e((0,u.getBasicUserProfile)(t,i,s))},onOpenUserProfileModal:function(t,i,s){e((0,_.openUserProfileModal)(t,i,s))},onLogin:function(){e((0,v.openLoginSelectorModal)())}}})),(0,n.default)({}))(b);t.default=x},,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.default.createElement(a.TranslationWrapper,{i18nKey:"message.contextMenu.muteUser.confirmation.mute.title"}),i=o.default.createElement(a.TranslationWrapper,{i18nKey:"message.contextMenu.muteUser.confirmation.mute.message"}),s=o.default.createElement(a.TranslationWrapper,{i18nKey:"message.contextMenu.muteUser.confirmation.mute.modalConfirm"}),l=o.default.createElement(a.TranslationWrapper,{i18nKey:"message.contextMenu.muteUser.confirmation.mute.cancelButton"});return o.default.createElement(p.Modal,{disableCustomBodyScroll:n.disableModalDefaultScroll,shadowRootCssModules:r.isUseShadowDomOnOverlays?["conversation"]:void 0,isLtr:n.isLtr,closeButton:!0,showModal:e.showMuteUserModal,className:c.default.userMutingModal,onClose:function(){return e.onClose()},modalTitle:t,size:"md",bottomActions:o.default.createElement(p.Gutter,null,o.default.createElement(p.Button,{mode:"ghost",onClick:function(){return e.onClose()}},l),o.default.createElement(p.Button,{mode:"primary",onMouseEnter:e.muteUserHovered,onClick:function(){var t=e.message;(0,e.muteUser)(t.user.id),e.onClose(!0)}},s))},o.default.createElement("div",{className:c.default.text,style:{fontFamily:"Open Sans, Open Sans Hebrew, Arial",fontSize:"15px",lineHeight:"1.4",marginBottom:"24px"}},i))};var o=s(i(3)),c=s(i(1460)),p=i(43),a=i(45),r=i(69),n=i(44)},function(e,t,i){var s=i(30),o=i(1461);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'#spotim-specific#spotim-specific .spcv_text{font-family:"Open Sans, Open Sans Hebrew, Arial";font-size:15px;line-height:1.4}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_text{margin-bottom:24px}',""]),t.locals={text:"spcv_text"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RejectedMessage=void 0;var c,p=o(i(65)),a=s(i(3)),r=i(42),n=o(i(14)),l=o(i(346)),d=o(i(1463)),m=i(45),f=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.spotName,i=e.userImageSize,s=e.messageIndex,o=e.message,c=e.avatarsTheme,p=e.reporterBadgeText,r=e.moderatorBadgeText,f=e.currentUser.id===o.user.id?"rejected":"defaultRejected";return a.default.createElement("div",{className:(0,n.default)(d.default.messageDetails,d.default.rejectedMessage)},a.default.createElement(l.default,{size:i,message:o,user:o.user,messageIndex:s,enableProfileHover:!1,avatarsTheme:c,guestUsernameForNonRegisteredUsers:!1,profileHoverUser:null,moderatorBadgeText:r,spotName:t,isLoggedIn:!1,isMe:!1,reporterBadgeText:p}),a.default.createElement("div",{className:d.default.isRejected},a.default.createElement(m.TranslationWrapper,{i18nKey:"message."+f})))},t.defaultProps={userImageSize:"medium",messageIndex:-1},t}(a.Component);t.RejectedMessage=u;var v=(0,p.default)((0,r.connect)((function(e){return{avatarsTheme:e.moduleOptions.avatarsTheme,spotName:e.moduleOptions.spotName,currentUser:e.currentUser,moderatorBadgeText:e.moduleOptions.textsOverrides.moderatorBadgeText,reporterBadgeText:e.moduleOptions.textsOverrides.reporterBadgeText}})))(u);t.default=v},function(e,t,i){var s=i(30),o=i(1464);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_message-details.spcv_rejectedMessage{display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific .spcv_message-details .spcv_is-rejected{color:var(--spotim-text-color-x-muted);font-size:var(--spotim-message-font-size-medium);font-style:italic;-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-details .spcv_is-rejected{margin-left:15px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-details .spcv_is-rejected{margin-right:15px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","message-details":"spcv_message-details",messageDetails:"spcv_message-details",rejectedMessage:"spcv_rejectedMessage","is-rejected":"spcv_is-rejected",isRejected:"spcv_is-rejected"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleReport=t.hasReportFlag=t.showContextMenu=t.getUserImageSize=void 0;t.getUserImageSize=function(e){return e.userImageSize};t.showContextMenu=function(){return!0};t.hasReportFlag=function(){return!1};t.handleReport=function(e){var t=e.message;return(0,e.onReport)({message:t},!0)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAsFeatured=t.pinFeaturedCommentApi=t.setAsFeaturedMessage=void 0;var s=i(178),o=i(50),c=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},p=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};t.setAsFeaturedMessage=function(e,t,i,a,r){return c(void 0,void 0,void 0,(function(){var c,n,l;return p(this,(function(p){switch(p.label){case 0:return c=t.id.split("_c_")[0],[4,(0,s.oldApiGwFetch)({endpoint:"/moderation/conversation/"+c+"/message/"+t.id+"/feature",method:"POST"})];case 1:return!(n=p.sent()).success&&n.result&&n.result.indexOf("should_top_feature")>-1?i():a&&a(),l={type:"message-context-menu-inner-clicked",target_type:"set-top-comment",segment:"top"===e?"top-featured-comment":"in-conversation-featured",post_id:r},(0,o.analyticsTrack)(l),localStorage.setItem("__SPOTIM_HIDE_FEATURED_COMMENT_NEW_BADGE__","true"),[2]}}))}))};t.pinFeaturedCommentApi=function(e,t,i){return c(void 0,void 0,void 0,(function(){var c,a;return p(this,(function(p){switch(p.label){case 0:return c=e.id.split("_c_")[0],[4,(0,s.oldApiGwFetch)({endpoint:"/moderation/conversation/"+c+"/message/"+e.id+"/feature",body:{should_top_feature:!0},method:"POST"})];case 1:return p.sent(),a={type:"message-context-menu-inner-clicked",target_type:"set-top-comment",segment:"top"===t?"top-featured-comment":"in-conversation-featured",post_id:i},(0,o.analyticsTrack)(a),[2]}}))}))};t.removeAsFeatured=function(e,t,i,a){return c(void 0,void 0,void 0,(function(){var c,r;return p(this,(function(p){switch(p.label){case 0:return c=t.id.split("_c_")[0],[4,(0,s.oldApiGwFetch)({endpoint:"/moderation/conversation/"+c+"/message/"+t.id+"/feature",body:{only_remove_top_featured:!("top"!==t.featuredComment)},method:"DELETE"})];case 1:return p.sent(),r={type:"message-context-menu-inner-clicked",target_type:"remove-top-comment",segment:"top"===e?"top-featured-comment":"in-conversation-featured",post_id:a},(0,o.analyticsTrack)(r),"function"==typeof i&&i(),[2]}}))}))}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.reportMessage=function(e){var t=e.message;return function(){var e=(0,p.default)(o.default.mark((function e(i){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i({type:l.SHOW_REPORT_MESSAGE_MODAL,payload:!0}),(0,d.default)("[Conversation] - ".concat(l.SHOW_REPORT_MESSAGE_MODAL," - ").concat(0===t.depth?"comment":"reply")),e.prev=2,!(t.depth>0)){e.next=8;break}return e.next=6,a.default.reportReply(t.id);case 6:e.next=10;break;case 8:return e.next=10,a.default.reportComment(t.id);case 10:u(t),i({type:l.REPORT_MESSAGE_END,payload:{message:t}}),i((0,n.updateReportedComments)((0,c.default)({},t.id,!0))),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),(0,r.default)(l.REPORT_MESSAGE_END,e.t0),i({type:l.REPORT_MESSAGE_END,payload:{error:e.t0},error:!0});case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(34)),p=s(i(41)),a=s(i(124)),r=s(i(5)),n=i(205),l=i(39),d=s(i(53));function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){(0,c.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e){var t=(0,c.default)({},e.id,!0),i=window.localStorage.getItem("SPOTIM_REPORTED_COMMENTS");i=f(f({},i&&JSON.parse(i)),t),window.localStorage.setItem("SPOTIM_REPORTED_COMMENTS",JSON.stringify(i))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmarkMessage=function(e){var t=e.id;return{type:s.TOGGLE_MARK_MESSAGE,payload:{message:{id:t,isMarked:!1}}}};var s=i(39)},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.showNewMessageSticky=function(e){return f.apply(this,arguments)};var c=o(i(40)),p=o(i(41)),a=s(i(68)),r=s(i(106)),n=i(131),l=i(176),d=o(i(676)),m=null;function f(){return(f=(0,p.default)(c.default.mark((function e(t){var i,s,o,p,f,u,v,_,g,h,y,b,x,w,M,E,k,S,C;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.message,s=t.onClick,o=t.forceShow,p=void 0!==o&&o,f=t.t,!i.featuredComment){e.next=3;break}return e.abrupt("return");case 3:if(p){e.next=6;break}if(!(m&&Date.now()-m<6e4)){e.next=6;break}return e.abrupt("return");case 6:if(m=Date.now(),u=(0,n.getState)(),v=u.moduleOptions,_=v.direction,g=v.avatarsTheme,h=v.newsfeedPosition,y=v.enableRealtimeCommentsSticky,b=v.spotId,y){e.next=10;break}return e.abrupt("return");case 10:return x=i.user,0===i.depth?w=i.id:M=i.id,E=(0,d.default)(g,x),k=E.imageUrl,S=E.svgAvatar,C=i.userDisplayName||a.getDisplayName(x),e.next=16,(0,l.showSideSticky)({user:x,linkText:f("sticky.viewInConversation"),imageUrl:k,svgAvatar:S,isOnline:x.isOnline,text:"<strong>".concat(C,":</strong> ").concat(r.getCleanText(i)),newsfeedPosition:h,direction:_,spotId:b});case 16:"clicked"===e.sent&&s({messageId:w||M});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.muteUser=function(e){return function(t,i){var s=i().conversation.postId;(0,c.default)({userId:e,postId:s}),t({type:o.MUTE_USER,payload:{userId:e}})}};var o=i(39),c=s(i(1471))},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i(62));t.default=function(e){var t=e.userId,i=e.postId;return(0,o.default)("v1.0.0/user/mute-user",{method:"POST",postId:i,data:{user_id:t}})}},function(e,t,i){var s=i(30),o=i(1473);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_conversation-message .spcv_padded{zoom:1}#spotim-specific#spotim-specific .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_message-entities{max-width:var(--spotim-max-reading-width)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_message-entities{margin-bottom:8px}#spotim-specific#spotim-specific .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity{color:#373e44}#spotim-specific#spotim-specific .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity,#spotim-specific#spotim-specific .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity a{font-size:24px;line-height:33px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity,#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity a{font-size:var(--spotim-font-size-large);line-height:23px}#spotim-specific#spotim-specific .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity .spcv_small-text-size{font-size:var(--spotim-font-size-large);line-height:27px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity .spcv_small-text-size{font-size:14px;line-height:19px}#spotim-specific#spotim-specific .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity .spcv_normal-text-size{font-size:24px;line-height:33px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity .spcv_normal-text-size{font-size:var(--spotim-font-size-large);line-height:23px}#spotim-specific#spotim-specific .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity .spcv_large-text-size{font-size:30px;line-height:38px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_live-blog .spcv_conversation-message.spcv_depth-0 .spcv_text-entity .spcv_large-text-size{font-size:22px;line-height:27px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_live-blog .spcv_conversation-message.spcv_depth-1.spcv_message-view{margin-left:43px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_live-blog .spcv_conversation-message.spcv_depth-1.spcv_message-view{margin-right:43px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","conversation-message":"spcv_conversation-message",conversationMessage:"spcv_conversation-message",padded:"spcv_padded","live-blog":"spcv_live-blog",liveBlog:"spcv_live-blog","depth-0":"spcv_depth-0",depth0:"spcv_depth-0","message-entities":"spcv_message-entities",messageEntities:"spcv_message-entities","text-entity":"spcv_text-entity",textEntity:"spcv_text-entity","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","small-text-size":"spcv_small-text-size",smallTextSize:"spcv_small-text-size","normal-text-size":"spcv_normal-text-size",normalTextSize:"spcv_normal-text-size","large-text-size":"spcv_large-text-size",largeTextSize:"spcv_large-text-size","depth-1":"spcv_depth-1",depth1:"spcv_depth-1","message-view":"spcv_message-view",messageView:"spcv_message-view"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetUpVotes=function(){return{type:s.RESET_UP_VOTES}};var s=i(39)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SayControlRendered=function(e){var t=e.messageId;return{type:s.SAY_CONTROL_RENDERED,payload:{messageId:t}}};var s=i(39)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeEditSayControl=function(e){var t=e.messageId;return{type:s.CLOSE_EDIT_SAY_CONTROL,payload:{messageId:t}}};var s=i(39)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closeReplySayControl=function(e){var t=e.messageId;return{type:s.CLOSE_REPLY_SAY_CONTROL,payload:{messageId:t}}};var s=i(39)},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.notifyTyping=function(e,t){return(0,o.default)("v1.0.0/conversation/typing/create",{method:"POST",postId:(0,c.default)(e),data:{conversation_id:e,message_id:t}})};var o=s(i(62)),c=s(i(314))},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.editMessage=function(e){var t=e.messageId,i=e.depth,s=e.displayName,o=e.status,f=e.entities,u=e.oldEntities,v=e.starsRating,_=void 0===v?0:v,g=e.oldStarsRating,h=void 0===g?0:g;return function(e,v){return C(this,void 0,void 0,(function(){var g,y,b,C,R,O,P,N,A,U,D,L,B,j,q;return T(this,(function(T){switch(T.label){case 0:g=v(),y=g.conversation,b=g.moduleOptions,C=b.enableBlindfold,R=b.postId,O=g.currentUser,P=c.default.get("tenant_config.moderation.edit_v2_enabled",!1)||y.contentType===E.ContentType.Post,N=P?f.filter((function(e){return"text"!==e.type||"text"===e.type&&""!==e.text})):f,A=y.starsRatingCount,U=y.averageStarsRating,D=y.messagesCount,_>0?(U=(U*A-h+_)/A,0===h&&(A+=1)):h>0&&0===_&&(U=(U*(A-=1)-h)/A),(0,l.notifyConversationRankChange)(y.id,A,U,D),e({type:d.EDIT_MESSAGE_START,payload:{message:{id:t,userDisplayName:s,isEdited:!0,entities:N,starsRating:_,oldStarsRating:h},conversation:{starsRatingCount:A,averageStarsRating:U}}}),(0,w.default)("[Conversation] - edit-message"),T.label=1;case 1:return T.trys.push([1,12,,13]),L=void 0,C&&(o===m.PENDING||o===m.BLOCKED)?[3,11]:(B={starsRating:_},O.isRegistered||(B=S(S({},B),{displayName:s})),i>0?P?[4,M.editMessage({messageId:t,entities:N,displayName:(0,k.getDisplayName)(O),postId:R})]:[3,3]:[3,6]);case 2:return L=T.sent(),[3,5];case 3:return[4,a.default.editReply(t,N.map(I),B)];case 4:L=T.sent(),T.label=5;case 5:return[3,10];case 6:return P?[4,M.editMessage({messageId:t,entities:N,displayName:(0,k.getDisplayName)(O),postId:R})]:[3,8];case 7:return L=T.sent(),[3,10];case 8:return[4,a.default.editComment(t,N.map(I),B)];case 9:L=T.sent(),T.label=10;case 10:j=function(e){var t=p.default.map(e,(0,r.getMessageMap)("message"),{conversation_id:"conversation.id",etag:"conversation.etag"}),i=t.message,s=t.conversation,o=t.users;return(0,n.linkUsersToMessage)(i,o),{message:i,conversation:s,users:o}}(L.body),Object.assign(j.message,{id:t,status:o}),e({type:d.EDIT_MESSAGE_END,payload:S({},j)}),T.label=11;case 11:return[3,13];case 12:return q=T.sent(),(0,x.default)(d.EDIT_MESSAGE_END,q),e({type:d.EDIT_MESSAGE_END,payload:{error:q,message:{id:t,isEdited:!1,entities:u,starsRating:h}},error:!0}),[3,13];case 13:return[2]}}))}))}};var c=o(i(4)),p=o(i(64)),a=o(i(124)),r=i(303),n=i(570),l=i(176),d=i(39),m=i(282),f=s(i(120)),u=s(i(92)),v=s(i(147)),_=s(i(232)),g=s(i(233)),h=s(i(138)),y=s(i(234)),b=s(i(235)),x=o(i(5)),w=o(i(53)),M=s(i(237)),E=i(44),k=i(59),S=function(){return(S=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},C=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},T=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};function I(e){switch(e.type){case f.TEXT:return u.toBackendJson(e);case f.IMAGE:return v.toBackendJson(e);case f.LINK:return _.toBackendJson(e);case f.VIDEO:return g.toBackendJson(e);case f.MENTION:return h.toBackendJson(e);case f.FRAME:return y.toBackendJson(e);case f.ANIMATION:return b.toBackendJson(e);default:return null}}},function(e,t,i){var s=i(30),o=i(1481);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_usernameWrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_usernameWrapper .spcv_emptyUsername{cursor:auto}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_usernameWrapper .spcv_emptyUsername{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_usernameWrapper .spcv_emptyUsername{margin-left:6px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_usernameWrapper .spcv_username{cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_usernameWrapper .spcv_username{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_usernameWrapper .spcv_username{margin-left:6px}#spotim-specific#spotim-specific .spcv_usernameWrapper .spcv_username:hover{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_richEditorUserAvatar{margin-right:15px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_richEditorUserAvatar{margin-left:15px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_richEditorUserAvatar{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_richEditorUserAvatar{margin-left:6px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",usernameWrapper:"spcv_usernameWrapper",emptyUsername:"spcv_emptyUsername",username:"spcv_username",richEditorUserAvatar:"spcv_richEditorUserAvatar","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EditorWrapper",{enumerable:!0,get:function(){return o.default}});var o=s(i(1483))},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EditorWrapper=void 0;var c=o(i(77)),p=o(i(85)),a=o(i(54)),r=o(i(129)),n=o(i(34)),l=o(i(40)),d=o(i(41)),m=o(i(32)),f=o(i(33)),u=o(i(111)),v=o(i(37)),_=o(i(38)),g=o(i(36)),h=o(i(65)),y=s(i(3)),b=i(42),x=o(i(35)),w=i(349),M=o(i(14)),E=i(2),k=i(235),S=o(i(47)),C=i(272),T=i(106),I=i(92),R=i(687),O=o(i(1485)),P=o(i(1513)),N=i(1518),A=i(1521),U=o(i(1522)),D=i(146),L=i(1524),B=o(i(5)),j=o(i(228)),q=o(i(1527)),z=i(51),F=i(105),W=o(i(53)),V=i(45),H=i(49),G=i(309),K=i(351),Q=s(i(87)),J=i(50),Y=i(1539),X=i(82);function Z(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function $(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Z(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,g.default)(e);if(t){var o=(0,g.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,_.default)(this,i)}}var te=(0,y.lazy)((function(){return Promise.all([i.e(0),i.e(93),i.e(94)]).then(i.t.bind(null,1797,7))})),ie=function(e){(0,v.default)(_,e);var t,s,o,c=ee(_);function _(e){var t;return(0,m.default)(this,_),(t=c.call(this,e)).isLoginOccurred=!1,t.eventsStream=new w.EventsStream,t.onChange=function(e){var i=t.props,s=i.showErrorBorder,o=i.postId,c=t.state,p=c.shouldSendTypingEvent,a=c.mediaEntity,r=t.editorNode.getTextEntity(),n=s&&t.getInsertedKeyCode(e);p&&t.setState({shouldSendTypingEvent:!1},(function(){var e={type:"typing",post_id:o};(0,J.analyticsTrack)(e)})),t.setState({hasText:!(0,I.isEmpty)(r)}),t.props.onTyping(n),t.saveDraftMessageDebounced(),t.props.onChange&&t.props.onChange({isEmpty:(0,I.isEmpty)(r)&&0===t.getLength()&&!a})},t.handleBlur=(0,d.default)(l.default.mark((function e(){var i;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createMessagePayload();case 2:i=e.sent,t.props.onBlur({draftMessage:i});case 4:case"end":return e.stop()}}),e)}))),t.getInsertedKeyCode=function(e){var t;return(null===(t=(e.ops||[]).find((function(e){return e.insert})))||void 0===t?void 0:t.insert.charCodeAt(0))||-1},t.getLength=function(){return t.editorNode.getContents().ops.reduce((function(e,t){return e+t.insert.length}),0)-1},t.editorEventsStreamSubscriber=function(){var e=(0,d.default)(l.default.mark((function e(i){var s;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q.isRealtimeEnabled()){e.next=5;break}return e.next=3,t.createMessagePayload();case 3:s=e.sent,t.props.onRealtimeModeration(s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.loadEditor=function(){t.setState({showEditor:!0},(function(){t.setState({showEditor:!1})}))},t.setFocus=function(){t.state.ready||t.setState({ready:!0});var e=t.props.isRendered;t.handleFocus(),S.default||e||t.editorNode.focus()},t.onExpandButtonClick=function(){t.expand((function(){"function"==typeof t.props.onFocus&&t.props.onFocus({element:(0,E.findDOMNode)((0,u.default)(t))})}))},t.handleFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.focusOnDisplayName;t.setState({focusOnDisplayName:i});var s=t.props.blurOnFocusForGuestUser;t.callOnFocus(),t.expand(),s&&t.editorNode.blur();var o=t.snippets.showToolTip();t.setState({showToolTip:o})},t.handleTooltipClose=function(){t.setState({showTooltip:!1})},t.onAnimationSelect=function(e){var i={isLoading:!1,mediaEntity:(0,k.createAnimationEntityObject)(e)};t.setState(i,(function(){t.setFocus(),t.eventsStream.next(K.SELECT_ANIMATION)})),t.props.onChange&&t.props.onChange({isEmpty:!1})},t.onUploadImageComplete=function(e,i){var s={isLoading:!1};e?(0,B.default)("conversation rich editor upload image error",e):(s.mediaEntity=i,t.props.onImageAdded&&t.props.onImageAdded(i),(0,W.default)("[conversation] - Upload image success")),t.setState(s,(function(){t.setFocus()})),t.eventsStream.next(K.UPLOAD_IMAGE),t.props.onChange&&t.props.onChange({isEmpty:!1})},t.hasMediaEntity=function(){return!!t.state.mediaEntity},t.removeMediaEntity=function(){t.setState({mediaEntity:null},(function(){return t.eventsStream.next(K.REMOVE_MEDIA)}));var e=t.editorNode.getTextEntity();t.props.onImageRemoved&&t.props.onImageRemoved(),t.props.onChange&&t.props.onChange({isEmpty:(0,I.isEmpty)(e)&&0===t.getLength()})},t.onUploadImageStart=function(){t.state.isLoading||t.setState({isLoading:!0}),(0,W.default)("[conversation] - Upload image start")},t.handleLogin=(0,d.default)(l.default.mark((function e(){var i;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createMessagePayload();case 2:i=e.sent,t.isLoginOccurred=!0,t.props.login(i);case 5:case"end":return e.stop()}}),e)}))),t.createMessage=(0,d.default)(l.default.mark((function e(){var i,s,o,c,p,a;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(i=t.saveDraftMessageDebounced)||void 0===i||null===(s=i.cancel)||void 0===s||s.call(i),o=t.props.createMessage,c=t.containerRef.parentElement,p=t.state.mediaEntity,e.next=6,t.createMessagePayload();case 6:a=e.sent,t.setState($($({},t.snippets.setIsExpanded()),{},{shouldSendTypingEvent:!0})),t.editorNode.quill||t.setFocus(),t.editorNode.quill.enable(!1),o(a).then((function(e){var i=e.payload,s=i.isMessageBlockedVerdict,o=((0,r.default)(i,["isMessageBlockedVerdict"]),e.error);t.editorNode&&(!o&&s?t.setState({hasText:!0,mediaEntity:p}):(t.setState(t.getResetState()),t.editorNode.setText("")),t.editorNode.quill.enable(!0),t.editorNode.blur(),t.handleBlur())})).catch((function(){t.editorNode&&t.editorNode.quill.enable(!0)})),t.props.onChange&&t.props.onChange({isEmpty:!0}),t.props.onPost&&t.props.onPost(),(0,D.isTabModeOn)()&&c.querySelector("[tabindex]").focus();case 14:case"end":return e.stop()}}),e)}))),t.editMessage=(0,d.default)(l.default.mark((function e(){var i,s;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.props.editMessage,e.next=3,t.createMessagePayload();case 3:s=e.sent,t.setState(t.getResetState()),i(s);case 6:case"end":return e.stop()}}),e)}))),t.createMessagePayload=(0,d.default)(l.default.mark((function e(){var i,s,o,c,p,a,r,n,d;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.props,s=i.starsRating,o=i.enableStarsRating,c=i.isLoggedIn,p=i.currentUser,a=i.requireDisplayName,n=p.displayName,e.prev=2,e.next=5,t.getEntities();case 5:r=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),r=[],(0,B.default)("Cant get entities on createMessagePayload",e.t0);case 12:return d={entities:r},a&&!c&&(d.displayName=n),o&&(d.starsRating=s),e.abrupt("return",d);case 16:case"end":return e.stop()}}),e,null,[[2,8]])}))),t.onDisplayNameChange=function(e){var i=t.props.onUsernameChange;null==i||i(e)},t.handleDisplayNameSubmit=function(){t.editorNode.focus()},t.closeRichEditor=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=t.props,s=i.closeEditRichEditor,o=i.messageToEdit,c=i.isEditRichEditor;c?s({messageId:null==o?void 0:o.id}):e&&t.editorNode.setText("")},t.onLinkify=function(){var e=(0,d.default)(l.default.mark((function e(i){var s,o,c,p,a,r;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.state,o=s.mediaEntity,s.isLoading||o||!(i.length>0)){e.next=18;break}return(0,W.default)("[conversation] - url linkify"),t.setState({isLoading:!0}),c={isLoading:!1},e.prev=5,p=i[0],a=p.word,r=p.startIndex,e.next=9,(0,N.resolveUrl)(a,r);case 9:c.mediaEntity=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),(0,B.default)("cant link url",e.t0);case 15:return e.prev=15,t.setState(c),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),t.getContents=function(){return t.editorNode.quill.getContents()},t.setContents=function(e){t.editorNode&&t.editorNode.quill&&t.editorNode.quill.setContents&&t.editorNode.quill.setContents(e)},t.handleContainerClick=function(e){e.target.closest("input")||e.target.closest("label")||t.setFocus()},t.handleEmojiSelected=function(e){t.setFocus(),t.state.ready?t.addEmoji(e):t.setState({deferredEmojis:e})},t.addEmoji=function(e){t.editorNode.focus(),setTimeout((function(){t.editorNode.quill||t.setFocus();var i=t.editorNode.quill.selection.savedRange.index;t.editorNode.quill.insertText(i,e),t.editorNode.quill.setSelection(i+e.length),t.setFocus()}),0),t.state.deferredEmojis&&t.setState({deferredEmojis:null})},t.handleEmojiOpen=function(){t.setState({showStickyRTE:!1})},t.clearDeferredEmojis=function(){setTimeout((function(){t.setState({deferredEmojis:void 0})}))},t.handleGifOpen=function(){t.editorNode.quill&&t.editorNode.quill.blur(),t.setState({isGifModalOpen:!0,showStickyRTE:!1})},t.handleSubmit=function(){var e=t.props.isEdit;t.props.requireDisplayName&&!t.props.currentUser.displayName||(e?t.editMessage():t.createMessage())},t.handleRichBarShow=function(){t.setState({showStickyRTE:!0}),t.setFocus()},t.handleRichBarHide=function(){t.hideStickyRTE()},t.hideStickyRTE=function(){t.setState({showStickyRTE:!1})},t.handleHideRTE=function(){t.hideStickyRTE()},t.isExpanded=function(){var e,i;return!!(t.props.isExpanded||t.state.showStickyRTE||t.isSubmitting()||0===(null===(e=t.props.messageToEdit)||void 0===e||null===(i=e.id)||void 0===i?void 0:i.indexOf("sp_")))},t.isSubmitting=function(){var e=t.props,i=e.isRootMessage,s=e.isSubmittingComment,o=e.isSubmittingReply,c=e.isSubmittingEdit;return i&&s||!i&&o||!i&&c},t.state=$($({},t.getResetState()),{},{showTooltip:!1,ready:!1,shouldSendTypingEvent:!0,showStickyRTE:!1}),t.snippets=i(1540),t.saveDraftMessageDebounced=(0,j.default)(t.saveDraftMessage,500),t}return(0,f.default)(_,[{key:"getChildContext",value:function(){return{eventsStream:this.eventsStream}}},{key:"getDisplayName",value:function(e){var t,i=e.messageToEdit,s=e.currentUser,o=e.requireDisplayName,c=(0,C.isLoggedIn)(s),p=(0,C.getDisplayName)(s),a=(0,G.getDisplayName)(s.id);o&&!c&&(p=i&&null!==(t=i.userDisplayName)&&void 0!==t?t:a);return p}},{key:"getResetState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,i=t.isExpanded,s=t.messageToEdit;return{mediaEntity:void 0,hasText:!e&&(0,T.hasText)(s),isLoading:!1,isExpanded:i}}},{key:"saveDraftMessage",value:(o=(0,d.default)(l.default.mark((function e(){var t;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createMessagePayload();case 2:t=e.sent,this.props.saveDraftMessage(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"UNSAFE_componentWillMount",value:function(){var e=(0,T.getMediaEntity)(this.props.messageToEdit);e&&this.setState({mediaEntity:e})}},{key:"componentDidMount",value:(s=(0,d.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,this.props.requestSetFocus)(this.setFocus),this.eventsStream.subscribe(this.editorEventsStreamSubscriber),(0,R.isIOS)()&&this.loadEditor();case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){this.isLoginOccurred&&!1===e.isLoggedIn&&!0===this.props.isLoggedIn&&(this.createMessage(),this.isLoginOccurred=!1);var t=this.props,i=(t.messageToEdit,t.currentUser);e.currentUser.id!==i.id&&(i.isRegistered||(this.setState(this.getResetState(!0)),this.editorNode.setText("")))}},{key:"expand",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};e()}},{key:"callOnFocus",value:function(){var e=this.props,t=e.isReply,i=e.autoFocus,s=this.state,o=s.showEditor,c=s.ready,p=this.shouldRenderRichEditor(o,i,c);(!p||p&&!this.isExpanded()||t&&!this.isExpanded())&&"function"==typeof this.props.onFocus&&this.props.onFocus({element:(0,E.findDOMNode)(this)})}},{key:"getEntities",value:(t=(0,d.default)(l.default.mark((function e(){var t,i,s,o,c,p,r,n,d,m;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.editorNode,i=this.state.mediaEntity,s=t.getTextEntity(),o=t.getMentionEntities(),s=(0,I.getTextWithMarkedMentions)(s,o),c=[s].concat((0,a.default)(o)),i){e.next=14;break}if(p=this.props,r=p.findHashImageUrl,n=p.uploadImage,d=s.text,m=new A.HashImage({findHashImageUrl:r,uploadImage:n}),!d){e.next=14;break}return e.next=13,m.extractImageEntity(d);case 13:i=e.sent;case 14:return i&&c.push(i),e.abrupt("return",c);case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderEditor",value:function(){var e=this,t=this.props,i=t.spotId,s=t.placeholderTextKey,o=t.enableStarsRating,c=t.starsRating,p=t.enableRichToolbar,a=t.onStarsRatingClick,r=t.isMobileDevice,n=t.avatarsTheme,l=t.messageToEdit,d=t.direction,m=t.isRichBarVisibleOnMount,f=t.initValue,u=t.tabIndexType,v=t.placeholderReplyToName,_=t.autoFocus,g=t.isReply,h=t.t,b=t.isEdit,x=t.preventScrollOnAutoFocus,w=t.requireDisplayName,M=t.elementId,E=this.state,k=E.isLoading,S=E.mediaEntity,I=E.ready,R=E.hasText,O=E.showStickyRTE,P=E.deferredEmojis,N=E.showEditor,A=E.focusOnDisplayName,U=this.snippets.getPlaceHolderText(h(s,{displayName:v})),D=this.snippets.isWithCloseButton(),B=this.snippets.getMaxLength(),j=y.default.createElement(L.SimpleEditor,{ref:function(t){e.editorNode=t},tabIndexType:u,maxLength:B,spotId:i,avatarsTheme:n,placeholder:U,textEntity:(0,T.getTextEntity)(l),mentionEntities:null==l?void 0:l.mentions,onFocus:function(){e.setState({ready:!0}),e.handleFocus()},onChange:this.onChange,onBlur:this.handleBlur,enableRichToolbar:p,editorEventHandlers:{"text-change":this.onChange,linkify:this.onLinkify},isEntityPreviewVisible:S&&!k,mediaEntity:S,direction:d,removeMediaEntity:this.removeMediaEntity,enableStarsRating:o,starsRatingValue:c,isRichBarVisibleOnMount:m,onStarsRatingClick:a,isMobileDevice:r,initValue:f});return this.shouldRenderRichEditor(N,_,I)?y.default.createElement(y.Suspense,{fallback:j},y.default.createElement(te,{ref:function(t){e.editorNode=t},deferredEmojis:P,tabIndexType:u,maxLength:B,spotId:i,avatarsTheme:n,placeholder:U,textEntity:(0,T.getTextEntity)(l),mentionEntities:null==l?void 0:l.mentions,onFocus:this.handleFocus,onBlur:this.handleBlur,enableRichToolbar:p&&!this.props.isDisableRichFormatting,editorEventHandlers:{"text-change":this.onChange,linkify:this.onLinkify},isEntityPreviewVisible:S&&!k,mediaEntity:S,direction:d,removeMediaEntity:this.removeMediaEntity,enableStarsRating:o,starsRatingValue:c,isRichBarVisibleOnMount:m,onStarsRatingClick:a,isMobileDevice:r,initValue:f,autoFocus:(!w||C.isLoggedIn)&&!A&&(I||_),onCancel:function(){return e.closeRichEditor(D)},isExpanded:this.isExpanded(),isWithCloseButton:D,onSubmit:this.handleSubmit,showStickyRTE:O,onHideRTE:this.handleHideRTE,isReply:g,isEdit:b,hasText:R,onLoad:this.clearDeferredEmojis,preventScrollOnAutoFocus:x,elementId:M})):y.default.createElement(L.SimpleEditor,{ref:function(t){e.editorNode=t},tabIndexType:u,maxLength:B,spotId:i,avatarsTheme:n,placeholder:U,textEntity:(0,T.getTextEntity)(l),mentionEntities:l.mentions,onFocus:function(){e.setState({ready:!0}),e.handleFocus()},onBlur:this.handleBlur,enableRichToolbar:p,editorEventHandlers:{"text-change":this.onChange,linkify:this.onLinkify},isEntityPreviewVisible:S&&!k,mediaEntity:S,direction:d,removeMediaEntity:this.removeMediaEntity,enableStarsRating:o,starsRatingValue:c,isRichBarVisibleOnMount:m,onStarsRatingClick:a,isMobileDevice:r,initValue:f,onChange:this.onChange})}},{key:"shouldRenderRichEditor",value:function(e,t,i){return e||t||i&&this.isExpanded()}},{key:"render",value:function(){var e,t,i=this,s=this.props,o=s.spotId,c=s.className,a=(s.login,s.useExpandButton),r=s.isLoggedIn,l=s.uploadImage,d=s.originalMessageId,m=(s.uploadProfileImage,s.enableRichToolbar),f=s.disableSendButtonWithEmptyText,u=s.isMustRegisterToComment,v=s.sendButtonText,_=s.signupButtonText,g=s.isMobileDevice,h=s.animationRating,b=(s.avatarsTheme,s.isUploadImageButtonVisible),x=(s.messageToEdit,s.currentUser),w=s.showCancelButton,E=s.msnSocialLogin,k=(s.openUserProfileModal,s.msnSocialLoginDispatcher,s.connectTypes,s.isReply),S=s.autoFocus,C=s.showErrorBorder,T=s.moderationAlert,I=s.isPostAnyway,R=s.isUserSuspended,N=s.isEdit,A=(x=s.currentUser,s.requireDisplayName),D=this.state,L=D.isLoading,B=D.mediaEntity,j=(D.showTooltip,D.showStickyRTE),z=D.ready,F=x.displayName;c=(0,M.default)(U.default.richEditor,c,(e={},(0,n.default)(e,U.default.withEntity,!!B),(0,n.default)(e,U.default.expanded,this.isExpanded()),(0,n.default)(e,U.default.isReply,k),e));var W={};this.isExpanded()&&(W["data-expanded"]=!0);var H=(0,M.default)(U.default.richEditorWrapper,(0,n.default)({},U.default.hidden,a&&!this.isExpanded()));return y.default.createElement(y.default.Fragment,null,y.default.createElement("div",(0,p.default)({ref:function(e){return i.containerRef=e},"data-editor-mode":m?"rich":"simple","data-spotim-keep-editor-focused":!0,className:c,"data-spot-im-class":"rich-editor-wrapper"},W),a&&!this.isExpanded()&&y.default.createElement("div",{className:U.default.expandButton,onClick:this.onExpandButtonClick},y.default.createElement(V.TranslationWrapper,{i18nKey:"richEditor.placeholder.addReply"},"Reply...")),y.default.createElement("div",{className:H,"data-spot-im-class":"rich-editor",onClick:this.handleContainerClick},y.default.createElement("div",{className:(0,M.default)(U.default.richEditorContainer,(t={},(0,n.default)(t,U.default.errorBorder,C),(0,n.default)(t,U.default.suspended,R),t))},y.default.createElement("div",{className:U.default.inputWrapper,"data-spot-im-class":"rich-editor-input"},!r&&A&&y.default.createElement(P.default,{onFocus:this.handleFocus.bind(null,{focusOnDisplayName:!0}),onBlur:this.handleBlur,onChange:this.onDisplayNameChange,value:F,spotId:o,autoFocus:z||S,onSubmit:this.handleDisplayNameSubmit}),this.renderEditor()),y.default.createElement(O.default,{hidePanel:this.props.isDisableRichFormatting,displayName:F,uploadImage:l,onAnimationSelect:this.onAnimationSelect,onUploadImageStart:this.onUploadImageStart,onUploadImageComplete:this.onUploadImageComplete,isUploadImageButtonVisible:b,isUploadImageButtonDisabled:!!B,isGifButtonDisabled:!!B,isMustRegisterToComment:u,isLoggedIn:r,onEdit:this.editMessage,onCancel:this.closeRichEditor,onCreate:this.createMessage,onLogin:this.handleLogin,isEdit:N,hasText:this.state.hasText,originalMessageId:d,isLoading:L,sendButtonText:v,signupButtonText:_,enableRichToolbar:m,disableSendButtonWithEmptyText:f,isMobileDevice:g,animationRating:h,showCancelButton:w,onRichBarShow:this.handleRichBarShow,onRichBarHide:this.handleRichBarHide,msnSocialLogin:E,isExpanded:this.isExpanded(),onEmojiSelected:this.handleEmojiSelected,onEmojiOpen:this.handleEmojiOpen,onGifOpen:this.handleGifOpen,isReply:k,showStickyRTE:j})),this.isExpanded()&&y.default.createElement(q.default,{displayName:F,uploadImage:l,isMustRegisterToComment:u,isLoggedIn:r,onEdit:this.editMessage,onCancel:this.closeRichEditor,onCreate:this.createMessage,onLogin:this.handleLogin,isEdit:N,hasText:this.state.hasText,isLoading:L||this.isSubmitting(),sendButtonText:v,signupButtonText:_,disableSendButtonWithEmptyText:f,showCancelButton:w,hasMediaEntity:!!B,isPostAnyway:I,showErrorBorder:C,moderationAlert:T,isDisplayNameRequired:A}))))}}]),_}(y.Component);t.EditorWrapper=ie,ie.propTypes={spotId:x.default.string.isRequired,showButton:x.default.bool.isRequired,uploadProfileImage:x.default.func,editMessage:x.default.func,createMessage:x.default.func.isRequired,direction:x.default.oneOf(["rtl","ltr"]).isRequired,avatarsTheme:x.default.string,onTyping:x.default.func,requireDisplayName:x.default.bool,onFocus:x.default.func,login:x.default.func,closeEditRichEditor:x.default.func,onBlur:x.default.func,onStarsRatingClick:x.default.func,cancel:x.default.func,isLoggedIn:x.default.bool,isMustRegisterToComment:x.default.bool,isExpanded:x.default.bool,useExpandButton:x.default.bool,hidePanel:x.default.bool,messageToEdit:x.default.object,replyToMessage:x.default.object,className:x.default.string,placeholderTextKey:x.default.string,placeholderReplyToName:x.default.string,resolveHostToken:x.default.func,starsRating:x.default.number,currentUser:x.default.object,sendButtonText:x.default.string,signupButtonText:x.default.string,findHashImageUrl:x.default.func,uploadImage:x.default.func,isUploadImageButtonVisible:x.default.bool,enableRichToolbar:x.default.bool,disableSendButtonWithEmptyText:x.default.bool,isMobileDevice:x.default.bool,animationRating:x.default.oneOf(["y","g","pg","pg-13","none"]),blurOnFocusForGuestUser:x.default.bool,isRichBarVisibleOnMount:x.default.bool,initValue:x.default.object,showCancelButton:x.default.bool,onCancel:x.default.func,onRichBarHide:x.default.func,onRichBarShow:x.default.func,tabIndexType:x.default.string,isEditRichEditor:x.default.bool,msnSocialLogin:x.default.func,openUserProfileModal:x.default.func,requestGetContents:x.default.func,requestSetContents:x.default.func,requestSetFocus:x.default.func,onContract:x.default.func,connectTypes:x.default.array.isRequired,isReply:x.default.bool,hasCommented:x.default.bool,isRootMessage:x.default.bool,isSubmittingComment:x.default.bool,isSubmittingReply:x.default.bool,isSubmittingEdit:x.default.bool,t:x.default.func,moderationAlert:x.default.oneOfType([x.default.object,x.default.bool]),showErrorBorder:x.default.bool,onRealtimeModeration:x.default.func,isPostAnyway:x.default.bool,postId:x.default.string,isEdit:x.default.bool,saveDraftMessage:x.default.func,isDisableRichFormatting:x.default.bool,elementId:x.default.string},ie.defaultProps={placeholderTextKey:"richEditor.placeholder.hasMessages",placeholderReplyToName:"",messageToEdit:(0,T.createMessageObject)(),replyToMessage:(0,T.createMessageObject)(),isExpanded:!1,useExpandButton:!1,hidePanel:!1,isDisableRichFormatting:!1,cancel:function(){},onStarsRatingClick:function(){},editMessage:function(){},createMessage:function(){},closeEditRichEditor:function(){},direction:"ltr",currentUser:(0,C.createCurrentUserObject)(),onBlur:function(){},onFocus:function(){},onTyping:function(){},enableRichToolbar:!0,blurOnFocusForGuestUser:!1,isRichBarVisibleOnMount:!0,openUserProfileModal:function(){},requestGetContents:function(){},requestSetContents:function(){},requestSetFocus:function(){},moderationAlert:null,showErrorBorder:!1,onRealtimeModeration:function(){},isPostAnyway:!1,isEdit:!1,saveDraftMessage:function(){}},ie.childContextTypes={eventsStream:x.default.instanceOf(w.EventsStream).isRequired};var se=(0,h.default)((0,b.connect)((function(e,t){var i,s,o=e.messageSayControls,p=e.moduleOptions,a=e.currentUser,r=e.ui,n=r.showStickyRichBar,m=r.showFloatingRichBar,f=e.moduleOptions,u=f.spotId,v=f.hashImageSelector,_=f.textsOverrides,g=f.postId,h=f.elementId,y=(f.enableSSO,f.forceRegister),b=e.conversation,x=b.isSubmittingComment,w=b.isSubmittingReply,M=b.isSubmittingEdit,E=e.userSuspension.isUserSuspended,k=t.messageToEdit,S=t.replyToMessage,C=t.isEditRichEditor,T=(t.isReply,(0,X.isDisplayNameRequired)({isRegistered:a.isRegistered,isForceRegister:y})),I=o[C?k&&k.id:S&&S.id];return{isRendered:I&&I.isRendered,connectTypes:p.connectTypes,showStickyRichBar:n,showFloatingRichBar:m,spotId:u,sendButtonText:_.conversationSayControlSendButton,signupButtonText:_.conversationSayControlSignupButton,isSubmittingComment:x,isSubmittingReply:w,isSubmittingEdit:M,isUserSuspended:E,requireDisplayName:T,uploadImage:(s=(0,d.default)(l.default.mark((function e(t){var i,s,o,c;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.cloudinary.upload(t);case 2:return i=e.sent,s=i.public_id,o=i.height,c=i.width,e.abrupt("return",{publicId:s,height:o,width:c});case 7:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)}),findHashImageUrl:(i=(0,d.default)(l.default.mark((function e(t){var i,s,o,p;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=v.replace(/{HASH_ID}/g,t),e.next=3,z.hostProvider.findImageUrl(i);case 3:return s=e.sent,o=(0,c.default)(s,1),p=o[0],e.abrupt("return",p);case 7:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),postId:g,elementId:h}}),(function(e,t){return{openUserProfileModal:function(i){return e(t.openUserProfileModal({user:i}))},msnSocialLoginDispatcher:function(){return e(t.msnSocialLogin())},onUsernameChange:function(t){e((0,Y.onUsernameChange)(t))}}}),null,{forwardRef:!0}),(0,H.withTranslation)(void 0,{withRef:!0}))(ie);t.default=se},,function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Panel=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=o(i(65)),m=o(i(35)),f=s(i(3)),u=i(42),v=o(i(4)),_=i(349),g=i(49),h=o(i(14)),y=i(350),b=o(i(1488)),x=o(i(1491)),w=i(351),M=o(i(1497)),E=(i(1499),i(82),o(i(1503))),k=s(i(688));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var C=v.default.get("tenant_config.conversation.disable_gif_button"),T=function(e){(0,r.default)(s,e);var t=S(s);function s(e,o){var c;return(0,p.default)(this,s),(c=t.call(this,e,o)).toggleRichBar=function(){c.context.eventsStream.next(w.TOGGLE_RICH_BAR),c.props.showStickyRTE?c.props.onRichBarHide&&c.props.onRichBarHide():c.props.onRichBarShow&&c.props.onRichBarShow()},c.toggleRightAligned=function(){c.setState({rightAligned:!0,isLastGif:!0})},c.onAnimationSelect=function(e){(0,c.props.onAnimationSelect)(e),c.hideTooltip()},c.handleGifSearchQueryChange=function(e){c.setState({gifSearchQuery:e})},c.openTooltip=function(){c.props.onGifOpen(),c.setState({showTooltip:!0})},c.hideTooltip=function(){c.setState({showTooltip:!1})},c.snippets=i(688),c.state={isRichBarVisible:!0,rightAligned:void 0!==e.messagesCount&&e.messagesCount<3,isLastGif:!1,showTooltip:!1},c}return(0,a.default)(s,[{key:"getSnippets",value:function(){return k}}]),(0,a.default)(s,[{key:"renderGifButton",value:function(){var e=this,t=this.props,i=t.animationRating,s=t.isMobileDevice,o=t.isGifButtonDisabled,c=t.onGifOpen,p=this.state,a=p.rightAligned,r=p.isLastGif,n=p.gifSearchQuery,l=p.showTooltip,d=null;return"none"!==i&&(d=f.default.createElement(b.default,{isMobileDevice:s,isDisabled:o,rightAligned:a,toggleRightAligned:function(){return e.toggleRightAligned()},onGifOpen:c,onSearchQueryChange:this.handleGifSearchQueryChange,showTooltip:l,hideTooltip:this.hideTooltip,openTooltip:this.openTooltip,isVisible:!C},f.default.createElement(x.default,{onSelect:this.onAnimationSelect,isMobileDevice:s,animationRating:i,rightAligned:a,isLastGif:r,searchQuery:n}))),d}},{key:"renderEmojiButton",value:function(){var e=this,t=this.props,i=t.isMobileDevice,s=t.postId,o=this.state.rightAligned;return v.default.get("init_data.config.emoji_keyboard_enabled",!1)&&!i?f.default.createElement(E.default,{toggleRightAligned:function(){return e.toggleRightAligned()},rightAligned:o,onSelect:this.props.onEmojiSelected,onOpen:this.props.onEmojiOpen,postId:s}):null}},{key:"render",value:function(){var e,t=this.props,i=t.hidePanel,s=t.enableRichToolbar,o=t.isExpanded,p=t.isReply,a=t.showStickyRTE,r=t.t,n=(0,h.default)(M.default.panel,(e={},(0,c.default)(e,M.default.isExpanded,o),(0,c.default)(e,M.default.richBarEnabled,s),(0,c.default)(e,M.default.isReply,p),e)),l=null;if(s){var d=(0,h.default)(M.default.formatButton,(0,c.default)({},M.default.active,a));l=f.default.createElement(y.ButtonControl,{className:d,tooltipText:r("formatting"),iconSelector:"fontCaseIcon",onClick:this.toggleRichBar,id:"spotim-format-button"})}var m=this.snippets.renderButtons({richBarButton:l,gifButton:this.renderGifButton(),emojiButton:this.renderEmojiButton()},this.props,this.state);return f.default.createElement("div",{className:n,"data-spot-im-class":"rich-editor-panel"},f.default.createElement("div",{className:M.default.buttons},!i&&m))}}]),s}(f.Component);t.Panel=T,T.displayName="Panel",T.propTypes={displayName:m.default.string,hidePanel:m.default.bool,className:m.default.string,uploadImage:m.default.func,onUploadImageStart:m.default.func,onUploadImageComplete:m.default.func,onAnimationSelect:m.default.func,isUploadImageButtonVisible:m.default.bool,isUploadImageButtonDisabled:m.default.bool,isGifButtonDisabled:m.default.bool,originalMessageId:m.default.string,enableRichToolbar:m.default.bool,isMobileDevice:m.default.bool,animationRating:m.default.oneOf(["y","g","pg","pg-13","none"]),messagesCount:m.default.number,onRichBarHide:m.default.func,onRichBarShow:m.default.func,msnSocialLogin:m.default.func,hasMedia:m.default.bool,isExpanded:m.default.bool,onEmojiSelected:m.default.func,onEmojiOpen:m.default.func,isReply:m.default.bool,dispatch:m.default.func,showStickyRTE:m.default.bool,onGifOpen:m.default.func},T.contextTypes={eventsStream:m.default.instanceOf(_.EventsStream).isRequired};var I=(0,d.default)((0,u.connect)((function(e){return{messagesCount:(e.conversation||{}).messagesCount,spotId:e.moduleOptions.spotId,postId:e.moduleOptions.postId}}),(function(e){return{dispatch:e}})),(0,g.withTranslation)())(T);t.default=I},function(e,t,i){var s=i(30),o=i(1487);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_button-control{font-family:var(--spotim-font-family);position:relative;outline:none;width:22px;height:18px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_button-control{border:none;background-color:transparent;border-radius:2px;padding:0;margin:0 2px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_button-control{margin-right:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_button-control{margin-left:12px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_button-control:first-child{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_button-control:last-child,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_button-control:first-child{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_button-control:last-child{margin-left:0}#spotim-specific#spotim-specific .spcv_button-control .spcv_button-tooltip{pointer-events:none;opacity:0;transition:opacity 0ms linear .6s}#spotim-specific#spotim-specific .spcv_button-control.spcv_disabled{opacity:.5}#spotim-specific#spotim-specific .spcv_button-control:not(.spcv_disabled){opacity:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_button-control:not(.spcv_disabled){cursor:pointer}#spotim-specific#spotim-specific .spcv_button-control:not(.spcv_disabled):hover .spcv_button-tooltip{opacity:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_button-control:hover{background:none}#spotim-specific#spotim-specific .spcv_button-control .spcv_icon{fill:var(--spotim-say-control-action-color);width:100%;pointer-events:none;height:18px}@media only screen and (min-width:551px){#spotim-specific#spotim-specific .spcv_button-control:not(.spcv_disabled):hover .spcv_icon{fill:var(--spotim-brand-color)}}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_button-control:not(.spcv_disabled):active .spcv_icon{fill:var(--spotim-brand-color)}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","button-control":"spcv_button-control",buttonControl:"spcv_button-control","button-tooltip":"spcv_button-tooltip",buttonTooltip:"spcv_button-tooltip",disabled:"spcv_disabled",icon:"spcv_icon","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,p=o(i(3)),a=i(350),r=s(i(4)),n=s(i(1489)),l=s(i(47)),d=i(43),m=i(45),f=i(44),u=i(49),v=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function _(e){var t=e.placeholder,i=e.onChange;return p.default.createElement("div",{className:n.default.searchWrapper,"data-spotim-keep-editor-focused":!0},p.default.createElement(d.TextInput,{className:n.default.searchTextBar,placeholder:t,onChange:i}))}var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isActive:!1},t.handleGifSearchInputChange=function(e){t.props.onSearchQueryChange(e.currentTarget.value)},t}return v(t,e),t.prototype.render=function(){var e=this,t=this.props,i=t.isVisible,s=t.isDisabled,o=t.children,c=t.showTooltip,n=t.t,u=this.state.isActive,v=null;if(i){var g=r.default.get("init_data.config.ltr")?"bottom-end":"bottom-start";v=p.default.createElement(d.Menu,{disabled:s,isLtr:r.default.get("init_data.config.ltr"),placement:g,showMenu:c,mobileCancelButtonContent:p.default.createElement(m.TranslationWrapper,{i18nKey:"menu.closeButton"},"Done"),onShowChange:function(t){t?e.props.openTooltip():e.props.hideTooltip()},menuButton:p.default.createElement(d.Tooltip,{isLtr:f.isLtr,tooltipContent:p.default.createElement(d.Typography,{type:"infoSm",color:"#fff"},p.default.createElement(m.TranslationWrapper,{i18nKey:"addAnimatedGif"},"Add animated GIF")),placement:f.isLtr?"left":"right","data-spot-im-class":"gif-button",id:"spotim-gif-button"},p.default.createElement(a.ButtonControl,{isDisabled:s,iconSelector:u?"gifIconSolid":"gifIcon",onClick:this.props.openTooltip}))},l.default&&p.default.createElement(_,{placeholder:n("richEditor.gifImages.queryPlaceholder","Search"),onChange:this.handleGifSearchInputChange}),o)}return v},t.displayName="GifButton",t.defaultProps={isDisabled:!1,isVisible:!0,showTooltip:!1},t}(p.Component),h=(0,u.withTranslation)()(g);t.default=h},function(e,t,i){var s=i(30),o=i(1490);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_gif-button{position:relative;height:18px}#spotim-specific#spotim-specific .spcv_gif-button .spcv_button-control{height:18px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-button .spcv_button-control,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-button .spcv_button-control:hover{background-color:initial}#spotim-specific#spotim-specific .spcv_gif-button .spcv_icon{display:-ms-flexbox;display:flex;font-size:18px;color:var(--spotim-say-control-action-color)}#spotim-specific#spotim-specific .spcv_gif-button .spcv_tooltip{z-index:800;position:absolute;top:calc(10px + 100%)}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_gif-button .spcv_tooltip{width:84vw!important;top:calc(-10px + 100%)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_gif-button .spcv_tooltip:after,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_gif-button .spcv_tooltip:before{left:60px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_gif-button .spcv_tooltip:after,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_gif-button .spcv_tooltip:before{right:60px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_gif-button .spcv_tooltip:after{top:9px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_gif-button .spcv_tooltip:before{top:8px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_gif-button .spcv_tooltip.spcv_hideCaret:after,#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_gif-button .spcv_tooltip.spcv_hideCaret:before{display:none}#spotim-specific#spotim-specific .spcv_gif-button.spcv_on .spcv_icon{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_normal-tooltip:after,#spotim-specific#spotim-specific .spcv_normal-tooltip:before{content:"";display:inline-block;height:0;width:0;position:absolute;top:-6px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_normal-tooltip:after,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_normal-tooltip:before{border-bottom:6px solid #d4d6d7}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_normal-tooltip:after,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_normal-tooltip:before{border-left:6px solid transparent;border-right:6px solid transparent;left:30px3px1}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_normal-tooltip:after,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_normal-tooltip:before{border-right:6px solid transparent;border-left:6px solid transparent;right:30px3px1}#spotim-specific#spotim-specific .spcv_normal-tooltip:after{top:-5px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_normal-tooltip:after{border-bottom-color:#fff}#spotim-specific#spotim-specific .spcv_right-tooltip:after,#spotim-specific#spotim-specific .spcv_right-tooltip:before{content:"";display:inline-block;height:0;width:0;position:absolute;top:-6px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_right-tooltip:after,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_right-tooltip:before{border-bottom:6px solid transparent;border-top:6px solid transparent}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_right-tooltip:after,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_right-tooltip:before{border-right:6px solid #d4d6d7;left:55px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_right-tooltip:after,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_right-tooltip:before{border-left:6px solid #d4d6d7;right:55px}#spotim-specific#spotim-specific .spcv_right-tooltip:after{top:-5px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_right-tooltip:after{border-right-color:#fff}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_right-tooltip:after{border-left-color:#fff}#spotim-specific#spotim-specific .spcv_right-tooltip:after{top:-25px}#spotim-specific#spotim-specific .spcv_right-tooltip:before{top:-26px}#spotim-specific#spotim-specific .spcv_hide-tooltip-text .spcv_button-control>span{display:none!important}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_searchWrapper{margin:9px}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","gif-button":"spcv_gif-button",gifButton:"spcv_gif-button","button-control":"spcv_button-control",buttonControl:"spcv_button-control",icon:"spcv_icon",tooltip:"spcv_tooltip","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",hideCaret:"spcv_hideCaret",on:"spcv_on","normal-tooltip":"spcv_normal-tooltip",normalTooltip:"spcv_normal-tooltip","right-tooltip":"spcv_right-tooltip",rightTooltip:"spcv_right-tooltip","hide-tooltip-text":"spcv_hide-tooltip-text",hideTooltipText:"spcv_hide-tooltip-text",searchWrapper:"spcv_searchWrapper"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GifSelector=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=o(i(65)),m=o(i(90)),f=o(i(14)),u=o(i(228)),v=o(i(35)),_=s(i(3)),g=i(42),h=s(i(493)),y=s(i(278)),b=o(i(1492)),x=o(i(1495)),w=i(49);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var E=function(e){(0,r.default)(i,e);var t=M(i);function i(){var e;(0,p.default)(this,i);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={columnWidth:200},e.onScroll=function(){var t=e.props,i=t.storeSearchQuery,s=t.searchGif,o=t.fetchTrendingImages,c=t.animationRating,p=e.scrollableNode;p.scrollHeight-p.scrollTop-p.clientHeight<20&&(i.length>0?s(i,c):o(c))},e.onQueryChange=function(t){var i=e.props,s=i.searchGif,o=i.animationRating;s(t.target.value,o)},e}return(0,a.default)(i,[{key:"componentDidUpdate",value:function(e){if(e.searchQuery!==this.props.searchQuery){var t=this.props,i=t.animationRating;(0,t.searchGif)(this.props.searchQuery,i)}}},{key:"componentWillMount",value:function(){this.props.isMobileDevice&&this.setState({columnWidth:(window.innerWidth-56)/2})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.trendingImages,i=e.fetchTrendingImages,s=e.resetGifSearchQuery,o=(e.isMobileDevice,e.animationRating);s(),0===t.length&&i(o)}},{key:"render",value:function(){var e,t=this,i=this.props,s=i.trendingImages,o=i.searchResults,p=i.storeSearchQuery,a=i.isLoading,r=i.onSelect,n=i.isMobileDevice,l=i.rightAligned,d=i.isLastGif,u=i.t,v=i.isSafeFrame,g=this.state.columnWidth,h=u("richEditor.gifImages.queryPlaceholder"),y=p.length>0?o:s,w=p.length>0?u("richEditor.gifImages.searchTitle",{query:p}):u("richEditor.gifImages.trendingTitle"),M=p.length>0&&!a&&0===o.length,E=(0,f.default)(x.default.gifSelector,(e={},(0,c.default)(e,x.default.rightAligned,l&&!n),(0,c.default)(e,x.default.lastGif,d&&!n),(0,c.default)(e,x.default.safeframe,v),e));return _.default.createElement("div",{className:E,"data-spotim-keep-editor-focused":!0},!n&&_.default.createElement("input",{className:x.default.queryInput,placeholder:h,onChange:this.onQueryChange}),_.default.createElement("div",{className:x.default.searchResults,onScroll:this.onScroll,ref:function(e){t.scrollableNode=e}},_.default.createElement("label",{className:x.default.title}," ",w," "),_.default.createElement(b.default,{columnWidth:g,images:y,onClick:r,isMobileDevice:n}),!M&&!n&&_.default.createElement("div",{className:x.default.spinnerWrapper},_.default.createElement(m.default,{size:"large"})),M&&_.default.createElement("span",{className:x.default.emptyLabel},u("richEditor.gifImages.emptyLabel"))))}}]),i}(_.Component);t.GifSelector=E,E.displayName="GifSelector",E.propTypes={isLoading:v.default.bool,storeSearchQuery:v.default.string,animationRating:v.default.oneOf(["y","g","pg","pg-13","none"]),trendingImages:v.default.arrayOf(v.default.shape({originalWidth:v.default.number.isRequired,originalHeight:v.default.number.isRequired,originalUrl:v.default.string.isRequired})),searchResults:v.default.arrayOf(v.default.shape({originalWidth:v.default.number.isRequired,originalHeight:v.default.number.isRequired,originalUrl:v.default.string.isRequired})),searchGif:v.default.func,resetGifSearchQuery:v.default.func,fetchTrendingImages:v.default.func,onSelect:v.default.func,rightAligned:v.default.bool,isLastGif:v.default.bool,isMobileDevice:v.default.bool,isSafeFrame:v.default.bool,searchQuery:v.default.string},E.defaultProps={isLoading:!1,storeSearchQuery:"",searchResults:[],trendingImages:[],searchGif:function(){},resetGifSearchQuery:function(){},fetchTrendingImages:function(){},onSelect:function(){},animationRating:"g",rightAligned:!1,isLastGif:!1,isSafeFrame:!1};var k=(0,d.default)((0,g.connect)((function(e){var t=y.getTrendingGifImages(e),i=y.getGifImagesSearchQuery(e);return{trendingImages:t,storeSearchQuery:i,searchResults:y.getGifImagesSearchResults(e,i),isLoading:y.isLoadingGifImages(e),isSafeFrame:e.moduleOptions.isSafeFrame}}),(function(e){return{searchGif:(0,u.default)((function(t,i){e(h.searchGif(t,i))}),300),fetchTrendingImages:(0,u.default)((function(t){e(h.fetchTrendingGifImages(t))}),300),resetGifSearchQuery:function(t){e(h.resetGifSearchQuery(t))}}})),(0,w.withTranslation)())(E);t.default=k},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=s(i(3)),m=o(i(1493));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var u=function(e){(0,a.default)(i,e);var t=f(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"splitImagesToColumns",value:function(e,t,i){for(var s=[],o=[],c=0;c<t;c++)s[c]=[],o[c]=0;return e.forEach((function(e){var t=e.previewHeight*(i/e.previewWidth),c=o.reduce((function(e,t,i){return o[e]>t?i:e}),0);s[c].push({image:e,height:t,width:i}),o[c]+=t})),s}},{key:"renderColumn",value:function(e,t,i){return d.default.createElement("div",{className:m.default.column,style:{width:t}},e.map((function(e){var t=e.image,s=e.height,o=e.width;return d.default.createElement("div",{className:m.default.cell,style:{height:s,width:o},key:t.previewUrl,onClick:function(){return i(t)}},d.default.createElement("img",{className:m.default.image,src:t.previewUrl}))})))}},{key:"render",value:function(){var e=this.props,t=e.columnWidth,i=e.images,s=e.onClick,o=this.splitImagesToColumns(i,2,t);return d.default.createElement("div",{className:m.default.imagesPanel},this.renderColumn(o[0],t,s),this.renderColumn(o[1],t,s))}}]),i}(d.Component);t.default=u,u.displayName="ImagesPanel",u.propTypes={columnWidth:l.default.number,images:l.default.arrayOf(l.default.shape({originalWidth:l.default.number.isRequired,originalHeight:l.default.number.isRequired,originalUrl:l.default.string.isRequired,previewWidth:l.default.number.isRequired,previewHeight:l.default.number.isRequired,previewUrl:l.default.string.isRequired})),onClick:l.default.func},u.defaultProps={columnWidth:200,images:[],onClick:function(){}}},function(e,t,i){var s=i(30),o=i(1494);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_images-panel{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_images-panel{margin-bottom:15px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_images-panel .spcv_column:not(:last-child){margin-right:5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_images-panel .spcv_column:not(:last-child){margin-left:5px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_images-panel .spcv_column:not(:last-child){margin-right:4px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_images-panel .spcv_column:not(:last-child){margin-left:4px}#spotim-specific#spotim-specific .spcv_images-panel .spcv_cell{-webkit-user-select:none;-ms-user-select:none;user-select:none;position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_images-panel .spcv_cell{cursor:pointer;border:1px solid var(--spotim-border-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_images-panel .spcv_cell:not(:last-child){margin-bottom:5px}#spotim-specific#spotim-specific .spcv_images-panel .spcv_cell:hover:after{content:"";position:absolute;top:0;bottom:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_images-panel .spcv_cell:hover:after{background-color:rgba(0,0,0,.15)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_images-panel .spcv_cell:hover:after,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_images-panel .spcv_cell:hover:after{left:0;right:0}#spotim-specific#spotim-specific .spcv_images-panel .spcv_row{overflow:auto;white-space:nowrap}#spotim-specific#spotim-specific .spcv_images-panel .spcv_image{height:100%;width:100%}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","images-panel":"spcv_images-panel",imagesPanel:"spcv_images-panel",column:"spcv_column","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",cell:"spcv_cell",row:"spcv_row",image:"spcv_image"}},function(e,t,i){var s=i(30),o=i(1496);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector{cursor:auto}@media only screen and (max-width:414px){#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector{padding:10px 10px 15px}#spotim-specific#spotim-specific .spcv_gif-selector.spcv_safeframe{max-height:210px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector.spcv_safeframe{padding:0}}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_query-input{color:var(--spotim-message-text-color);width:calc(100% - 12px);font-size:var(--spotim-font-size-medium);outline:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_query-input{padding:6px;border:1px solid var(--spotim-border-color);border-radius:var(--spotim-border-radius-medium);background:var(--spotim-input-background-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_query-input:focus{border:1px solid var(--spotim-border-color)}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_query-input:-ms-input-placeholder{color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_query-input::placeholder{color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_gif-selector .spcv_query-input:-ms-input-placeholder{text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_gif-selector .spcv_query-input::placeholder{text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_gif-selector .spcv_query-input:-ms-input-placeholder{text-align:right}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_gif-selector .spcv_query-input::placeholder{text-align:right}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results{height:250px;overflow-y:scroll}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results{margin-top:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_gif-selector .spcv_search-results{padding-right:5px;margin-right:-5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_gif-selector .spcv_search-results{padding-left:5px;margin-left:-5px}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results::-webkit-scrollbar-track{width:5px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results::-webkit-scrollbar-track{background-color:transparent}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results::-webkit-scrollbar{width:5px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results::-webkit-scrollbar{background-color:transparent}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results::-webkit-scrollbar-thumb{border-radius:10px;background-color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results .spcv_title{display:block;font-size:var(--spotim-font-size-medium);color:var(--spotim-text-color-x-muted);line-height:1.5em}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results .spcv_title{margin-bottom:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_gif-selector .spcv_search-results .spcv_title{text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_gif-selector .spcv_search-results .spcv_title{text-align:right}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results .spcv_empty-label{font-size:15px;color:#7b7f83}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results .spcv_title>span>span:nth-child(2){margin:0 5px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results .spcv_spinnerWrapper{padding:10px}@media only screen and (max-width:414px){#spotim-specific#spotim-specific .spcv_gif-selector{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:calc(100vh - 95px)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector{border:none;box-shadow:none;border-radius:0;border:0;padding-top:0}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results{height:auto}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results{margin-top:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results .spcv_images-panel{margin-bottom:0}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results .spcv_images-panel .spcv_cell{max-height:90px;display:inline-block}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_gif-selector .spcv_search-results .spcv_images-panel .spcv_cell{margin-bottom:0}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results .spcv_images-panel .spcv_cell .spcv_image{display:block}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results .spcv_row{overflow:auto;white-space:nowrap;overflow-y:hidden}#spotim-specific#spotim-specific .spcv_gif-selector .spcv_search-results .spcv_title{display:none}}#spotim-specific#spotim-specific .spcv_last-gif{top:-180px;height:250px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","gif-selector":"spcv_gif-selector",gifSelector:"spcv_gif-selector",safeframe:"spcv_safeframe","query-input":"spcv_query-input",queryInput:"spcv_query-input","search-results":"spcv_search-results",searchResults:"spcv_search-results",title:"spcv_title","empty-label":"spcv_empty-label",emptyLabel:"spcv_empty-label",spinnerWrapper:"spcv_spinnerWrapper","images-panel":"spcv_images-panel",imagesPanel:"spcv_images-panel",cell:"spcv_cell",image:"spcv_image",row:"spcv_row","last-gif":"spcv_last-gif",lastGif:"spcv_last-gif"}},function(e,t,i){var s=i(30),o=i(1498);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel{position:absolute;bottom:15px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_rich-editor .spcv_panel{right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_rich-editor .spcv_panel{left:0}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_buttons{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_panel .spcv_buttons{padding:0 16px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_rich-editor .spcv_panel .spcv_buttons .spcv_actions{margin-left:auto}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_rich-editor .spcv_panel .spcv_buttons .spcv_actions{margin-right:auto}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_buttons .spcv_format-button{font-size:15px}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_buttons>span{line-height:0;display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_buttons .spcv_active svg{fill:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel.spcv_is-expanded,#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel.spcv_isReply{bottom:12px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_panel.spcv_is-expanded,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_panel.spcv_isReply{padding:0 10px}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel.spcv_is-expanded .spcv_buttons,#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel.spcv_isReply .spcv_buttons{bottom:12px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_panel.spcv_is-expanded .spcv_buttons,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_panel.spcv_isReply .spcv_buttons{padding:0 10px}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_cancel-button,#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_send-button,#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_update-button{min-width:54px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_rich-editor .spcv_panel .spcv_cancel-button,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_rich-editor .spcv_panel .spcv_send-button,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_rich-editor .spcv_panel .spcv_update-button{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_rich-editor .spcv_panel .spcv_cancel-button,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_rich-editor .spcv_panel .spcv_send-button,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_rich-editor .spcv_panel .spcv_update-button{margin-right:10px}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_cancel-button>span:not(.spcv_spinner),#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_send-button>span:not(.spcv_spinner),#spotim-specific#spotim-specific .spcv_rich-editor .spcv_panel .spcv_update-button>span:not(.spcv_spinner){vertical-align:initial}@media only screen and (max-width:230px){#spotim-specific#spotim-specific [data-spot-im-direction=rtl] &.spcv_rich-editor .spcv_panel .spcv_cancel-button,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] &.spcv_rich-editor .spcv_panel .spcv_send-button,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] &.spcv_rich-editor .spcv_panel .spcv_update-button{margin-left:5px}}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","rich-editor":"spcv_rich-editor",richEditor:"spcv_rich-editor",panel:"spcv_panel",buttons:"spcv_buttons",actions:"spcv_actions","format-button":"spcv_format-button",formatButton:"spcv_format-button",active:"spcv_active","is-expanded":"spcv_is-expanded",isExpanded:"spcv_is-expanded",isReply:"spcv_isReply","send-button":"spcv_send-button",sendButton:"spcv_send-button","update-button":"spcv_update-button",updateButton:"spcv_update-button","cancel-button":"spcv_cancel-button",cancelButton:"spcv_cancel-button",spinner:"spcv_spinner"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.TransliterationButton=void 0;var c=o(i(40)),p=o(i(41)),a=o(i(32)),r=o(i(33)),n=o(i(37)),l=o(i(38)),d=o(i(36)),m=s(i(3)),f=i(1500),u=i(352),v=o(i(1501));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,l.default)(this,i)}}var g=function(e){(0,n.default)(s,e);var t,i=_(s);function s(e){var t;return(0,a.default)(this,s),(t=i.call(this,e)).handleClick=(0,p.default)(c.default.mark((function e(){var i;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.getTransliterationControl)();case 2:i=e.sent,!0===i.isTransliterationEnabled()?(i.disableTransliteration(),t.setState({isEnabled:!1})):(i.enableTransliteration(),t.setState({isEnabled:!0}));case 5:case"end":return e.stop()}}),e)}))),t.state={targetLanguage:u.LANGUAGE_CODES.ENGLISH,isEnabled:!1,transliterationServiceAvailable:!1},t.isMount=!1,t}return(0,r.default)(s,[{key:"componentWillUnmount",value:function(){this.isMount=!1}},{key:"componentDidMount",value:(t=(0,p.default)(c.default.mark((function e(){var t,i,s,o;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isMount=!0,e.next=3,(0,f.getTransliterationControl)();case 3:if(t=e.sent){e.next=7;break}return!0===this.isMount&&this.setState({transliterationServiceAvailable:!1}),e.abrupt("return");case 7:i=t.getLanguagePair(),s=i.targetLanguage,o=t.isTransliterationEnabled(),!0===this.isMount&&this.setState({isEnabled:o,targetLanguage:s,transliterationServiceAvailable:!0});case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.targetLanguage,i=e.isEnabled,s=e.transliterationServiceAvailable,o=(0,u.getLanguageName)(t);return i||(o="English"),!1===s?null:m.default.createElement("span",{className:v.default.Button,onClick:this.handleClick},o)}}]),s}(m.Component);t.TransliterationButton=g,g.displayName="TransliterationButton"},,function(e,t,i){var s=i(30),o=i(1502);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"#spotim-specific#spotim-specific .spcv_Button{-webkit-user-select:none;-ms-user-select:none;user-select:none;text-transform:capitalize;color:#fff;font-size:13px;font-weight:700;font-family:Open Sans,Helvetica,Arial,sans-serif;line-height:34px;height:34px;min-width:70px;display:inline-block!important}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_Button{margin:0;cursor:pointer;border:1px solid var(--spotim-strong-border-color);padding:0 10px;text-align:center;background-color:var(--spotim-strong-border-color);border-radius:4px}",""]),t.locals={Button:"spcv_Button",button:"spcv_Button"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(3)),d=o(i(35)),m=o(i(14));i(1504);var f=o(i(1506)),u=o(i(4)),v=o(i(46)),_=o(i(90)),g=s(i(1508)),h=i(49),y=i(43),b=(i(69),i(50));function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var w=function(e){(0,a.default)(s,e);var t=x(s);function s(){var e;(0,c.default)(this,s);for(var o=arguments.length,p=new Array(o),a=0;a<o;a++)p[a]=arguments[a];return(e=t.call.apply(t,[this].concat(p))).state={isTooltipVisible:!1},e.showTooltip=function(){e.props.onOpen();var t={type:"conversation-toolbar-clicked",item_type:"emoji-keyboard",post_id:e.props.postId};(0,b.analyticsTrack)(t),e.setState({isTooltipVisible:!0}),i.e(92).then(i.bind(null,1910)).then((function(t){e.setState({EmojiMartPicker:t.Picker})}))},e.handleEmojiSelected=function(t){g.add(t.id),e.props.onSelect(t.native);var i={type:"emoji-keyboard-inner-clicked",item_type:"emoji",target_type:t.name,post_id:e.props.postId};(0,b.analyticsTrack)(i)},e.handleCloseTooltip=function(){e.setState({isTooltipVisible:!1}),g.update()},e.emojisToShowFilter=function(e){return"White Smiling Face"!==e.name},e}return(0,p.default)(s,[{key:"render",value:function(){var e=this,t=this.state,i=t.isTooltipVisible,s=t.EmojiMartPicker,o=this.props.t,c=(i||(o("emojiSelector.insertEmoji","Insert Emoji"),o("emojiSelector.insertEmoji","Insert Emoji")),{search:o("emojiPicker.search","Search"),clear:o("emojiPicker.clear","Clear"),notfound:o("emojiPicker.notfound","No Emoji Found"),skintext:o("emojiPicker.skintext","Choose your default skin tone"),categories:{search:o("emojiPicker.categories.search","Search Results"),recent:o("emojiPicker.categories.recent","Frequently Used"),people:o("emojiPicker.categories.people","Smileys & People"),nature:o("emojiPicker.categories.nature","Animals & Nature"),foods:o("emojiPicker.categories.foods","Food & Drink"),activity:o("emojiPicker.categories.activity","Activity"),places:o("emojiPicker.categories.places","Travel & Places"),objects:o("emojiPicker.categories.objects","Objects"),symbols:o("emojiPicker.categories.symbols","Symbols"),flags:o("emojiPicker.categories.flags","Flags"),custom:o("emojiPicker.categories.custom","Custom")},categorieslabel:o("emojiPicker.categorieslabel","Emoji categories"),skintones:{1:o("emojiPicker.skintones1","Default Skin Tone"),2:o("emojiPicker.skintones2","Light Skin Tone"),3:o("emojiPicker.skintones3","Medium-Light Skin Tone"),4:o("emojiPicker.skintones4","Medium Skin Tone"),5:o("emojiPicker.skintones5","Medium-Dark Skin Tone"),6:o("emojiPicker.skintones6","Dark Skin Tone")}});u.default.get("init_data.config.ltr");return l.default.createElement("div",{className:f.default.emojiSelectorWrapper},l.default.createElement(y.Menu,{placement:"left-start",onShowChange:function(t){t?e.showTooltip():e.handleCloseTooltip()},showMenu:i,menuButton:l.default.createElement("button",{className:(0,m.default)(f.default.button,i&&f.default.isActive),"data-open-web-class":"emoji-button"},l.default.createElement(v.default,{selector:"emoji",className:f.default.emojiIcon}))},!s&&l.default.createElement("div",{className:f.default.emojiSpinnerWrapper},l.default.createElement(_.default,null)),s&&l.default.createElement(s,{emoji:"",showPreview:!1,recent:g.get().reverse(),onSelect:this.handleEmojiSelected,emojisToShowFilter:this.emojisToShowFilter,native:!0,i18n:c})))}}]),s}(l.default.PureComponent);w.propTypes={onSelect:d.default.func.isRequired,toggleRightAligned:d.default.func.isRequired,rightAligned:d.default.bool.isRequired,onOpen:d.default.func.isRequired};var M=(0,h.withTranslation)()(w);t.default=M},function(e,t,i){var s=i(30),o=i(1505);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(e.exports=i(31)()).push([e.i,'#spotim-specific#spotim-specific .emoji-mart,#spotim-specific#spotim-specific .emoji-mart *{box-sizing:border-box;line-height:1.15}#spotim-specific#spotim-specific .emoji-mart{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,sans-serif;font-size:16px;display:inline-block;color:#222427}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart{border-radius:5px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart{direction:ltr}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart{direction:rtl}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart .emoji-mart-emoji{padding:6px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-bar:first-child{border-bottom-width:1px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-bar:first-child,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-bar:first-child{border-top-left-radius:5px;border-top-right-radius:5px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-bar:last-child{border-top-width:1px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-bar:last-child,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-bar:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}#spotim-specific#spotim-specific .emoji-mart-anchors{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;color:#858585;line-height:0}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-anchors{padding:0 6px}#spotim-specific#spotim-specific .emoji-mart-anchor{position:relative;display:block;-ms-flex:1 1 auto;flex:1 1 auto;overflow:hidden;transition:color .1s ease-out}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-anchor{text-align:center;padding:12px 4px;margin:0;box-shadow:none;background:none;border:none}#spotim-specific#spotim-specific .emoji-mart-anchor-selected,#spotim-specific#spotim-specific .emoji-mart-anchor:hover{color:#464646}#spotim-specific#spotim-specific .emoji-mart-anchor-selected .emoji-mart-anchor-bar{bottom:0}#spotim-specific#spotim-specific .emoji-mart-anchor-bar{position:absolute;bottom:-3px;width:100%;height:3px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-anchor-bar{background-color:#464646}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-anchor-bar{left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-anchor-bar{right:0}#spotim-specific#spotim-specific .emoji-mart-anchors i{display:inline-block;width:100%;max-width:22px}#spotim-specific#spotim-specific .emoji-mart-anchors img,#spotim-specific#spotim-specific .emoji-mart-anchors svg{fill:#858585;height:18px;width:18px}#spotim-specific#spotim-specific .emoji-mart-scroll{overflow-y:scroll;height:270px;will-change:transform}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-scroll{padding:0 6px 6px}#spotim-specific#spotim-specific .emoji-mart-search{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-search{margin-top:6px;padding:0 6px}#spotim-specific#spotim-specific .emoji-mart-search input{font-size:16px;display:block;width:100%;outline:0}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-search input{border-radius:5px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-search input{padding:5px 25px 6px 10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-search input{padding:5px 10px 6px 25px}#spotim-specific#spotim-specific .emoji-mart-search input,#spotim-specific#spotim-specific .emoji-mart-search input::-webkit-search-cancel-button,#spotim-specific#spotim-specific .emoji-mart-search input::-webkit-search-decoration,#spotim-specific#spotim-specific .emoji-mart-search input::-webkit-search-results-button,#spotim-specific#spotim-specific .emoji-mart-search input::-webkit-search-results-decoration{-webkit-appearance:none}#spotim-specific#spotim-specific .emoji-mart-search-icon{position:absolute;top:7px;z-index:2}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-search-icon{padding:2px 5px 1px;border:none;background:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-search-icon{right:11px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-search-icon{left:11px}#spotim-specific#spotim-specific .emoji-mart-category .emoji-mart-emoji span{z-index:1;position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-category .emoji-mart-emoji span{text-align:center;cursor:default}#spotim-specific#spotim-specific .emoji-mart-category .emoji-mart-emoji:hover:before{z-index:0;content:"";position:absolute;top:0;width:100%;height:100%;opacity:.1}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-category .emoji-mart-emoji:hover:before{background-color:var(--spotim-brand-color);border-radius:100%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-category .emoji-mart-emoji:hover:before{left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-category .emoji-mart-emoji:hover:before{right:0}#spotim-specific#spotim-specific .emoji-mart-category-label{z-index:2;position:relative;position:-webkit-sticky;position:sticky;top:0}#spotim-specific#spotim-specific .emoji-mart-category-label span{display:block;width:100%;font-weight:500}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-category-label span{padding:5px 6px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-category-list{margin:0;padding:0}#spotim-specific#spotim-specific .emoji-mart-category-list li{list-style:none;display:inline-block}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-category-list li{margin:0;padding:0}#spotim-specific#spotim-specific .emoji-mart-emoji{position:relative;display:inline-block;font-size:0;outline:none}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-emoji{margin:0;padding:0;border:none;background:none;box-shadow:none}#spotim-specific#spotim-specific .emoji-mart-emoji-native{font-family:Segoe UI Emoji,Segoe UI Symbol,Segoe UI,Apple Color Emoji,Twemoji Mozilla,Noto Color Emoji,EmojiOne Color,Android Emoji}#spotim-specific#spotim-specific .emoji-mart-no-results{font-size:14px;color:#858585}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-no-results{text-align:center;padding-top:70px}#spotim-specific#spotim-specific .emoji-mart-no-results-img{display:block;width:50%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-no-results-img,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-no-results-img{margin-left:auto;margin-right:auto}#spotim-specific#spotim-specific .emoji-mart-no-results .emoji-mart-category-label{display:none}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-no-results .emoji-mart-no-results-label{margin-top:.2em}#spotim-specific#spotim-specific .emoji-mart-no-results .emoji-mart-emoji:hover:before{content:none}#spotim-specific#spotim-specific .emoji-mart-preview{position:relative;height:70px}#spotim-specific#spotim-specific .emoji-mart-preview-data,#spotim-specific#spotim-specific .emoji-mart-preview-emoji,#spotim-specific#spotim-specific .emoji-mart-preview-skins{position:absolute;top:50%}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-preview-data,#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-preview-emoji,#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-preview-skins{transform:translateY(-50%)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-preview-emoji{left:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-preview-emoji{right:12px}#spotim-specific#spotim-specific .emoji-mart-preview-data{word-break:break-all}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-preview-data{left:68px;right:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-preview-data{right:68px;left:12px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-preview-skins{right:30px;text-align:right}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-preview-skins{left:30px;text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-preview-skins.custom{right:10px;text-align:right}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-preview-skins.custom{left:10px;text-align:left}#spotim-specific#spotim-specific .emoji-mart-preview-name{font-size:14px}#spotim-specific#spotim-specific .emoji-mart-preview-shortname{font-size:12px;color:#888}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-preview-emoticon+.emoji-mart-preview-emoticon,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-preview-shortname+.emoji-mart-preview-emoticon,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-preview-shortname+.emoji-mart-preview-shortname{margin-left:.5em}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-preview-emoticon+.emoji-mart-preview-emoticon,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-preview-shortname+.emoji-mart-preview-emoticon,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-preview-shortname+.emoji-mart-preview-shortname{margin-right:.5em}#spotim-specific#spotim-specific .emoji-mart-preview-emoticon{font-size:11px;color:#bbb}#spotim-specific#spotim-specific .emoji-mart-title span{display:inline-block;vertical-align:middle}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-title .emoji-mart-emoji{padding:0}#spotim-specific#spotim-specific .emoji-mart-title-label{color:#999a9c;font-size:26px;font-weight:300}#spotim-specific#spotim-specific .emoji-mart-skin-swatches{font-size:0}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatches{padding:2px 0;border-radius:12px;background-color:#fff}#spotim-specific#spotim-specific .emoji-mart-skin-swatches.custom{font-size:0}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatches.custom{border:none;background-color:#fff}#spotim-specific#spotim-specific .emoji-mart-skin-swatches.opened .emoji-mart-skin-swatch{width:16px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatches.opened .emoji-mart-skin-swatch{padding:0 2px}#spotim-specific#spotim-specific .emoji-mart-skin-swatches.opened .emoji-mart-skin-swatch.selected:after{opacity:.75}#spotim-specific#spotim-specific .emoji-mart-skin-swatch{display:inline-block;width:0;vertical-align:middle}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch{transition-property:width,padding;transition-duration:.125s;transition-timing-function:ease-out}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch:first-child{transition-delay:0s}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch:nth-child(2){transition-delay:.03s}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch:nth-child(3){transition-delay:.06s}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch:nth-child(4){transition-delay:.09s}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch:nth-child(5){transition-delay:.12s}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch:nth-child(6){transition-delay:.15s}#spotim-specific#spotim-specific .emoji-mart-skin-swatch.selected{position:relative;width:16px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch.selected{padding:0 2px}#spotim-specific#spotim-specific .emoji-mart-skin-swatch.selected:after{content:"";position:absolute;top:50%;width:4px;height:4px;pointer-events:none;opacity:0;transition:opacity .2s ease-out}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch.selected:after{background-color:#fff;border-radius:100%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-skin-swatch.selected:after{left:50%;margin:-2px 0 0 -2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-skin-swatch.selected:after{right:50%;margin:-2px -2px 0 0}#spotim-specific#spotim-specific .emoji-mart-skin-swatch.custom{display:inline-block;width:0;height:38px;overflow:hidden;vertical-align:middle}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatch.custom{transition-property:width,height;transition-duration:.125s;transition-timing-function:ease-out;cursor:default}#spotim-specific#spotim-specific .emoji-mart-skin-swatch.custom.selected{position:relative;width:36px;height:38px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-skin-swatch.custom.selected{padding:0 2px 0 0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-skin-swatch.custom.selected{padding:0 0 0 2px}#spotim-specific#spotim-specific .emoji-mart-skin-swatch.custom.selected:after{content:"";width:0;height:0}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-swatches.custom .emoji-mart-skin-swatch.custom:hover{background-color:#f4f4f4;border-radius:10%}#spotim-specific#spotim-specific .emoji-mart-skin-swatches.custom.opened .emoji-mart-skin-swatch.custom{width:36px;height:38px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-skin-swatches.custom.opened .emoji-mart-skin-swatch.custom{padding:0 2px 0 0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-skin-swatches.custom.opened .emoji-mart-skin-swatch.custom{padding:0 0 0 2px}#spotim-specific#spotim-specific .emoji-mart-skin-swatches.custom.opened .emoji-mart-skin-swatch.custom.selected:after{opacity:.75}#spotim-specific#spotim-specific .emoji-mart-skin-text.opened{display:inline-block;vertical-align:middle;color:#888;font-size:11px;width:95px;height:40px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-text.opened{padding:5px 2px;border-radius:10%;background-color:#fff}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-skin-text.opened{text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-skin-text.opened{text-align:right}#spotim-specific#spotim-specific .emoji-mart-skin{display:inline-block;width:100%;max-width:12px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin{padding-top:100%;border-radius:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-tone-1{background-color:#ffc93a}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-tone-2{background-color:#fadcbc}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-tone-3{background-color:#e0bb95}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-tone-4{background-color:#bf8f68}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-tone-5{background-color:#9b643d}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-skin-tone-6{background-color:#594539}#spotim-specific#spotim-specific .emoji-mart-sr-only{position:absolute;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-sr-only{padding:0;margin:-1px;border:0}',""])},function(e,t,i){var s=i(30),o=i(1507);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_emoji-selector-wrapper{position:relative}#spotim-specific#spotim-specific .spcv_emoji-selector-wrapper .spcv_button{height:18px;outline:none;position:relative;color:var(--spotim-say-control-action-color);font-size:18px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_emoji-selector-wrapper .spcv_button{padding:0;border:none;background:none;cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_emoji-selector-wrapper .spcv_button{margin-right:4px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_emoji-selector-wrapper .spcv_button{margin-left:4px}#spotim-specific#spotim-specific .spcv_emoji-selector-wrapper .spcv_button.spcv_isActive,#spotim-specific#spotim-specific .spcv_emoji-selector-wrapper .spcv_button:hover{color:var(--spotim-brand-color)}@media (min-width:420px){#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_emoji-selector-wrapper .spcv_button{margin-right:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_emoji-selector-wrapper .spcv_button{margin-left:12px}}#spotim-specific#spotim-specific .spcv_emoji-selector-wrapper .spcv_tooltip{z-index:800;position:absolute;top:calc(-11px + 100%)}#spotim-specific#spotim-specific .spcv_emojiSpinnerWrapper{width:338px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_emojiSpinnerWrapper{padding:20px 0}#spotim-specific#spotim-specific .emoji-mart-scroll{will-change:unset}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-scroll{padding:0 4px 6px}#spotim-specific#spotim-specific .emoji-mart-preview{display:none}#spotim-specific#spotim-specific .emoji-mart{font-family:Open Sans,Helvetica,Arial,sans-serif}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart{background-color:var(--spotim-overlay-background-color);border:none}#spotim-specific#spotim-specific .emoji-mart-category-label span{font-size:var(--spotim-font-size-x-small);font-weight:700;color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-category-label span{background-color:var(--spotim-overlay-background-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .emoji-mart-category-label span{padding:14px 0 9px 10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .emoji-mart-category-label span{padding:14px 10px 9px 0}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-category-list{margin-bottom:10px}#spotim-specific#spotim-specific #emoji-mart-search-1{color:var(--spotim-text-color-default)}#spotim-specific#spotim-specific [data-spot-im-direction] #emoji-mart-search-1{border:1px solid var(--spotim-border-color);background-color:var(--spotim-input-background-color);border-radius:4px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-category .emoji-mart-emoji:hover:before{background-color:var(--spotim-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-bar{border:0 solid var(--spotim-border-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-bar:last-child{border:none}#spotim-specific#spotim-specific .emoji-mart-anchor{outline:none}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-anchor-bar{background-color:var(--spotim-brand-color)!important}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-search{margin-top:15px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-search input{background-color:var(--spotim-input-background-color);border:1px solid var(--spotim-border-color)}#spotim-specific#spotim-specific [data-spot-im-direction] #emoji-mart-search input{border-top:1px}#spotim-specific#spotim-specific #emoji-mart-search input:-ms-input-placeholder{color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific #emoji-mart-search input::placeholder{color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-scroll::-webkit-scrollbar-thumb{border-radius:10px;background-color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific .emoji-mart-scroll::-webkit-scrollbar-track{width:5px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-scroll::-webkit-scrollbar-track{background-color:transparent}#spotim-specific#spotim-specific .emoji-mart-scroll::-webkit-scrollbar{width:5px}#spotim-specific#spotim-specific [data-spot-im-direction] .emoji-mart-scroll::-webkit-scrollbar{background-color:transparent}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","emoji-selector-wrapper":"spcv_emoji-selector-wrapper",emojiSelectorWrapper:"spcv_emoji-selector-wrapper",button:"spcv_button",isActive:"spcv_isActive",tooltip:"spcv_tooltip",emojiSpinnerWrapper:"spcv_emojiSpinnerWrapper"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.update=t.get=void 0;var s=["heart_eyes","face_with_raised_eyebrow"],o=[];t.get=function(){return o.slice()};var c=function(){try{o=(o=localStorage.getItem("SPOTIM_RECENT_EMOJI"))?JSON.parse(o):s}catch(e){o=s}};t.update=c,c();t.add=function(e){var t=localStorage.getItem("SPOTIM_RECENT_EMOJI");if((t=t?JSON.parse(t):s).includes(e)){var i=t.findIndex((function(t){return t===e}));t.splice(i,1)}t.length>10&&t.shift(),t.push(e),localStorage.setItem("SPOTIM_RECENT_EMOJI",JSON.stringify(t))}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(40)),p=o(i(41)),a=o(i(32)),r=o(i(33)),n=o(i(37)),l=o(i(38)),d=o(i(36)),m=o(i(35)),f=s(i(3)),u=i(63),v=i(147),_=i(175),g=i(1510),h=i(350),y=o(i(1511)),b=o(i(5)),x=i(49);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,d.default)(e);if(t){var o=(0,d.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,l.default)(this,i)}}var M=new RegExp(".(".concat(["gif","jpg","jpeg","png"].join("|"),")$"),"i"),E=function(e){(0,n.default)(s,e);var t,i=w(s);function s(){var e;(0,a.default)(this,s);for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return(e=i.call.apply(i,[this].concat(o))).state={},e.inputRef=f.default.createRef(),e}return(0,r.default)(s,[{key:"componentDidMount",value:function(){if(this.props.isVisible){var e="fileInput-".concat((0,u.shortGuid)());this.inputRef.current.setAttribute("id",e),this.setState({forId:e})}}},{key:"onChange",value:(t=(0,p.default)(c.default.mark((function e(t){var i,s,o,p,a,r,n,l,d,m,f,u,h;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props,s=i.onUploadStart,o=i.uploadImage,p=i.onUploadComplete,a=t.target,!(r=a.files[0])){e.next=26;break}if(e.prev=4,M.test(r.name)){e.next=7;break}throw new Error("File type not supported");case 7:return s(),e.next=10,(0,g.fileReader)(r);case 10:return n=e.sent,e.next=13,o(n);case 13:l=e.sent,d=l.publicId,m=l.width,f=l.height,u=(0,_.imageThumbSize)(m,f),h=(0,v.createImageEntityObject)({imageId:d,originalHeight:f,originalWidth:m,thumbnailHeight:u.height,thumbnailWidth:u.width}),p(null,h),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),(0,b.default)("image upload failed",e.t0),p(e.t0);case 26:a.value="";case 27:case"end":return e.stop()}}),e,this,[[4,22]])}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.forId,t=this.props,i=t.isDisabled,s=t.isVisible,o=t.t,c=null;return s&&(c=f.default.createElement("div",{role:"button",className:y.default.uploadImageControl,"data-spot-im-class":"rich-editor-upload-image-button","data-title":o("addPhoto"),"aria-label":o("addPhoto"),"data-balloon-pos":"up"},f.default.createElement(h.ButtonControl,{isDisabled:i,iconSelector:"cameraIcon",tagName:"label",forId:e}),f.default.createElement("input",{"aria-hidden":"true",className:y.default.fileInput,type:"file",accept:"image/*",disabled:i,onChange:this.onChange.bind(this),ref:this.inputRef}))),c}}]),s}(f.Component);E.displayName="UploadImageControl",E.propTypes={uploadImage:m.default.func,onUploadStart:m.default.func,onUploadComplete:m.default.func,isDisabled:m.default.bool,isVisible:m.default.bool},E.defaultProps={uploadImage:function(){},onUploadStart:function(){},onUploadComplete:function(){},isDisabled:!1,isVisible:!0};var k=(0,x.withTranslation)()(E);t.default=k},,function(e,t,i){var s=i(30),o=i(1512);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_upload-image-control{height:18px;font-size:18px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_upload-image-control{margin-right:4px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_upload-image-control{margin-left:4px}@media (min-width:420px){#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_upload-image-control{margin-right:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_upload-image-control{margin-left:12px}}#spotim-specific#spotim-specific .spcv_upload-image-control .spcv_button-control{height:100%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_upload-image-control .spcv_button-control{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_upload-image-control .spcv_button-control{margin-left:0}#spotim-specific#spotim-specific .spcv_upload-image-control .spcv_file-input{display:none}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","upload-image-control":"spcv_upload-image-control",uploadImageControl:"spcv_upload-image-control","button-control":"spcv_button-control",buttonControl:"spcv_button-control","file-input":"spcv_file-input",fileInput:"spcv_file-input"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=s(i(3)),d=o(i(35)),m=i(1514),f=o(i(1515)),u=i(49);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var _=function(e){(0,a.default)(s,e);var t=v(s);function s(e){var o;return(0,c.default)(this,s),(o=t.call(this,e)).getSnippets=function(){return o.isHmrDispose||(o.snippets=i(1517)),o.snippets},o.onChange=function(e){var t=e.target.value;o.props.onChange(t)},o}return(0,p.default)(s,[{key:"render",value:function(){var e=this.props,t=e.t,i=e.onFocus,s=e.onBlur,o=e.value,c=(e.autoFocus,e.onSubmit,this.getSnippets().getPlaceHolderText(t("richEditor.placeholder.displayName")));return l.default.createElement("div",{className:f.default.displayNameInputWrapper},l.default.createElement("input",{onFocus:i,onBlur:s,className:f.default.displayNameInput,defaultValue:o,onChange:this.onChange,placeholder:c,maxLength:m.USERNAME_MAX_LENGTH,autoComplete:"off",id:"spotim-guest-username"}))}}]),s}(l.Component);_.displayName="DisplayNameInput",_.propTypes={value:d.default.string,onFocus:d.default.func,onBlur:d.default.func,onSubmit:d.default.func,onChange:d.default.func.isRequired,spotId:d.default.string.isRequired,autoFocus:d.default.bool,t:d.default.func},_.defaultProps={value:"",onFocus:function(){},onBlur:function(){},onChange:function(){}};var g=(0,u.withTranslation)()(_);t.default=g},,function(e,t,i){var s=i(30),o=i(1516);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_displayNameInputWrapper{padding:0 18px}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_displayNameInput{font-family:var(--spotim-font-family);box-sizing:border-box;width:100%;display:inline-block;min-height:24px;line-height:24px;font-size:var(--spotim-message-font-size-regular);color:var(--spotim-message-text-color);outline:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_displayNameInput{border:none;border-bottom:1px solid var(--spotim-input-separator-color);padding:14px 0;box-shadow:none;background:transparent;border-radius:0}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_displayNameInput:-ms-input-placeholder{color:var(--spotim-text-color-xx-muted);font-size:var(--spotim-font-size-large);font-weight:400}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_displayNameInput::placeholder{color:var(--spotim-text-color-xx-muted);font-size:var(--spotim-font-size-large);font-weight:400}@media (max-width:420px){#spotim-specific#spotim-specific .spcv_rich-editor .spcv_displayNameInput{font-size:16px;font-size:max(16px,var(--spotim-message-font-size-regular))}}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","rich-editor":"spcv_rich-editor",richEditor:"spcv_rich-editor",displayNameInputWrapper:"spcv_displayNameInputWrapper",displayNameInput:"spcv_displayNameInput"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlaceHolderText=void 0;t.getPlaceHolderText=function(e){return e}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.resolveUrl=function(e,t){var i;if(f.hasOwnProperty(e))i=f[e];else{if(e.match(l)){var s=(0,c.parse)(p.FRAME,{url:e,type:p.FRAME,frameType:a.INSTAGRAM,startIndex:t});i=Promise.resolve(s)}else if(e.match(d)){var o=(0,c.parse)(p.FRAME,{url:e,type:p.FRAME,frameType:a.TWEET,startIndex:t});i=Promise.resolve(o)}else i=n.default.extract(e).then((function(e){return e.body})).then(m).then((function(i){if(!i||"error"===i.type)throw new Error("Token ".concat(e," resolve returned empty response"));var s,o;switch("link"===i.type?i.thumbnailUrl=e:"photo"===i.type&&(i.type="image"),i.type){case"image":s=(0,r.imageThumbSize)(i.originalWidth,i.originalHeight);break;case"link":o=(0,r.linkImageSize)(i.originalWidth,i.originalHeight),s=(0,r.linkImageThumbSize)(i.originalWidth,i.originalHeight);break;case"video":o=(0,r.videoImageSize)(i.originalWidth,i.originalHeight),s=(0,r.videoImageThumbSize)(i.originalWidth,i.originalHeight)}return i.thumbnailHeight=s.height,i.thumbnailWidth=s.width,"image"!==i.type&&(i.mediaHeight=o.height,i.mediaWidth=o.width),i.startIndex=t,(0,c.parse)(i.type,i)}));f[e]=i}return i},t.TWEET_REGEX=t.INSTAGRAM_REGEX=void 0;var o=s(i(64)),c=i(1519),p=i(120),a=i(507),r=i(175),n=s(i(1520)),l=/(?:^|\s)(https?:\/\/(?:www\.)?(?:instagram\.com|instagr\.am)\/p\/([^/\s]+))/gi;t.INSTAGRAM_REGEX=l;var d=/(?:^|\s)(https?:\/\/(?:www\.)?twitter\.com\/(\w{1,15}\/status\/\d+))/gi;function m(e){return o.default.map(e,{type:"type",title:"title",description:"description",image_id:"imageId",thumbnail_url:"thumbnailUrl",url:"url",html:"embed",provider_name:"providerUrl",provider_url:"providerUrl",thumbnail_width:"thumbnailWidth",thumbnail_height:"thumbnailHeight",width:"originalWidth",height:"originalHeight"})}t.TWEET_REGEX=d;var f={}},,,function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.HashImage=void 0;var o=s(i(40)),c=s(i(41)),p=s(i(34)),a=s(i(32)),r=s(i(33)),n=i(175),l=i(147),d=s(i(5));function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){(0,p.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u=function(){function e(t){(0,a.default)(this,e),this.props=f(f({},this.defaultProps),t)}var t;return(0,r.default)(e,[{key:"extractHashId",value:function(e){var t,i=e.match(/#(\d+)/);return i&&(t=i[1]),t}},{key:"extractImageEntity",value:(t=(0,c.default)(o.default.mark((function e(t){var i,s,c,p,a,r,m,f,u,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.extractHashId(t)){e.next=3;break}return e.abrupt("return",void 0);case 3:return s=this.props,c=s.findHashImageUrl,p=s.uploadImage,e.next=6,c(i);case 6:return a=e.sent,e.prev=7,e.next=10,p(a);case 10:return f=e.sent,r=f.public_id,e.next=14,(0,n.localImageSize)(a);case 14:u=e.sent,v=(0,n.imageThumbSize)(u.width,u.height),m=(0,l.createImageEntityObject)({imageId:r,originalHeight:u.height,originalWidth:u.width,thumbnailHeight:v.height,thumbnailWidth:v.width}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),(0,d.default)("hash image failed",e.t0);case 22:return e.abrupt("return",m);case 23:case"end":return e.stop()}}),e,this,[[7,19]])}))),function(e){return t.apply(this,arguments)})}]),e}();t.HashImage=u,u.defaultProps={findHashImageUrl:function(){throw new Error("findHashImageUrl required")},uploadImage:function(){throw new Error("uploadImage required")}}},function(e,t,i){var s=i(30),o=i(1523);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_rich-editor{position:relative;-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;color:var(--spotim-message-text-color)}#spotim-specific#spotim-specific .spcv_rich-editor>.spcv_user-image{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_rich-editor>.spcv_user-image{margin-right:15px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_rich-editor>.spcv_user-image{margin-left:15px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_rich-editor>.spcv_user-image+.spcv_rich-editor-container{width:auto}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_rich-editor>.spcv_user-image+.spcv_rich-editor-container{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_rich-editor>.spcv_user-image+.spcv_rich-editor-container{margin-right:0}#spotim-specific#spotim-specific .spcv_rich-editor .brand-mention{color:var(--spotim-brand-text-color)!important}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .brand-mention{background-color:var(--spotim-brand-color)!important;box-shadow:inset 0 1px 0 0 var(--spotim-brand-color),inset 0 -1px 0 0 var(--spotim-brand-color)!important}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_expand-button{font-size:15px;color:#a8abae;height:34px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_expand-button{background:#e5e6e6;border-radius:4px;padding:7px 10px;cursor:pointer}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-wrapper{max-width:100%;-ms-flex:1;flex:1}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_rich-editor-container{border:1px solid transparent;background:var(--spotim-input-background-color);border-radius:var(--spotim-border-radius-medium);box-shadow:var(--spotim-box-shadow-medium);cursor:text}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container p{font-family:var(--spotim-font-family);font-weight:400;font-size:var(--spotim-message-font-size-regular)}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container.spcv_hidden{display:none}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper{line-height:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper{border-radius:4px 4px;cursor:text}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper,#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text{transition:height .2s cubic-bezier(.02,.01,.47,1),max-height .2s cubic-bezier(.02,.01,.47,1),min-height .2s cubic-bezier(.02,.01,.47,1)}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_reply-to-username{position:absolute;color:#7b7f83}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_reply-to-username{background-color:hsla(210,3%,50%,.15);box-shadow:inset 0 1px 0 0 hsla(210,3%,50%,.15),inset 0 -1px 0 0 hsla(210,3%,50%,.15)}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text{color:#373e44}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text>*{text-indent:0}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text font{color:#373e44!important}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text font{background-color:#fff!important}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text span{color:#373e44!important}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text span{background-color:#fff!important}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text:not(:focus):empty:before{color:#a8abae}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text:focus{outline:0}#spotim-specific#spotim-specific .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text .spcv_preview-link-view{height:280px;width:370px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor .spcv_rich-editor-container .spcv_input-wrapper .spcv_input-text .spcv_preview-link-view{border:1px solid #e5e6e6}#spotim-specific#spotim-specific .spcv_rich-editor.spcv_expanded,#spotim-specific#spotim-specific .spcv_rich-editor.spcv_isReply{-ms-flex-align:inherit;align-items:inherit}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor.spcv_expanded,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor.spcv_isReply{margin-top:15px}#spotim-specific#spotim-specific .spcv_rich-editor.spcv_expanded .spcv_rich-editor-container,#spotim-specific#spotim-specific .spcv_rich-editor.spcv_isReply .spcv_rich-editor-container{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor.spcv_expanded .spcv_rich-editor-container,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor.spcv_isReply .spcv_rich-editor-container{border:1px solid var(--spotim-border-color);padding-bottom:0;box-shadow:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor.spcv_expanded .spcv_rich-editor-container .spcv_input-wrapper,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor.spcv_isReply .spcv_rich-editor-container .spcv_input-wrapper{border-radius:4px 4px 0 0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_rich-editor.spcv_expanded .spcv_rich-editor-container.spcv_error-border,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_rich-editor.spcv_isReply .spcv_rich-editor-container.spcv_error-border{animation:spcv_rich-editor-error-border-animation-ltr 2s;animation-fill-mode:forwards}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_rich-editor.spcv_expanded .spcv_rich-editor-container.spcv_error-border,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_rich-editor.spcv_isReply .spcv_rich-editor-container.spcv_error-border{animation:spcv_rich-editor-error-border-animation-rtl 2s;animation-fill-mode:forwards}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor.spcv_expanded .spcv_rich-editor-container.spcv_suspended,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_rich-editor.spcv_isReply .spcv_rich-editor-container.spcv_suspended{background-color:var(--spotim-list-item-background,#f7f7f7)}#spotim-specific#spotim-specific .spcv_rich-editor:not(.spcv_expanded):not(.spcv_isReply) .spcv_stars-rating{display:none}#spotim-specific#spotim-specific .spcv_rich-editor.spcv_has-entity .spcv_panel{display:block}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_rich-editor .spcv_rich-editor-container .spcv_caret,#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_rich-editor>.spcv_user-image{display:none}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_rich-editor .spcv_post-as .spcv_username{max-width:105px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap!important}@keyframes spcv_rich-editor-error-border-animation-ltr{25%{border-top-color:var(--spotim-danger-color);transition:width 1s ease-in}50%{border-right-color:var(--spotim-danger-color);transition:height 1s ease-in}75%{border-bottom-color:var(--spotim-danger-color);transition:width 1s ease-in}to{border-color:var(--spotim-danger-color);transition:height .5s ease-in}}@keyframes spcv_rich-editor-error-border-animation-rtl{25%{border-top-color:var(--spotim-danger-color);transition:width 1s ease-in}50%{border-right-color:var(--spotim-danger-color);transition:height 1s ease-in}75%{border-bottom-color:var(--spotim-danger-color);transition:width 1s ease-in}to{border-color:var(--spotim-danger-color);transition:height .5s ease-in}}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","rich-editor":"spcv_rich-editor",richEditor:"spcv_rich-editor","user-image":"spcv_user-image",userImage:"spcv_user-image","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","rich-editor-container":"spcv_rich-editor-container",richEditorContainer:"spcv_rich-editor-container","expand-button":"spcv_expand-button",expandButton:"spcv_expand-button","rich-editor-wrapper":"spcv_rich-editor-wrapper",richEditorWrapper:"spcv_rich-editor-wrapper",hidden:"spcv_hidden","input-wrapper":"spcv_input-wrapper",inputWrapper:"spcv_input-wrapper","input-text":"spcv_input-text",inputText:"spcv_input-text","reply-to-username":"spcv_reply-to-username",replyToUsername:"spcv_reply-to-username","preview-link-view":"spcv_preview-link-view",previewLinkView:"spcv_preview-link-view",expanded:"spcv_expanded",isReply:"spcv_isReply","error-border":"spcv_error-border",errorBorder:"spcv_error-border","rich-editor-error-border-animation-ltr":"spcv_rich-editor-error-border-animation-ltr",richEditorErrorBorderAnimationLtr:"spcv_rich-editor-error-border-animation-ltr","rich-editor-error-border-animation-rtl":"spcv_rich-editor-error-border-animation-rtl",richEditorErrorBorderAnimationRtl:"spcv_rich-editor-error-border-animation-rtl",suspended:"spcv_suspended","stars-rating":"spcv_stars-rating",starsRating:"spcv_stars-rating","has-entity":"spcv_has-entity",hasEntity:"spcv_has-entity",panel:"spcv_panel",caret:"spcv_caret","post-as":"spcv_post-as",postAs:"spcv_post-as",username:"spcv_username"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleEditor=void 0;var c=o(i(85)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=o(i(35)),m=o(i(14)),f=s(i(3)),u=i(92),v=i(82),_=o(i(1525));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var h=function(e){(0,r.default)(i,e);var t=g(i);function i(e){var s;return(0,p.default)(this,i),(s=t.call(this,e)).input=f.default.createRef(),s.inputRef=f.default.createRef(),s.state={value:e.textEntity.text},s}return(0,a.default)(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.text,i=e.editorEventHandlers,s=this.input.current;t&&(s.value=t),Object.keys(i).forEach((function(e){"text-change"===e&&s.addEventListener("keyup",i["text-change"],!1)}))}},{key:"getMentionEntities",value:function(){return[]}},{key:"getTextEntity",value:function(){var e=this.input.current.value;return(0,u.createTextEntityObject)({text:e})}},{key:"focus",value:function(){}},{key:"blur",value:function(){this.input.current.blur()}},{key:"setText",value:function(e){this.input.current.value=e,this.setState({value:e})}},{key:"handleFocus",value:function(){this.props.onFocus(),this.input.current.removeAttribute("rows"),this.setState({isFocused:!0})}},{key:"handleChange",value:function(e){this.setText(e.target.value),this.props.onChange()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,i=e.maxLength,s=e.onBlur,o=e.textEntity,p=this.state,a=(p.value,p.isFocused),r={rows:1,className:(0,m.default)(_.default.simpleEditor,v.isIE&&_.default.isIE,a&&_.default.focused),ref:this.input,onFocus:this.handleFocus.bind(this),onBlur:s,placeholder:t};return i>0&&(r.maxLength=i),f.default.createElement("div",(0,c.default)({ref:this.input},r,{contentEditable:!0,"data-placeholder":t,className:_.default.simpleEditor,id:"spotim-say-config",dangerouslySetInnerHTML:{__html:o.text}}))}}]),i}(f.Component);t.SimpleEditor=h,h.propTypes={placeholder:d.default.string,textEntity:d.default.object,maxLength:d.default.number,onFocus:d.default.func,onBlur:d.default.func,editorEventHandlers:d.default.object},h.defaultProps={placeholder:"Compose an epic...",textEntity:(0,u.createTextEntityObject)(),maxLength:0,onFocus:function(){},onBlur:function(){},editorEventHandlers:{}}},function(e,t,i){var s=i(30),o=i(1526);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_simple-editor{width:calc(100% - 36px);font-size:var(--spotim-font-size-large);font-family:var(--spotim-font-family);outline:none;color:var(--spotim-text-color-x-muted);resize:none;min-height:auto;height:auto;line-height:normal;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_simple-editor{border:none;padding:13px 0;margin:0 18px;background:none;box-shadow:none}@media (max-width:420px){#spotim-specific#spotim-specific .spcv_simple-editor{font-size:16px;font-size:max(16px,var(--spotim-message-font-size-regular))}}#spotim-specific#spotim-specific .spcv_simple-editor.spcv_focused,#spotim-specific#spotim-specific .spcv_simple-editor.spcv_isIE{zoom:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_simple-editor blockquote{margin:0}#spotim-specific#spotim-specific .spcv_simple-editor[contentEditable=true]:empty:not(:focus):before{content:attr(data-placeholder);color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_simple-editor[contentEditable=true]:empty:not(:focus):before{text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_simple-editor[contentEditable=true]:empty:not(:focus):before{text-align:right}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","simple-editor":"spcv_simple-editor",simpleEditor:"spcv_simple-editor",isIE:"spcv_isIE",isIe:"spcv_isIE",focused:"spcv_focused"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(3)),p=s(i(14)),a=s(i(1528)),r=i(1530),n=i(1533),l=s(i(1536)),d=function(e){var t,i,s,o=e.hasText,d=e.isLoading,m=e.isEdit,f=e.showCancelButton,u=e.disableSendButtonWithEmptyText,v=e.displayName,_=e.isMustRegisterToComment,g=e.isLoggedIn,h=e.sendButtonText,y=e.signupButtonText,b=e.hasMediaEntity,x=e.isPostAnyway,w=e.moderationAlert,M=e.isDisplayNameRequired,E=e.showErrorBorder,k=e.onCancel,S=void 0===k?function(){}:k,C=e.onEdit,T=void 0===C?function(){}:C,I=e.onCreate,R=e.onLogin,O=(0,p.default)(a.default.mainButtonsWrapper,((t={})[a.default.edit]=m,t)),P=(0,c.useMemo)((function(){return M&&function(e){return!e||0===e.trim().length}(v)}),[M,v]);if(m)i=c.default.createElement(r.CancelButton,{onCancel:S}),s=c.default.createElement(n.EditButton,{isLoading:d,onEdit:T,hasMediaEntity:b,hasText:o});else{s=c.default.createElement(l.default,{disableButtonWithEmptyText:u,displayName:v,onCreate:I,onLogin:R,isMustRegisterToComment:_,isLoading:d,isLoggedIn:g,hasText:o,isUserDisplayNameEmpty:P,sendButtonText:h,signupButtonText:y,hasMediaEntity:b,withTransition:E,isPostAnyway:w&&x,isDisplayNameRequired:M});f&&(i=c.default.createElement(r.CancelButton,{onCancel:S}))}return c.default.createElement("div",{className:O},w,i,s)};t.default=d},function(e,t,i){var s=i(30),o=i(1529);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_mainButtonsWrapper{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mainButtonsWrapper{margin-top:15px}#spotim-specific#spotim-specific .spcv_mainButtonsWrapper.spcv_edit{-ms-flex-align:initial;align-items:initial}@media (max-width:480px){#spotim-specific#spotim-specific .spcv_mainButtonsWrapper{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mainButtonsWrapper{margin-bottom:9px}#spotim-specific#spotim-specific .spcv_mainButtonsWrapper.spcv_edit{-ms-flex-direction:row;flex-direction:row}}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",mainButtonsWrapper:"spcv_mainButtonsWrapper",edit:"spcv_edit"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.CancelButton=void 0;var o=s(i(3)),c=s(i(1531)),p=i(43),a=i(45);t.CancelButton=function(e){var t=e.onCancel;return o.default.createElement(p.Button,{className:c.default.cancelButton,onClick:t,"data-spot-im-class":"rich-editor-cancel-button"},o.default.createElement(a.TranslationWrapper,{i18nKey:"richEditor.cancel"},"Cancel"))}},function(e,t,i){var s=i(30),o=i(1532);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_cancel-button{-ms-user-select:none;user-select:none;-o-user-select:none;-moz-user-select:none;-khtml-user-select:none;-webkit-user-select:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_cancel-button{cursor:default}#spotim-specific#spotim-specific .spcv_cancel-button{display:inline-block;font-family:Open Sans,Helvetica,Arial,sans-serif;font-size:15px;line-height:18px;min-width:100px;outline:none;transition:background-color .2s ease,border-color .2s ease,opacity .2s ease;white-space:nowrap}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_cancel-button{background-color:transparent;border:0;border-radius:4px;cursor:pointer;padding:0 15px;text-align:center}#spotim-specific#spotim-specific .spcv_cancel-button>*{display:inline-block}#spotim-specific#spotim-specific .spcv_cancel-button>.spcv_icon{vertical-align:middle}#spotim-specific#spotim-specific .spcv_cancel-button,#spotim-specific#spotim-specific .spcv_cancel-button:hover{text-decoration:none}#spotim-specific#spotim-specific .spcv_cancel-button[disabled]{pointer-events:none}#spotim-specific#spotim-specific [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_cancel-button [class*=-icon]+label{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_cancel-button [class*=-icon]+label{margin-right:10px}#spotim-specific#spotim-specific .spcv_cancel-button .spcv_spinner{vertical-align:-2px}#spotim-specific#spotim-specific .spcv_cancel-button .spcv_icon{transition:fill .2s ease}#spotim-specific#spotim-specific .spcv_cancel-button{height:34px;line-height:34px;color:#373e44}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_cancel-button{background-color:rgba(0,0,0,.07)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_cancel-button:hover{background-color:rgba(0,0,0,.15)}#spotim-specific#spotim-specific .spcv_cancel-button[disabled],#spotim-specific#spotim-specific .spcv_disabled.spcv_cancel-button{color:rgba(55,62,68,.5)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_cancel-button[disabled],#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_disabled.spcv_cancel-button{background-color:rgba(0,0,0,.05)}#spotim-specific#spotim-specific body.spcv_grade-c .spcv_cancel-button[disabled],#spotim-specific#spotim-specific body.spcv_grade-c .spcv_disabled.spcv_cancel-button{color:#373e44}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_cancel-button .spcv_spinner{border-bottom-color:rgba(0,0,0,.25);border-top-color:rgba(0,0,0,.25)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_cancel-button .spcv_spinner{border-left-color:#fff;border-right-color:rgba(0,0,0,.25)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_cancel-button .spcv_spinner{border-right-color:#fff;border-left-color:rgba(0,0,0,.25)}#spotim-specific#spotim-specific .spcv_cancel-button{color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_cancel-button{background:transparent}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_cancel-button{margin-right:9px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_cancel-button{margin-left:9px}#spotim-specific#spotim-specific .spcv_cancel-button:hover{min-width:100px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_cancel-button:hover{background:transparent}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","cancel-button":"spcv_cancel-button",cancelButton:"spcv_cancel-button",icon:"spcv_icon",spinner:"spcv_spinner",disabled:"spcv_disabled","grade-c":"spcv_grade-c",gradeC:"spcv_grade-c"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.EditButton=void 0;var c=o(i(3)),p=s(i(90)),a=s(i(1534)),r=i(45),n=i(43);t.EditButton=function(e){var t=e.isLoading,i=void 0!==t&&t,s=e.hasText,o=e.hasMediaEntity,l=e.onEdit,d=(0,c.useRef)(null),m=(0,c.useState)(0),f=m[0],u=m[1];return(0,c.useEffect)((function(){if(d.current){var e=d.current.getBoundingClientRect();u(e.width)}}),[]),c.default.createElement(n.Button,{mode:"primary",className:a.default.updateButton,disabled:!(s||o),onClick:l,"data-spot-im-class":"rich-editor-update-button",ref:d,style:i?{width:f+"px"}:void 0},i?c.default.createElement(p.default,null):c.default.createElement(r.TranslationWrapper,{i18nKey:"richEditor.update"},"Update"))}},function(e,t,i){var s=i(30),o=i(1535);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_update-button{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_update-button{padding:0 30px!important}#spotim-specific#spotim-specific .spcv_update-button[disabled]{opacity:.6}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_update-button[disabled]{cursor:default}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","update-button":"spcv_update-button",updateButton:"spcv_update-button"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SendButton=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=o(i(65)),m=o(i(35)),f=s(i(3)),u=i(42),v=o(i(14)),_=i(43),g=i(45),h=o(i(90)),y=o(i(1537)),b=o(i(57)),x=i(44);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var M=function(e){(0,r.default)(i,e);var t=w(i);function i(e){var s;return(0,p.default)(this,i),(s=t.call(this,e)).buttonRef=f.default.createRef(),s.enableLoginButton=function(){var e=s.props,t=e.hasText,i=e.hasMediaEntity,o=e.isLoggedIn,c=e.isMustRegisterToComment;return!(t||i)&&c&&!o},s.handleSendButtonKeyUp=function(e){13===e.keyCode&&s.handleClick()},s.state={sendMessageAfterConnect:0,buttonWidth:0,isPostPage:s.props.contentType===x.ContentType.Post},s}return(0,a.default)(i,[{key:"componentDidMount",value:function(){if(this.buttonRef.current){var e=this.buttonRef.current.getBoundingClientRect();this.setState({buttonWidth:e.width})}}},{key:"componentDidUpdate",value:function(){var e=this;2===this.state.sendMessageAfterConnect&&(this.setState({sendMessageAfterConnect:0}),setTimeout((function(){e.handleClick()}),1))}},{key:"handleClick",value:function(){var e=this.props,t=e.isLoading,i=e.isLoggedIn,s=e.onCreate,o=e.isMustRegisterToComment,c=e.onLogin,p=e.convId;t||(o&&!i||this.enableLoginButton()?c():this.isDisabled()||(this.state.isPostPage&&this.props.tracking.trackEvent({type:"posted",ugc_post_id:p,source:"post-page"}),s()))}},{key:"isDisabled",value:function(){var e=this.props,t=e.hasText,i=e.hasMediaEntity,s=e.isUserDisplayNameEmpty,o=e.isLoggedIn,c=e.withTransition,p=e.isPostAnyway,a=e.isUserSuspended,r=e.isDisplayNameRequired;return(!(t||i)||a||c&&!p||s&&r&&!1===o)&&!this.enableLoginButton()}},{key:"render",value:function(){var e,t=this.props,i=t.isLoading,s=t.sendButtonText,o=t.signupButtonText,p=t.isMustRegisterToComment,a=t.isLoggedIn,r=t.disableButtonWithEmptyText,n=t.isPostAnyway,l=t.withTransition,d=t.isUserSuspended,m=null;m=i?f.default.createElement(h.default,null):!a&&p?f.default.createElement(g.TranslationWrapper,{i18nKey:"richEditor.mustRegisterToComment",textOverride:o},"Sign up to post"):n&&!d?f.default.createElement(g.TranslationWrapper,{i18nKey:"richEditor.postAnyway"},"Post Anyway"):f.default.createElement(g.TranslationWrapper,{i18nKey:"richEditor.post",textOverride:s},"Send");var u=(0,v.default)(y.default.sendButton,(e={},(0,c.default)(e,y.default.disabled,this.isDisabled()&&r),(0,c.default)(e,y.default.slideDown,l),(0,c.default)(e,y.default.postAnyway,n),e));return f.default.createElement(_.Button,{className:u,mode:"primary",disabled:this.isDisabled()&&r,onClick:this.handleClick.bind(this),"data-spot-im-class":"rich-editor-send-button",ref:this.buttonRef,style:i?{width:"".concat(this.state.buttonWidth,"px")}:null},m)}}]),i}(f.Component);t.SendButton=M,M.displayName="SendButton",M.propTypes={onLogin:m.default.func.isRequired,onCreate:m.default.func.isRequired,convId:m.default.string.isRequired,isLoggedIn:m.default.bool,isMustRegisterToComment:m.default.bool,isUserDisplayNameEmpty:m.default.bool,isLoading:m.default.bool,hasText:m.default.bool,hasMedia:m.default.bool,sendButtonText:m.default.string,signupButtonText:m.default.string,disableButtonWithEmptyText:m.default.bool,spotId:m.default.string,hasMediaEntity:m.default.bool,isPostAnyway:m.default.bool,withTransition:m.default.bool,isDisplayNameRequired:m.default.bool,contentType:m.default.string},M.defaultProps={isUserDisplayNameEmpty:!0,isLoading:!1,hasText:!1,disableButtonWithEmptyText:!0,sendButtonText:void 0,signupButtonText:void 0,isPostAnyway:!1,withTransition:!1,isDisplayNameRequired:!1},M.contextTypes={analyticsTrack:m.default.func.isRequired};var E=(0,d.default)((0,u.connect)((function(e){var t;return{isUserSuspended:null===(t=e.userSuspension)||void 0===t?void 0:t.isUserSuspended,spotId:e.moduleOptions.spotId,contentType:e.conversation.contentType,convId:e.conversation.id}})),(0,b.default)({}))(M);t.default=E},function(e,t,i){var s=i(30),o=i(1538);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_send-button{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:34px;line-height:34px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_send-button{padding:0 30px!important}#spotim-specific#spotim-specific .spcv_send-button[disabled]{opacity:.6}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_send-button[disabled]{cursor:default}#spotim-specific#spotim-specific .spcv_send-button>:not(.spcv_spinner){display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_send-button>:not(.spcv_spinner){padding:4px 0 5px}#spotim-specific#spotim-specific .spcv_send-button.spcv_post-anyway{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;transition:all .3s linear .1s}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_send-button.spcv_post-anyway{background-color:var(--spotim-danger-color)}#spotim-specific#spotim-specific .spcv_send-button.spcv_post-anyway .spcv_post-anyway-text{width:-webkit-max-content;width:max-content}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_send-button.spcv_post-anyway:not([disabled]):focus,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_send-button.spcv_post-anyway:not([disabled]):hover{background-color:var(--spotim-danger-color)}#spotim-specific#spotim-specific .spcv_send-button.spcv_post-anyway:not([disabled]):focus:before,#spotim-specific#spotim-specific .spcv_send-button.spcv_post-anyway:not([disabled]):hover:before{opacity:0}@media (max-width:480px){#spotim-specific#spotim-specific .spcv_send-button{-ms-flex-item-align:end;align-self:flex-end}}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_send-button{width:100%;max-width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_send-button.spcv_slide-down{margin-top:12px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_send-button.spcv_slide-down,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_send-button.spcv_slide-down{animation:spcv_post-anyway-animation .5s ease-in-out;animation-fill-mode:forwards}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_send-button:focus{outline:auto!important;outline-offset:-4px!important}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_tab-mode .spcv_send-button:focus{background-color:#286bc0!important}@keyframes spcv_post-anyway-animation{0%{transform:translateY(-45px)}to{transform:none}}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","send-button":"spcv_send-button",sendButton:"spcv_send-button",spinner:"spcv_spinner","post-anyway":"spcv_post-anyway",postAnyway:"spcv_post-anyway","post-anyway-text":"spcv_post-anyway-text",postAnywayText:"spcv_post-anyway-text","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","slide-down":"spcv_slide-down",slideDown:"spcv_slide-down","post-anyway-animation":"spcv_post-anyway-animation",postAnywayAnimation:"spcv_post-anyway-animation"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.onUsernameChange=function(e){return function(t,i){var s=i().currentUser;p(t,s,e)}};var o=s(i(632)),c=i(39),p=(0,o.default)((function(e,t,i){var s;localStorage.setItem("SPOTIM_GUEST_DISPLAY_NAME",JSON.stringify(((s={})[t.id]=i,s))),e({type:c.CHANGE_USER_DISPLAY_NAME,payload:{displayName:i}})}),500)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterContractionEvent=t.registerContractionEvent=t.isWithCloseButton=t.getOnClick=t.getDisableUserImageUpload=t.showToolTip=t.getPlaceHolderText=t.setIsExpanded=t.getMaxLength=void 0;t.getMaxLength=function(){return 1500};t.setIsExpanded=function(){};t.getPlaceHolderText=function(e){return e};t.showToolTip=function(){return!1};t.getDisableUserImageUpload=function(e){return e.disableUserImageUpload};t.getOnClick=function(){return null};t.isWithCloseButton=function(){return!1};t.registerContractionEvent=function(e){document.addEventListener("click",e)};t.unregisterContractionEvent=function(e){document.removeEventListener("click",e)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRichBarVisibleOnMount=void 0;t.isRichBarVisibleOnMount=!0},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TypingUsers=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=s(i(3)),d=o(i(35)),m=o(i(14)),f=i(42),u=i(336),v=s(i(100)),_=i(105),g=i(629),h=i(134),y=o(i(1543));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var x=function(e){(0,a.default)(i,e);var t=b(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"shouldComponentUpdate",value:function(e){return e.typingUsers.length!==this.props.typingUsers.length}},{key:"render",value:function(){var e=this.props,t=e.messageStack,i=e.typingUsers,s=e.repliesMaxDepth,o=e.avatarsTheme,c=e.optimizedMessageStack,p=e.typingUsersCount,a=e.spotId,r=Math.min(t.message.depth,s),n=(0,m.default)(y.default.typingUsers,y.default["depth-".concat(r)]),d=l.default.createElement(g.ConversationTyping,{className:n,users:i,typingUsersCount:p,avatarsTheme:o,size:"small",spotId:a});return c?d:l.default.createElement(u.ViewportGuard,{viewportObserver:_.viewportObserver},d)}}]),i}(l.Component);t.TypingUsers=x,x.propTypes={messageStack:d.default.object.isRequired,typingUsers:d.default.arrayOf(d.default.object).isRequired,avatarsTheme:d.default.string,repliesMaxDepth:d.default.number,spotId:d.default.string};var w=(0,f.connect)((function(e,t){var i=t.messageStack,s=v.getMessage(i).id,o=e.moduleOptions,c=o.avatarsTheme,p=o.spotId,a=e.ui.optimizedMessageStack;return{repliesMaxDepth:e.moduleOptions.repliesMaxDepth,avatarsTheme:c,typingUsers:(0,h.getTypingStateOfUsers)(e,s),typingUsersCount:(0,h.getTypingsCount)(e,s),optimizedMessageStack:a,spotId:p}}))(x);t.default=w},function(e,t,i){var s=i(30),o=i(1544);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_typing-users{-ms-flex-pack:start;justify-content:flex-start}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_typing-users{margin-top:20px;margin-bottom:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-users.spcv_depth-1{margin-left:78px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-users.spcv_depth-1{margin-right:78px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_typing-users.spcv_depth-1{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_typing-users.spcv_depth-1{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-users.spcv_depth-2{margin-left:117px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-users.spcv_depth-2{margin-right:117px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_typing-users.spcv_depth-2{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_typing-users.spcv_depth-2{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-users.spcv_depth-3{margin-left:156px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-users.spcv_depth-3{margin-right:156px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_typing-users.spcv_depth-3{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_typing-users.spcv_depth-3{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-users.spcv_depth-4{margin-left:195px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-users.spcv_depth-4{margin-right:195px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_typing-users.spcv_depth-4{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_typing-users.spcv_depth-4{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-users.spcv_depth-5{margin-left:234px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-users.spcv_depth-5{margin-right:234px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_typing-users.spcv_depth-5{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_typing-users.spcv_depth-5{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-users.spcv_depth-6{margin-left:273px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-users.spcv_depth-6{margin-right:273px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_typing-users.spcv_depth-6{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_typing-users.spcv_depth-6{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-users.spcv_depth-7{margin-left:312px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-users.spcv_depth-7{margin-right:312px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_typing-users.spcv_depth-7{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_typing-users.spcv_depth-7{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_typing-users.spcv_depth-0{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_typing-users.spcv_depth-0{margin-right:39px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","typing-users":"spcv_typing-users",typingUsers:"spcv_typing-users","depth-1":"spcv_depth-1",depth1:"spcv_depth-1","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","depth-2":"spcv_depth-2",depth2:"spcv_depth-2","depth-3":"spcv_depth-3",depth3:"spcv_depth-3","depth-4":"spcv_depth-4",depth4:"spcv_depth-4","depth-5":"spcv_depth-5",depth5:"spcv_depth-5","depth-6":"spcv_depth-6",depth6:"spcv_depth-6","depth-7":"spcv_depth-7",depth7:"spcv_depth-7","depth-0":"spcv_depth-0",depth0:"spcv_depth-0"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ShowPreviousReplies=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=s(i(3)),m=o(i(35)),f=i(42),u=o(i(14)),v=(o(i(183)),o(i(46))),_=i(304),g=o(i(218)),h=o(i(1546)),y=i(689),b=o(i(690)),x=i(45);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var M=function(e){(0,r.default)(i,e);var t=w(i);function i(){var e;(0,p.default)(this,i);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={isLoading:!1},e.showPreviousReplies=function(){var t=e.props,i=t.messageStack,s=t.onShowPreviousReplies;e.setState({isLoading:!0}),s(i)},e}return(0,a.default)(i,[{key:"componentWillReceiveProps",value:function(){this.state.isLoading&&this.setState({isLoading:!1})}},{key:"render",value:function(){var e=this.props,t=e.messageStack,i=e.moreCount,s=e.repliesMaxDepth,o=this.state.isLoading;return t.hasNext&&t.childrenStackIds.length>0?d.default.createElement("div",{className:(0,u.default)(h.default.showPreviousReplies,h.default["depth-".concat(Math.min(t.message.depth,s))],(0,c.default)({},h.default.loading,o))},d.default.createElement(y.Button,{className:h.default.link,onClick:this.showPreviousReplies},d.default.createElement("span",{className:h.default.showMoreRepliesText},d.default.createElement(x.TranslationWrapper,{i18nKey:"inpage.conversation.showPreviousMessages",count:i,values:{messagesCount:i}})),d.default.createElement(v.default,{selector:"chevronDownIcon",className:h.default.chevron})),o&&d.default.createElement(b.default,null)):null}}]),i}(d.Component);t.ShowPreviousReplies=M,M.propTypes={messageStack:m.default.object.isRequired,moreCount:m.default.number,onShowPreviousReplies:m.default.func,repliesMaxDepth:m.default.number},M.defaultProps={moreCount:0,onShowPreviousReplies:function(){}};var E=(0,f.connect)((function(e,t){var i=t.messageStack,s=e.comments,o=e.moduleOptions.repliesMaxDepth;return{moreCount:(0,_.getMoreCount)(s,i),repliesMaxDepth:o}}),{onShowPreviousReplies:g.default})(M);t.default=E},function(e,t,i){var s=i(30),o=i(1547);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_show-previous-replies{font-size:var(--spotim-font-size-medium)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-previous-replies{margin-top:30px;cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_depth-0{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_depth-0{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_depth-1{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_depth-1{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_depth-2{margin-left:78px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_depth-2{margin-right:78px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_depth-3{margin-left:117px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_depth-3{margin-right:117px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_depth-4{margin-left:156px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_depth-4{margin-right:156px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_depth-5{margin-left:195px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_depth-5{margin-right:195px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_depth-6{margin-left:234px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_depth-6{margin-right:234px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_depth-7{margin-left:273px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_depth-7{margin-right:273px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-0{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-0{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-1{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-1{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-2{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-2{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-3{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-3{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-4{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-4{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-5{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-5{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-6{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-6{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-7{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-previous-replies.spcv_depth-7{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-previous-replies,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-previous-replies{margin-left:27px;margin-right:27px}#spotim-specific#spotim-specific .spcv_show-previous-replies .spcv_spinner{display:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-previous-replies .spcv_spinner{margin:0}#spotim-specific#spotim-specific .spcv_show-previous-replies .spcv_link{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline;overflow:initial}#spotim-specific#spotim-specific .spcv_show-previous-replies .spcv_show-more-replies-text{color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_loading.spcv_depth-0{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_loading.spcv_depth-0{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_loading.spcv_depth-1{margin-left:78px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_loading.spcv_depth-1{margin-right:78px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_loading.spcv_depth-2{margin-left:117px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_loading.spcv_depth-2{margin-right:117px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_loading.spcv_depth-3{margin-left:156px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_loading.spcv_depth-3{margin-right:156px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_loading.spcv_depth-4{margin-left:195px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_loading.spcv_depth-4{margin-right:195px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_loading.spcv_depth-5{margin-left:234px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_loading.spcv_depth-5{margin-right:234px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_loading.spcv_depth-6{margin-left:273px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_loading.spcv_depth-6{margin-right:273px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies.spcv_loading.spcv_depth-7{margin-left:312px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies.spcv_loading.spcv_depth-7{margin-right:312px}#spotim-specific#spotim-specific .spcv_show-previous-replies.spcv_loading .spcv_spinner{display:block;pointer-events:none;position:relative;bottom:10px}#spotim-specific#spotim-specific .spcv_show-previous-replies.spcv_loading .spcv_link{display:none}#spotim-specific#spotim-specific .spcv_show-previous-replies .spcv_chevron{width:5px;height:8px;overflow:initial}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-previous-replies .spcv_chevron{margin-left:5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-previous-replies .spcv_chevron{margin-right:5px}#spotim-specific#spotim-specific .spcv_show-previous-replies .spcv_chevron svg{fill:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific .spcv_show-previous-replies .spcv_chevron .spcv_chevron{display:none}#spotim-specific#spotim-specific .spcv_dark .spcv_show-previous-replies span{color:#d4d6d7}#spotim-specific#spotim-specific .spcv_dark .spcv_show-previous-replies .spcv_chevron{fill:#d4d6d7}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_live-blog .spcv_show-previous-replies{margin-bottom:-10px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","show-previous-replies":"spcv_show-previous-replies",showPreviousReplies:"spcv_show-previous-replies","depth-0":"spcv_depth-0",depth0:"spcv_depth-0","depth-1":"spcv_depth-1",depth1:"spcv_depth-1","depth-2":"spcv_depth-2",depth2:"spcv_depth-2","depth-3":"spcv_depth-3",depth3:"spcv_depth-3","depth-4":"spcv_depth-4",depth4:"spcv_depth-4","depth-5":"spcv_depth-5",depth5:"spcv_depth-5","depth-6":"spcv_depth-6",depth6:"spcv_depth-6","depth-7":"spcv_depth-7",depth7:"spcv_depth-7","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",spinner:"spcv_spinner",link:"spcv_link","show-more-replies-text":"spcv_show-more-replies-text",showMoreRepliesText:"spcv_show-more-replies-text",loading:"spcv_loading",chevron:"spcv_chevron",dark:"spcv_dark","live-blog":"spcv_live-blog",liveBlog:"spcv_live-blog"}},function(e,t,i){var s=i(30),o=i(1549);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"#spotim-specific#spotim-specific .spcv_emptyButton{outline:none;line-height:1;max-width:100%;box-sizing:border-box;font-family:inherit;font-size:inherit}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_emptyButton{padding:0;background-color:transparent;border:none;cursor:pointer}#spotim-specific#spotim-specific .spcv_emptyButton[disabled]{opacity:.5}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_emptyButton:hover{background-color:transparent}",""]),t.locals={emptyButton:"spcv_emptyButton"}},function(e,t,i){var s=i(30),o=i(1551);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_messageContentLoader{margin-bottom:-50px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_messageContentLoader{transform:translate(-35px,-47px)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_messageContentLoader{transform:translate(35px,-47px)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_messageContentLoader{margin-bottom:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_messageContentLoader{transform:translate(-20px,-25px)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_messageContentLoader{transform:translate(20px,-25px)}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",messageContentLoader:"spcv_messageContentLoader","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ShowMoreReplies=void 0;var c=o(i(85)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=s(i(3)),m=o(i(35)),f=i(42),u=i(66),v=s(i(100)),_=o(i(137)),g=i(304),h=s(i(48)),y=o(i(691)),b=i(121),x=i(50);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var M=function(e){(0,r.default)(s,e);var t=w(s);function s(e){var o;return(0,p.default)(this,s),(o=t.call(this,e)).getShowMoreRepliesComponent=function(){return i(691).default},o.showMoreReplies=function(){var e=o.props,t=e.messageStack,i=e.hostProviderNotify,s=e.postId,c=t.message.id,p={message_id:c,type:"load-more-replies-clicked",post_id:s};(0,x.analyticsTrack)(p),o.props.onShowMoreReplies(c),i(b.CLICKED_SHOW_MORE_REPLIES_EVENT_NAME,c)},o.ShowMoreReplies=o.getShowMoreRepliesComponent(),o}return(0,a.default)(s,[{key:"componentDidUpdate",value:function(e){e.isLoading&&!this.props.isLoading&&this.props.onDoneLoading()}},{key:"render",value:function(){return d.default.createElement(y.default,(0,c.default)({showMoreReplies:this.showMoreReplies},this.props))}}]),s}(d.Component);t.ShowMoreReplies=M,M.propTypes={messageStack:m.default.object.isRequired,onShowMoreReplies:m.default.func,isLoading:m.default.bool,moreCount:m.default.number,isLastMessageInThread:m.default.bool,enableShowMore:m.default.bool,allCount:m.default.number,forceMessagesCollapsed:m.default.bool,onDoneLoading:m.default.func,numNewComments:m.default.number,numCollapsedChildren:m.default.number,hostProviderNotify:m.default.func,onClick:m.default.func,depth:m.default.number},M.defaultProps={onShowMoreReplies:function(){},onDoneLoading:function(){},enableShowMore:!0,hostProviderNotify:function(){}};var E=(0,f.connect)((function(e,t){var i=t.messageStack,s=t.isLastMessageInThread,o=t.numCollapsedChildren,c=v.getMessage(i),p=e.loadingReplies,a=!h.isLiveBlog(e),r=(0,u.getModuleOptions)(e).spotId,n=e.moduleOptions.postId;return{isLoading:!o&&p.isLoading&&p.rootMessageId===c.id,isLastMessageInThread:s,enableShowMore:a,moreCount:(0,g.getMoreCount)(e.comments,i),allCount:(0,g.getAllCount)(e.comments,i),spotId:r,postId:n}}),{onShowMoreReplies:_.default})(M);t.default=E},function(e,t,i){var s=i(30),o=i(1554);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_show-more-replies{position:relative;display:-ms-flexbox;display:flex;font-size:var(--spotim-font-size-medium)}#spotim-specific#spotim-specific .spcv_show-more-replies .spcv_spinner{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_depth-0{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_depth-0{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_depth-1{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_depth-1{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_depth-2{margin-left:78px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_depth-2{margin-right:78px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_depth-3{margin-left:117px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_depth-3{margin-right:117px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_depth-4{margin-left:156px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_depth-4{margin-right:156px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_depth-5{margin-left:195px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_depth-5{margin-right:195px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_depth-6{margin-left:234px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_depth-6{margin-right:234px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_depth-7{margin-left:273px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_depth-7{margin-right:273px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-0{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-0{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-1{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-1{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-2{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-2{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-3{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-3{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-4{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-4{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-5{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-5{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-6{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-6{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-7{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_show-more-replies.spcv_depth-7{margin-right:10px}#spotim-specific#spotim-specific .spcv_show-more-replies .spcv_chevron{display:-ms-flexbox;display:flex;width:10px;height:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies .spcv_chevron{margin-left:5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies .spcv_chevron{margin-right:5px}#spotim-specific#spotim-specific .spcv_show-more-replies .spcv_chevron svg g,#spotim-specific#spotim-specific .spcv_show-more-replies .spcv_chevron svg path{fill:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-more-replies.spcv_last-message{margin-top:18px}#spotim-specific#spotim-specific .spcv_conversation-view.spcv_live-blog .spcv_show-more-replies.spcv_last-message:after{display:none}#spotim-specific#spotim-specific .spcv_show-more-replies .spcv_show-more-replies-button{color:var(--spotim-text-color-x-muted);text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-more-replies .spcv_show-more-replies-button{margin-bottom:18px}#spotim-specific#spotim-specific .spcv_show-more-replies .spcv_show-more-replies-button svg{fill:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-more-replies.spcv_show-more{padding:0;margin-bottom:1px}#spotim-specific#spotim-specific .spcv_show-more-replies.spcv_loading{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_loading.spcv_depth-0{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_loading.spcv_depth-0{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_loading.spcv_depth-1{margin-left:78px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_loading.spcv_depth-1{margin-right:78px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_loading.spcv_depth-2{margin-left:117px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_loading.spcv_depth-2{margin-right:117px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_loading.spcv_depth-3{margin-left:156px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_loading.spcv_depth-3{margin-right:156px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_loading.spcv_depth-4{margin-left:195px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_loading.spcv_depth-4{margin-right:195px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_loading.spcv_depth-5{margin-left:234px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_loading.spcv_depth-5{margin-right:234px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_loading.spcv_depth-6{margin-left:273px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_loading.spcv_depth-6{margin-right:273px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_show-more-replies.spcv_loading.spcv_depth-7{margin-left:312px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_show-more-replies.spcv_loading.spcv_depth-7{margin-right:312px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_show-more-replies.spcv_loading .spcv_show-more-replies-button{padding:2px}#spotim-specific#spotim-specific .spcv_showMoreRepliesArrow{width:12px;height:9px}#spotim-specific#spotim-specific .spcv_showText{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","show-more-replies":"spcv_show-more-replies",showMoreReplies:"spcv_show-more-replies",spinner:"spcv_spinner","depth-0":"spcv_depth-0",depth0:"spcv_depth-0","depth-1":"spcv_depth-1",depth1:"spcv_depth-1","depth-2":"spcv_depth-2",depth2:"spcv_depth-2","depth-3":"spcv_depth-3",depth3:"spcv_depth-3","depth-4":"spcv_depth-4",depth4:"spcv_depth-4","depth-5":"spcv_depth-5",depth5:"spcv_depth-5","depth-6":"spcv_depth-6",depth6:"spcv_depth-6","depth-7":"spcv_depth-7",depth7:"spcv_depth-7","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",chevron:"spcv_chevron","last-message":"spcv_last-message",lastMessage:"spcv_last-message","conversation-view":"spcv_conversation-view",conversationView:"spcv_conversation-view","live-blog":"spcv_live-blog",liveBlog:"spcv_live-blog","show-more-replies-button":"spcv_show-more-replies-button",showMoreRepliesButton:"spcv_show-more-replies-button","show-more":"spcv_show-more",showMore:"spcv_show-more",loading:"spcv_loading",showMoreRepliesArrow:"spcv_showMoreRepliesArrow",showText:"spcv_showText"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PostMessageAction=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=s(i(3)),m=i(42),f=i(66),u=o(i(4));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var _=(0,d.lazy)((function(){return Promise.all([i.e(25),i.e(62)]).then(i.t.bind(null,1873,7))})),g=function(e){(0,a.default)(i,e);var t=v(i);function i(e){return(0,c.default)(this,i),t.call(this,e)}return(0,p.default)(i,[{key:"render",value:function(){var e=this.props,t=e.isLegacyEnabled,i=e.repliesMaxDepth,s=e.message,o=e.isConnectEnabled,c=e.enableSSO,p=e.disableSignupWizard,a=o&&!c&&!p,r=t&&u.default.get("tenant_config.conversation.signup_cta_enabled",!0),n=null;return a&&r&&(n=d.default.createElement(d.Suspense,{fallback:null},d.default.createElement(_,{depth:Math.min(s.depth,i),isExpanded:!1,username:s.userDisplayName,message:s}))),n}}]),i}(d.Component);t.PostMessageAction=g,g.displayName="PostMessageAction",g.propTypes={message:l.default.object.isRequired,isLegacyEnabled:l.default.bool,repliesMaxDepth:l.default.number,spotId:l.default.string,enableSSO:l.default.bool,isConnectEnabled:l.default.bool,disableSignupWizard:l.default.bool.isRequired},g.defaultProps={isEnabled:!0,repliesMaxDepth:Number.MAX_VALUE};var h=(0,m.connect)((function(e){var t=(0,f.getModuleOptions)(e);return{spotId:t.spotId,isConnectEnabled:t.isConnectEnabled,enableSSO:t.enableSSO,disableSignupWizard:t.disableSignupWizard}}))(g);t.default=h},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.showHighlightMessageSticky=function(e,t,i,s,o){return n.apply(this,arguments)};var o=s(i(40)),c=s(i(77)),p=s(i(41)),a=i(1557),r=i(51);function n(){return(n=(0,p.default)(o.default.mark((function e(t,i,s,p,n){var l,d,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=(0,a.extractMessageData)(t,s,i,n),e.next=3,r.hostProvider.showHighlightMessageSticky(l);case 3:d=e.sent,m=(0,c.default)(d,1),"clicked"===m[0]&&p({messageId:t.id});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,i){"use strict";var s=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.extractMessageData=function(e,t,i,s){var a=e.user,r=(0,o.isAvatar)(t,a.imageId);return{messageId:e.id,svgAvatar:r?{color:(0,o.getColorName)(t,a.imageId),avatar:a.imageId,theme:t}:void 0,imageUrl:r?void 0:c.getThumbnailUrl(a,{width:34,height:34}),linkText:s("sticky.viewInConversation"),direction:i,displayName:e.userDisplayName||c.getDisplayName(a),messageText:p.getCleanText(e),isOnline:a.isOnline}};var o=i(692),c=s(i(68)),p=s(i(86))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expandChildren=function(e){return{type:s.EXPAND_CHILDREN,payload:e}};var s=i(39)},function(e,t,i){var s=i(30),o=i(1560);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack{text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack{text-align:right}@media only screen and (min-width:551px){#spotim-specific#spotim-specific .spcv_message-stack .spcv_message-context-menu:not(.spcv_opened){visibility:hidden}#spotim-specific#spotim-specific .spcv_message-stack:hover .spcv_message-context-menu:not(.spcv_opened){visibility:visible}}#spotim-specific#spotim-specific .spcv_message-stack .spcv_message-view.spcv_immediate-mark{z-index:200}#spotim-specific#spotim-specific .spcv_message-stack .spcv_message-view .spcv_actions{position:relative;top:-1px}#spotim-specific#spotim-specific .spcv_message-stack .spcv_appearance-component.spcv_collapsed{height:0;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] body.spcv_grade-c .spcv_message-stack .spcv_appearance-component{border-bottom:1px solid transparent}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_message-stack:last-child .spcv_message-view.spcv_depth-1:before{bottom:20px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-stack .spcv_reply-wrapper,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_message-stack .spcv_rich-editor{margin-top:20px}#spotim-specific#spotim-specific .spcv_message-stack .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific .spcv_message-stack .spcv_rich-editor.spcv_depth-0{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-0{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-0{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-0.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-0.spcv_replied{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-0.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-0.spcv_replied{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-0{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-0{margin-right:0}#spotim-specific#spotim-specific .spcv_message-stack .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific .spcv_message-stack .spcv_rich-editor.spcv_depth-1{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-1{margin-left:78px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-1{margin-right:78px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-1.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-1.spcv_replied{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-1.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-1.spcv_replied{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-1{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-1{margin-right:0}#spotim-specific#spotim-specific .spcv_message-stack .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific .spcv_message-stack .spcv_rich-editor.spcv_depth-2{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-2{margin-left:117px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-2{margin-right:117px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-2.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-2.spcv_replied{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-2.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-2.spcv_replied{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-2{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-2{margin-right:0}#spotim-specific#spotim-specific .spcv_message-stack .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific .spcv_message-stack .spcv_rich-editor.spcv_depth-3{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-3{margin-left:156px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-3{margin-right:156px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-3.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-3.spcv_replied{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-3.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-3.spcv_replied{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-3{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-3{margin-right:0}#spotim-specific#spotim-specific .spcv_message-stack .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific .spcv_message-stack .spcv_rich-editor.spcv_depth-4{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-4{margin-left:195px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-4{margin-right:195px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-4.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-4.spcv_replied{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-4.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-4.spcv_replied{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-4{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-4{margin-right:0}#spotim-specific#spotim-specific .spcv_message-stack .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific .spcv_message-stack .spcv_rich-editor.spcv_depth-5{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-5{margin-left:234px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-5{margin-right:234px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-5.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-5.spcv_replied{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-5.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-5.spcv_replied{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-5{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-5{margin-right:0}#spotim-specific#spotim-specific .spcv_message-stack .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific .spcv_message-stack .spcv_rich-editor.spcv_depth-6{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-6{margin-left:273px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-6{margin-right:273px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-6.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-6.spcv_replied{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-6.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-6.spcv_replied{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-6{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-6{margin-right:0}#spotim-specific#spotim-specific .spcv_message-stack .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific .spcv_message-stack .spcv_rich-editor.spcv_depth-7{display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-7{margin-left:312px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-7{margin-right:312px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-7.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_message-stack .spcv_rich-editor.spcv_depth-7.spcv_replied{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_reply-wrapper.spcv_depth-7.spcv_replied,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_message-stack .spcv_rich-editor.spcv_depth-7.spcv_replied{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-7{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_message-stack .spcv_rich-editor.spcv_depth-7{margin-right:0}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","message-stack":"spcv_message-stack",messageStack:"spcv_message-stack","message-context-menu":"spcv_message-context-menu",messageContextMenu:"spcv_message-context-menu",opened:"spcv_opened","message-view":"spcv_message-view",messageView:"spcv_message-view","immediate-mark":"spcv_immediate-mark",immediateMark:"spcv_immediate-mark",actions:"spcv_actions","appearance-component":"spcv_appearance-component",appearanceComponent:"spcv_appearance-component",collapsed:"spcv_collapsed","grade-c":"spcv_grade-c",gradeC:"spcv_grade-c","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","depth-1":"spcv_depth-1",depth1:"spcv_depth-1","rich-editor":"spcv_rich-editor",richEditor:"spcv_rich-editor","reply-wrapper":"spcv_reply-wrapper",replyWrapper:"spcv_reply-wrapper","depth-0":"spcv_depth-0",depth0:"spcv_depth-0",replied:"spcv_replied","depth-2":"spcv_depth-2",depth2:"spcv_depth-2","depth-3":"spcv_depth-3",depth3:"spcv_depth-3","depth-4":"spcv_depth-4",depth4:"spcv_depth-4","depth-5":"spcv_depth-5",depth5:"spcv_depth-5","depth-6":"spcv_depth-6",depth6:"spcv_depth-6","depth-7":"spcv_depth-7",depth7:"spcv_depth-7"}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_root-message{position:relative;opacity:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_root-message{border:none;padding-bottom:1px}#spotim-specific#spotim-specific .spcv_root-message:after{content:"";position:absolute;bottom:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_root-message:after{border-bottom:1px solid var(--spotim-message-separator-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message:after,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message:after{left:-12px;right:-12px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message:after,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message:after{left:-6px;right:-6px}#spotim-specific#spotim-specific .spcv_root-message.spcv_isEdit:after{display:none}#spotim-specific#spotim-specific .spcv_root-message .spcv_children-list{list-style:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_root-message .spcv_children-list{padding:0;margin:0}#spotim-specific#spotim-specific .spcv_conversation-view.spcv_live-blog .spcv_root-message .spcv_children-list:not(.spcv_empty):before{content:"";display:block}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation-view.spcv_live-blog .spcv_root-message .spcv_children-list:not(.spcv_empty):before{border-top:1px solid #d4d6d7;margin-top:5px;margin-bottom:6px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation-view.spcv_live-blog .spcv_root-message .spcv_children-list:not(.spcv_empty):before{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation-view.spcv_live-blog .spcv_root-message .spcv_children-list:not(.spcv_empty):before{margin-right:39px}#spotim-specific#spotim-specific .spcv_root-message.spcv_isLiveBlog:after{content:"";position:absolute;top:75px;width:0;z-index:-1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message.spcv_isLiveBlog:after{border-left:1px solid var(--spotim-message-separator-color);left:20px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message.spcv_isLiveBlog:after{border-right:1px solid var(--spotim-message-separator-color);right:20px}#spotim-specific#spotim-specific li:last-child .spcv_root-message.spcv_isLiveBlog:before{bottom:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_safari .spcv_root-message.spcv_isLiveBlog .spcv_children-list{margin-top:20px}#spotim-specific#spotim-specific .spcv_root-message.spcv_is-live-blog-no-user-image:after{top:25px;bottom:-20px}#spotim-specific#spotim-specific .spcv_root-message.spcv_isLastMessage:before{content:"";position:absolute;top:75px;width:0;z-index:-1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message.spcv_isLastMessage:before{border-left:1px solid var(--spotim-message-separator-color);left:20px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message.spcv_isLastMessage:before{border-right:1px solid var(--spotim-message-separator-color);right:20px}#spotim-specific#spotim-specific .spcv_root-message.spcv_isLastMessage:after{display:none}#spotim-specific#spotim-specific .spcv_root-message.spcv_is-last-message-no-user-image:before{top:25px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_root-message .spcv_reply-wrapper,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_root-message .spcv_rich-editor{margin:20px 0}#spotim-specific#spotim-specific .spcv_root-message .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific .spcv_root-message .spcv_rich-editor.spcv_depth-0{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_rich-editor.spcv_depth-0{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_rich-editor.spcv_depth-0{margin-right:39px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-0{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-0,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-0{margin-right:39px}#spotim-specific#spotim-specific .spcv_root-message .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific .spcv_root-message .spcv_rich-editor.spcv_depth-1{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_rich-editor.spcv_depth-1{margin-left:78px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_rich-editor.spcv_depth-1{margin-right:78px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-1{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-1,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-1{margin-right:39px}#spotim-specific#spotim-specific .spcv_root-message .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific .spcv_root-message .spcv_rich-editor.spcv_depth-2{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_rich-editor.spcv_depth-2{margin-left:117px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_rich-editor.spcv_depth-2{margin-right:117px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-2{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-2,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-2{margin-right:39px}#spotim-specific#spotim-specific .spcv_root-message .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific .spcv_root-message .spcv_rich-editor.spcv_depth-3{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_rich-editor.spcv_depth-3{margin-left:156px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_rich-editor.spcv_depth-3{margin-right:156px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-3{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-3,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-3{margin-right:39px}#spotim-specific#spotim-specific .spcv_root-message .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific .spcv_root-message .spcv_rich-editor.spcv_depth-4{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_rich-editor.spcv_depth-4{margin-left:195px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_rich-editor.spcv_depth-4{margin-right:195px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-4{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-4,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-4{margin-right:39px}#spotim-specific#spotim-specific .spcv_root-message .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific .spcv_root-message .spcv_rich-editor.spcv_depth-5{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_rich-editor.spcv_depth-5{margin-left:234px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_rich-editor.spcv_depth-5{margin-right:234px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-5{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-5,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-5{margin-right:39px}#spotim-specific#spotim-specific .spcv_root-message .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific .spcv_root-message .spcv_rich-editor.spcv_depth-6{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_rich-editor.spcv_depth-6{margin-left:273px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_rich-editor.spcv_depth-6{margin-right:273px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-6{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-6,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-6{margin-right:39px}#spotim-specific#spotim-specific .spcv_root-message .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific .spcv_root-message .spcv_rich-editor.spcv_depth-7{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_root-message .spcv_rich-editor.spcv_depth-7{margin-left:312px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_root-message .spcv_rich-editor.spcv_depth-7{margin-right:312px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-7{margin-left:39px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_reply-wrapper.spcv_depth-7,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_mq-mobile .spcv_root-message .spcv_rich-editor.spcv_depth-7{margin-right:39px}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","root-message":"spcv_root-message",rootMessage:"spcv_root-message","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",isEdit:"spcv_isEdit","children-list":"spcv_children-list",childrenList:"spcv_children-list","conversation-view":"spcv_conversation-view",conversationView:"spcv_conversation-view","live-blog":"spcv_live-blog",liveBlog:"spcv_live-blog",empty:"spcv_empty",isLiveBlog:"spcv_isLiveBlog",safari:"spcv_safari","is-live-blog-no-user-image":"spcv_is-live-blog-no-user-image",isLiveBlogNoUserImage:"spcv_is-live-blog-no-user-image",isLastMessage:"spcv_isLastMessage","is-last-message-no-user-image":"spcv_is-last-message-no-user-image",isLastMessageNoUserImage:"spcv_is-last-message-no-user-image","rich-editor":"spcv_rich-editor",richEditor:"spcv_rich-editor","reply-wrapper":"spcv_reply-wrapper",replyWrapper:"spcv_reply-wrapper","depth-0":"spcv_depth-0",depth0:"spcv_depth-0","depth-1":"spcv_depth-1",depth1:"spcv_depth-1","depth-2":"spcv_depth-2",depth2:"spcv_depth-2","depth-3":"spcv_depth-3",depth3:"spcv_depth-3","depth-4":"spcv_depth-4",depth4:"spcv_depth-4","depth-5":"spcv_depth-5",depth5:"spcv_depth-5","depth-6":"spcv_depth-6",depth6:"spcv_depth-6","depth-7":"spcv_depth-7",depth7:"spcv_depth-7"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.renderChildrenStack=t.getClassNames=t.handleTOLSpacing=void 0;var o=s(i(34)),c=s(i(3)),p=s(i(14)),a=s(i(693)),r=s(i(630));t.handleTOLSpacing=function(){return{isAdjacentStaffReply:!1,isPreviousShowMoreReplies:!1,isPreviousStaffComment:!1}};t.getClassNames=function(e){var t;return(0,p.default)(a.default.rootMessage,e.className,(t={},(0,o.default)(t,a.default.isLastMessage,e.isLastMessage),(0,o.default)(t,a.default.isEdit,e.isEdit),(0,o.default)(t,a.default.isLiveBlog,e.isLiveBlog),t))};t.renderChildrenStack=function(e){var t=e.key,i=e.stack,s=e.messageIndex,o=e.isLastMessageInThread,p=e.ref;return c.default.createElement("li",{key:t,"aria-label":"Comment reply",role:"article"},c.default.createElement(r.default,{stack:i,messageIndex:s,isLastMessageInThread:o,ref:p}))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMessageToBeFeatured=function(e){return function(t){t({type:s.UPDATE_MESSAGE_FEATURED,payload:e})}};var s=i(39)},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFeaturedCommentData=function(e,t){var i=this;return new Promise((function(s){return p(i,void 0,void 0,(function(){var i,p;return a(this,(function(a){switch(a.label){case 0:return[4,(0,o.default)("v1.0.0/conversation/featured-message/"+e,{postId:(0,c.default)(e),method:"POST",data:{sortBy:t}})];case 1:return(i=a.sent())&&i.messages?(p=i.messages[0].user_id,i.messages[0].users[p]=i.users[p],i.messages[0].featuredComment="top",s(i.messages[0]),[2]):(s(null),[2])}}))}))}))};var o=s(i(62)),c=s(i(314)),p=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},a=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeAdUnit=void 0;var c=o(i(3)),p=s(i(14)),a=s(i(4)),r=i(43),n=s(i(1566)),l=s(i(1568)),d=s(i(1571)),m=(0,c.lazy)((function(){return Promise.all([i.e(104),i.e(96)]).then(i.t.bind(null,1883,7))}));t.NativeAdUnit=function(e){var t=e.index,i=e.onHideAd,s=(0,c.useState)(!1),o=s[0],f=s[1],u=(0,c.useState)(!1),v=u[0],_=u[1],g=(0,c.useState)(160),h=g[0],y=g[1],b=(0,c.useState)(null),x=b[0],w=b[1],M=(0,c.useCallback)((function(e){w(e)}),[]),E=a.default.get("tenant_config.conversation.adsLazyLoadMargin","600px"),k=(0,d.default)({ref:x,rootMargin:E,useOnce:!0});(0,c.useEffect)((function(){v&&setTimeout((function(){f(!0)}),2500)}),[v]);var S=(0,c.useCallback)((function(){o&&i()}),[o]);return c.default.createElement("li",{className:(0,p.default)(n.default.conversationAdsUnit),"data-spotim-class":"conversation-ads-unit",onTransitionEnd:S,key:"ads-unit-"+t,style:{height:o?0:h+25+25,paddingTop:"25px",paddingBottom:"25px"}},v?!o&&c.default.createElement("div",{id:"spotim-specific",className:n.default.hiddenAdPlacement},c.default.createElement("span",{className:n.default.checkboxIcon},c.default.createElement(r.Icon,{type:"fa-solid",name:"check-circle"})),c.default.createElement(r.Typography,{type:"modalBody"},"Ads will no longer be shown on this conversation."),c.default.createElement(r.Typography,{type:"infoMd"},"Thank you for your feedback!")):c.default.createElement(c.default.Fragment,null,c.default.createElement(c.Suspense,{fallback:c.default.createElement(l.default,null)},c.default.createElement("div",{ref:M,className:n.default.nativeAdWrapper},k&&c.default.createElement(m,{moduleName:"conversation",reportingModuleName:"conversation",onNoAdAvailable:function(){return f(!0)},onHideAd:function(){return _(!0)},onDimensionsChange:function(e){var t=e.height;y(t)}})))))}},function(e,t,i){var s=i(30),o=i(1567);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_conversationAdsUnit{max-height:350px;position:relative;overflow:hidden;transition:height .25s ease}#spotim-specific#spotim-specific .spcv_conversationAdsUnit:not(:last-child):after{content:" ";height:1px;position:absolute;bottom:0;width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversationAdsUnit:not(:last-child):after{background-color:#e5e6e6}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversationAdsUnit:not(:last-child):after{left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversationAdsUnit:not(:last-child):after{right:0}#spotim-specific#spotim-specific .spcv_hiddenAdPlacement{height:135px;width:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:distribute;justify-content:space-around;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_hiddenAdPlacement{text-align:center}#spotim-specific#spotim-specific .spcv_checkboxIcon{height:35px;font-size:35px;color:var(--spotim-success-color)}#spotim-specific#spotim-specific .spcv_nativeAdWrapper{display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific .spcv_adUnitWrapper{width:100%}#spotim-specific#spotim-specific .spcv_adMenuContainer{display:-ms-flexbox;display:flex}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",conversationAdsUnit:"spcv_conversationAdsUnit",hiddenAdPlacement:"spcv_hiddenAdPlacement",checkboxIcon:"spcv_checkboxIcon",nativeAdWrapper:"spcv_nativeAdWrapper",adUnitWrapper:"spcv_adUnitWrapper",adMenuContainer:"spcv_adMenuContainer"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i(3)),c=s(i(1569)),p=function(){return o.default.createElement("div",{className:c.default.loaderContainer},o.default.createElement("div",{className:c.default.loaderContent},o.default.createElement("div",{className:c.default.loaderHeader},"Sponsored"),o.default.createElement("div",{className:c.default.loaderSpinner})))};t.default=p},function(e,t,i){var s=i(30),o=i(1570);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"#spotim-specific#spotim-specific .spcv_loaderContainer{font-family:Open Sans,sans-serif;position:absolute;height:135px;width:100%;top:50px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_loaderContainer{background-color:#f4f3f4;margin:auto}#spotim-specific#spotim-specific .spcv_loaderSpinner{font-size:10px;position:relative;display:block;width:20px;height:20px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_loaderSpinner{margin:0 auto;border-top:3px solid rgba(0,0,0,.4);border-bottom:3px solid rgba(0,0,0,.4);border-radius:50%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_loaderSpinner{border-right:3px solid rgba(0,0,0,.4);border-left:3px solid rgba(0,0,0,.2);animation:spcv_spin-ltr .7s infinite linear}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_loaderSpinner{border-left:3px solid rgba(0,0,0,.4);border-right:3px solid rgba(0,0,0,.2);animation:spcv_spin-rtl .7s infinite linear}@keyframes spcv_spin-ltr{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spcv_spin-rtl{0%{transform:rotate(0deg)}to{transform:rotate(-1turn)}}#spotim-specific#spotim-specific .spcv_loaderContent{position:relative;height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_loaderContent{padding:10px;text-align:center}#spotim-specific#spotim-specific .spcv_loaderHeader{-webkit-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;opacity:.4}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_loaderHeader{margin:5px}",""]),t.locals={loaderContainer:"spcv_loaderContainer",loaderSpinner:"spcv_loaderSpinner","spin-ltr":"spcv_spin-ltr",spinLtr:"spcv_spin-ltr","spin-rtl":"spcv_spin-rtl",spinRtl:"spcv_spin-rtl",loaderContent:"spcv_loaderContent",loaderHeader:"spcv_loaderHeader"}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(3),o=function(e){var t=e.ref,i=e.rootMargin,o=void 0===i?"0px":i,c=e.useOnce,p=(0,s.useState)(!1),a=p[0],r=p[1],n=(0,s.useState)(!1),l=n[0],d=n[1];return(0,s.useEffect)((function(){var e=new IntersectionObserver((function(e){var t=e[0];r(t.isIntersecting)}),{rootMargin:o,threshold:[.01]});return t&&e.observe(t),function(){t&&e.unobserve(t)}}),[t]),(0,s.useEffect)((function(){c?!l&&d(a):d(a)}),[a]),l};t.default=o},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i(3)),c=s(i(57)),p=s(i(4)),a=i(220),r=p.default.get("spotId"),n=p.default.get("postId"),l=r+"_"+n,d=(0,c.default)((function(e){return{spot_id:r,conversation_id:l,source:"conversation",split_name:e.splitName}}),{dispatch:a.trackEvent})((function(e){return o.default.createElement(o.default.Fragment,null," ",e.children," ")}));t.default=d},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getExperimentSplitName=t.getAdIndices=void 0;var o,c=s(i(17)),p=s(i(4)),a=i(312),r=i(694),n=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),o=0;for(t=0;t<i;t++)for(var c=arguments[t],p=0,a=c.length;p<a;p++,o++)s[o]=c[p];return s};!function(e){e.BEFORE="BEFORE",e.MIDDLE="MIDDLE",e.AFTER="AFTER",e.CONSTANT="CONSTANT",e.NONE="NONE"}(o||(o={}));t.getAdIndices=function(e,t,i){var s=function(){var e;if(!0===p.default.get("tenant_config.conversation.adsEnabled")){var t=c.default.getVariant("38");if(t)return e="A"===t?o.CONSTANT:o.NONE;e=l()}else e=o.NONE;return e}();if(s===o.CONSTANT){var d=p.default.get("tenant_config.conversation.adsPositionRate",7),m=Math.floor(e/d)||1;return n(Array(m)).map((function(e,t){return d+t*d}))}var f=(0,a.getMessagesCountToFetch)();i&&f++;var u=(0,r.getNewMessagesFetchCount)(t);if(e<=f||s===o.NONE)return[];var v=Math.floor((e-f)/u)||1;return n(Array(v)).map((function(e,t){var i=t+f+t*u;switch(s){case o.BEFORE:return i;case o.MIDDLE:return i+Math.floor(u/2);case o.AFTER:default:return i+u}}))};t.getExperimentSplitName=function(){return c.default.getVariant("36")?"36:"+c.default.getVariant("36"):"38:"+c.default.getVariant("38")};var l=function(){var e;switch(c.default.getVariant("36")){case"A":e=o.BEFORE;break;case"B":e=o.MIDDLE;break;case"C":e=o.AFTER;break;case"D":default:e=o.NONE}return e}},function(e,t,i){"use strict";var s=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchConversation=function(e,t,i,s){var m=s.href,f=s.canonicalHref,u=s.offset,v=void 0===u?0:u,_=s.commentsRead,g=void 0===_?0:_,h=s.pageSize,y=void 0===h?p.COMMENTS_PAGE_SIZE:h,b=s.sortBy,x=void 0===b?r.SortBy.BEST:b,w=s.highlight,M=s.depth;return l(this,void 0,void 0,(function(){var s,p,r,l,u,_,h;return d(this,(function(d){switch(d.label){case 0:return m=decodeURIComponent(m),m=(0,o.normalizeUrl)(m),f=decodeURIComponent(f),f=(0,o.normalizeUrl)(f),[4,c.fetchConversation(e,t,i,m,f,v,g,y,x,M)];case 1:return s=d.sent(),p=(0,n.parseConversation)(s.conversation),r=p.conversation,l=p.followersIds,u=p.pagination,_=p.comments,h=p.followers,[2,{currentUser:(0,a.parseUser)(s.user),conversation:r,followersIds:l,pagination:u,comments:_,followers:h,highlight:w}]}}))}))};var o=i(435),c=s(i(283)),p=i(108),a=i(68),r=i(311),n=i(580),l=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},d=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.openConversationModal=function(e){return function(){var t=(0,c.default)(o.default.mark((function t(i,s){var c,a,r,n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s(),a=c.moduleOptions,r=a.spotId,n=a.postId,t.next=3,p.hostProvider.openConversationModal(r,n,{enableStarsRating:e});case 3:i({type:"CONVERSATION_MODAL",payload:{spotId:r,postId:n,enableStarsRating:e}});case 4:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()},t.CONVERSATION_MODAL=void 0;var o=s(i(40)),c=s(i(41)),p=i(51);t.CONVERSATION_MODAL="CONVERSATION_MODAL"},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_messages-list{list-style-type:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_messages-list{margin:0;padding:0}#spotim-specific#spotim-specific .spcv_messages-list{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_messages-list{clear:both;padding-top:15px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_messages-list{padding-left:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_messages-list{padding-right:0}@keyframes spcv_blink{0%{opacity:1}50%{opacity:0}to{opacity:1}}@keyframes spcv_hide{0%{opacity:1}to{opacity:0}}@keyframes spcv_unindent-ltr{0%{margin-left:15px}to{margin-left:0}}@keyframes spcv_unindent-rtl{0%{margin-left:15px}to{margin-left:0}}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_messages-list .spcv_immediate-mark,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_messages-list .spcv_immediate-mark{animation:spcv_blink 1s linear 3s both}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_messages-list .spcv_immediate-mark .spcv_marked-component{animation:spcv_unindent-ltr .1s linear 5s both}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_messages-list .spcv_immediate-mark .spcv_marked-component{animation:spcv_unindent-rtl .1s linear 5s both}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_messages-list .spcv_immediate-mark .spcv_marker,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_messages-list .spcv_immediate-mark .spcv_marker{animation:spcv_hide 1s linear 4s both}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_messages-list li:last-child .spcv_root-message{border-bottom:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_is-live-blog{padding-top:0}#spotim-specific#spotim-specific .spcv_the-earliest-messages.spcv_is-live-blog li:last-child .spcv_root-message:after{position:absolute;display:block;content:"";box-sizing:content-box;bottom:0;top:auto;width:8px;height:8px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_the-earliest-messages.spcv_is-live-blog li:last-child .spcv_root-message:after{border:5px solid #fff;background:#c3c5c7;border-radius:100px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_the-earliest-messages.spcv_is-live-blog li:last-child .spcv_root-message:after{left:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_the-earliest-messages.spcv_is-live-blog li:last-child .spcv_root-message:after{right:12px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_contentLoaderWrapper{margin-top:30px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_contentLoaderWrapper .spcv_contentLoader{margin-top:50px}#spotim-specific#spotim-specific .spcv_list-item.spcv_list-item{list-style:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_list-item.spcv_list-item{margin:0}#spotim-specific#spotim-specific .spcv_safari-padder{height:1px;display:none}#spotim-specific#spotim-specific .spcv_conversation>.spcv_messages-list>li:last-child .spcv_show-more-replies.spcv_last-message:not(.spcv_show-more):after,#spotim-specific#spotim-specific .spcv_list-item:nth-child(2) .spcv_safari-padder{height:0}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","messages-list":"spcv_messages-list",messagesList:"spcv_messages-list","immediate-mark":"spcv_immediate-mark",immediateMark:"spcv_immediate-mark",blink:"spcv_blink","marked-component":"spcv_marked-component",markedComponent:"spcv_marked-component","unindent-ltr":"spcv_unindent-ltr",unindentLtr:"spcv_unindent-ltr","unindent-rtl":"spcv_unindent-rtl",unindentRtl:"spcv_unindent-rtl",marker:"spcv_marker",hide:"spcv_hide","root-message":"spcv_root-message",rootMessage:"spcv_root-message","is-live-blog":"spcv_is-live-blog",isLiveBlog:"spcv_is-live-blog","the-earliest-messages":"spcv_the-earliest-messages",theEarliestMessages:"spcv_the-earliest-messages",contentLoaderWrapper:"spcv_contentLoaderWrapper",contentLoader:"spcv_contentLoader","list-item":"spcv_list-item",listItem:"spcv_list-item","safari-padder":"spcv_safari-padder",safariPadder:"spcv_safari-padder",conversation:"spcv_conversation","show-more-replies":"spcv_show-more-replies",showMoreReplies:"spcv_show-more-replies","last-message":"spcv_last-message",lastMessage:"spcv_last-message","show-more":"spcv_show-more",showMore:"spcv_show-more"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.addItemComponent=void 0;var o=s(i(696));t.addItemComponent=function(e){var t=e.key,i=e.rootMessageComponent;return React.createElement("li",{className:o.default.listItem,"aria-label":"Comment",key:t},React.createElement("div",{className:o.default.safariPadder}),i)}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MainSayControl=void 0;var c,p=o(i(6)),a=s(i(3)),r=o(i(35)),n=i(42),l=o(i(4)),d=i(47),m=o(i(239)),f=i(347),u=i(680),v=i(231),_=i(681),g=i(682),h=i(91),y=i(93),b=s(i(48)),x=i(55),w=o(i(697)),M=i(683),E=i(684),k=s(i(87)),S=i(219),C=i(39),T=i(50),I=i(238),R=i(106),O=i(686),P=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),N=function(){return(N=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},A=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},U=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},D=(0,a.lazy)((function(){return Promise.all([i.e(14),i.e(23)]).then(i.t.bind(null,731,7))})),L=l.default.get("isConversationPageTriggered",!1),B=l.default.get("tenant_config.conversation.forceSimpleEditor",!1),j="post-approved"===l.default.get("queryParams.utm_content"),q=function(e){function t(t){var i=e.call(this,t)||this;i.mainSayControl=a.default.createRef(),i.getContentsMethod=function(){},i.setContentsMethod=function(e){},i.setFocusMethod=function(){},i.hanldeSetFocus=function(e){var t=i.props,s=t.postId,o=t.instanceId;if(e.data&&"object"===(0,p.default)(e.data)&&e.data.__SPOTIM_MESSAGE&&"set-main-say-control-focus"===e.data.type){var c=e.data.instanceId===o,a=e.data.postId===s;(!e.data.postId||!!e.data.instanceId&&c||a)&&i.setFocus()}},i.setFocus=function(){var e,t;null===(t=null===(e=i.mainSayControl)||void 0===e?void 0:e.current)||void 0===t||t.setFocus()},i.handleUploadProfileImage=function(e){var t=i.props.currentUser;i.props.onProfileImageUpload({userId:t.id,rawImage:e})},i.createMessage=function(e){var t=e.entities,s=e.displayName,o=e.starsRating,c=void 0===o?0:o,p=i.props.conversationId,a={entities:t,starsRating:c};return s&&(a.displayName=s),(0,I.clearDraftMessage)({conversationId:p,draftId:"main-say-ctrl"}),i.setState({draftMessage:void 0}),i.props.createMessage(a)},i.handleLogin=function(e){i.props.enableSSO&&i.saveDraftMessage(e),i.props.onLogin();var t={item_type:"login",target_type:"commnet-sign-up",type:"login-clicked",post_id:i.props.postId};(0,T.analyticsTrack)(t)},i.requestGetContents=function(e){i.getContentsMethod=e},i.requestSetContents=function(e){i.setContentsMethod=e},i.requestSetFocus=function(e){i.setFocusMethod=e},i.onTyping=function(e){var t=i.props,s=t.isMessageBlocked,o=t.isModerationAlertVisible,c=t.closeModerationAlert,p=t.isUserSuspended;s&&!p&&o&&k.isValidKeyPress(e)&&c()},i.saveDraftMessage=function(e){var t=i.props.conversationId;(0,I.saveDraftMessage)({payload:e,conversationId:t,draftId:"main-say-ctrl"})},i.onRealtimeModeration=function(e){var t=i.props,s=t.isMessageBlocked,o=t.onRealtimeModeration;s||o(e)},i.setWrapperRef=function(e){i.wrapperRef=e},i.handleClickOutside=function(e){var t,s=i.props.isModerationAlertVisible,o=null==e?void 0:e.composedPath();try{var c=o.some((function(e){var t;return null===(t=e.dataset)||void 0===t?void 0:t.spotimOverlay}));(null===(t=i.wrapperRef)||void 0===t?void 0:t.contains(o[1]))||i.state.hasText||c||s||i.props.onUnfocus()}catch(e){}},i.onChange=function(e){var t=e.isEmpty;i.setState({hasText:!t})},i.handleBlur=function(e){var t,s=e.draftMessage;(null===(t=null==s?void 0:s.entities)||void 0===t?void 0:t.length)>0&&i.setState({draftMessage:s}),i.props.onBlur()};var s=(0,I.getDraftMessage)({conversationId:t.conversationId,draftId:"main-say-ctrl"});return i.state={hasText:!!s&&(0,R.hasText)(s),draftMessage:s},i}return P(t,e),t.prototype.componentDidMount=function(){var e=this.props.autoFocus;m.default.on("focusSayControl",this.setFocus),this.subscribeToSetFocusMessage(),e&&!(0,d.isMobile)()&&this.setFocus(),document.addEventListener("click",this.handleClickOutside)},t.prototype.componentDidUpdate=function(e){var t=this.props,i=t.currentUser,s=t.conversationId;e.currentUser.id!==i.id&&(i.isRegistered||((0,I.clearConversationDrafts)({conversationId:s}),this.setState({draftMessage:(0,I.getDraftMessage)({conversationId:s,draftId:"main-say-ctrl"})})))},t.prototype.subscribeToSetFocusMessage=function(){(0,S.subscribeSpotimMessage)(this.hanldeSetFocus),window.addEventListener("message",this.hanldeSetFocus)},t.prototype.componentWillUnmount=function(){m.default.off("focusSayControl",this.setFocus),(0,S.unsubscribeSpotimMessage)(this.hanldeSetFocus),window.removeEventListener("message",this.hanldeSetFocus),document.removeEventListener("click",this.handleClickOutside)},t.prototype.render=function(){var e=this.props,t=e.currentUser,i=e.isStarsRatingEnabled,s=e.forceRegister,o=e.enableSSO,c=e.editableSSO,p=e.moderationAlert,r=e.isModerationAlertVisible,n=e.isModerationAlertRendered,l=e.isMessageBlocked,d=e.isUserSuspended,m=(e.conversationId,e.shouldAutoFocus),f=e.preventScrollOnAutoFocus,u=e.isDisableRichFormatting,v=this.state.draftMessage;return a.default.createElement("div",{ref:this.setWrapperRef},a.default.createElement(O.EditorWrapper,N({},this.props,{ref:this.mainSayControl,onChange:this.onChange,onBlur:this.handleBlur.bind(this),isDisableRichFormatting:u,tabIndexType:"editor",login:this.handleLogin,isLoggedIn:(0,x.isLoggedIn)(t),createMessage:this.createMessage,uploadProfileImage:this.handleUploadProfileImage,isRichBarVisibleOnMount:!0,disableUserImageUpload:!!o&&!c,enableStarsRating:i,isMustRegisterToComment:s,openUserProfileModal:y.openUserProfileModal,requestGetContents:this.requestGetContents,requestSetContents:this.requestSetContents,requestSetFocus:this.requestSetFocus,socialReviewsStyles:w.default,isRootMessage:!0,moderationAlert:p,onTyping:this.onTyping,onRealtimeModeration:this.onRealtimeModeration,showErrorBorder:r&&n,isPostAnyway:l&&!d,isEdit:!1,messageToEdit:v,saveDraftMessage:this.saveDraftMessage.bind(this),autoFocus:m,preventScrollOnAutoFocus:f})))},t.defaultProps={isUploadImageButtonVisible:!1,isStarsRatingEnabled:!1,forceRegister:!1,isExpanded:!1,autoFocus:!1,onTyping:function(){},onFocus:function(){},onBlur:function(){},onLogin:function(){},onStarsRatingClick:function(){},createMessage:function(){},closeModerationAlert:function(){},onRealtimeModeration:function(){},placeholderTextKey:"richEditor.placeholder.hasMessages",userImageSize:"medium",showButton:!0,moderationAlert:null,isModerationAlertVisible:!1,isModerationAlertRendered:!1,isMessageBlocked:!1,isUserSuspended:!1,shouldAutoFocus:!1,preventScrollOnAutoFocus:!1},t.contextTypes={analyticsTrack:r.default.func.isRequired},t}(a.Component);t.MainSayControl=q;var z=(0,n.connect)((function(e){var t=e.currentUser,i=e.moduleOptions,s=e.mainSayControl,o=e.conversation,c=e.userSuspension,p=e.communityView,r=i.disableImageUploadInConversation,n=i.enableSSO,m=i.editableSSO,f=i.isConnectEnabled,u=i.isStarsRatingEnabled,v=i.forceRegister,_=i.direction,g=i.avatarsTheme,h=i.conversationRichToolbarEnabled,y=i.isMobile,x=i.disableSendButtonWithEmptyText,w=i.animationRating,M=i.blurOnFocusForGuestUser,E=i.transliterationLanguage,k=i.liveBlogRichToolbarEnabled,S=i.isConversationLiveBlog,C=i.postId,T=i.conversationId,I=i.highlightedCommentId,R=(C=i.postId,i.instanceId),O=s.starsRating,P=s.expanded,N=s.isMessageBlocked,A=s.isModerationAlertVisible,U=s.isModerationAlertRendered,q=s.moderationTags,z=s.verdict,F=s.tempMessageId,W=p.focusSayControlOnSwitchTab,V=c.isUserSuspended,H=o.hasCommented,G=b.isReporter(e,t.id),K=k&&S&&G,Q=l.default.get("tenant_config.conversation.disableImageUploadInLiveBlog",!1),J=S?!Q:!r,Y=A&&a.default.createElement(a.Suspense,{fallback:null},a.default.createElement(D,{moderationTags:q,verdict:z,isRealtimeFeedback:!N,sayControlSessionId:F})),X=!!I&&!j||W;return{conversationId:T,currentUser:t,isUploadImageButtonVisible:J,starsRating:O,isStarsRatingEnabled:u,forceRegister:v,direction:_,avatarsTheme:g,isExpanded:P,disableSendButtonWithEmptyText:x,isMobileDevice:(0,d.isMobile)()||y,blurOnFocusForGuestUser:M,showButton:f&&(!n||!!m),animationRating:w,enableRichToolbar:!(0,d.isMobile)()&&!y&&(h||K),transliterationLanguage:E,enableSSO:n,editableSSO:m,hasCommented:H,moderationAlert:Y,isModerationAlertVisible:A,isModerationAlertRendered:U,isMessageBlocked:N,isUserSuspended:V,shouldAutoFocus:X,preventScrollOnAutoFocus:L,postId:C,instanceId:R,isDisableRichFormatting:B}}),(function(e){return{onTyping:function(){return e((0,_.notifyTyping)())},onFocus:function(t){var i=t.element;e((0,_.notifyTyping)()),e((0,f.focusSayControl)({element:i,depth:0}))},onBlur:function(){e((0,u.blurSayControl)())},onLogin:function(){e((0,h.openLoginSelectorModal)({mode:"signup"}))},onStarsRatingClick:function(t){return A(void 0,void 0,void 0,(function(){return U(this,(function(i){return e((0,g.updateStarsRating)(t)),[2]}))}))},createMessage:function(t){var i=t.entities,s=t.displayName,o=t.starsRating;return e((0,v.createMessage)({entities:i,displayName:s,starsRating:o}))},onProfileImageUpload:function(t){var i=t.userId,s=t.rawImage;e((0,x.profileImageUpload)({userId:i,rawImage:s}))},closeModerationAlert:function(){e((0,M.closeModerationAlert)())},onRealtimeModeration:function(t){e((0,E.realtimeModerate)(t))},onUnfocus:function(){e({type:C.UNFOCUS_SAY_CONTROL})}}}))(q);t.default=z},,function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_stars-rating-summary .spcv_stars-rating{cursor:pointer}#spotim-specific#spotim-specific .spcv_stars-rating-summary .spcv_summary-header{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific .spcv_stars-rating-summary .spcv_summary-header .spcv_border{height:19px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_stars-rating-summary .spcv_summary-header .spcv_border{border-left:1px solid var(--spotim-border-color);padding-left:12px;margin-left:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_stars-rating-summary .spcv_summary-header .spcv_border{border-right:1px solid var(--spotim-border-color);padding-right:12px;margin-right:12px}#spotim-specific#spotim-specific .spcv_stars-rating-summary .spcv_summary-header .spcv_rating-text{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline;font-size:var(--spotim-font-size-medium);line-height:calc(var(--spotim-font-size-medium) + 2px);color:var(--spotim-text-color-x-muted)}@media only screen and (min-width:551px){#spotim-specific#spotim-specific .spcv_stars-rating-summary .spcv_summary-header .spcv_rating-text.spcv_has-rating:hover,#spotim-specific#spotim-specific .spcv_stars-rating-summary .spcv_summary-header .spcv_rating-text:hover .spcv_chevron{color:var(--spotim-brand-color);fill:var(--spotim-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_stars-rating-summary .spcv_summary-header .spcv_rating-text.spcv_has-rating:hover,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_stars-rating-summary .spcv_summary-header .spcv_rating-text:hover .spcv_chevron{cursor:pointer}}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_stars-rating-summary .spcv_summary-header .spcv_rating-text.spcv_has-rating .spcv_chevron{display:inline}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_stars-rating-summary .spcv_summary-header .spcv_rating-text.spcv_has-rating:active{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_stars-rating-summary .spcv_summary-header .spcv_rating-text.spcv_has-rating:active .spcv_chevron{fill:var(--spotim-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_stars-rating-summary .spcv_summary-header .spcv_average{margin-left:12px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_stars-rating-summary .spcv_summary-header .spcv_average{margin-right:12px}#spotim-specific#spotim-specific .spcv_stars-rating-summary.spcv_expanded{height:auto}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_stars-rating-summary.spcv_expanded{padding-bottom:20px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_stars-rating-summary.spcv_expanded{border-bottom:1px solid var(--spotim-border-color);margin-bottom:15px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_empty-state .spcv_stars-rating-summary{border-bottom:none;padding-top:0!important}#spotim-specific#spotim-specific .spcv_chevron{font-size:8px;fill:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_chevron{margin-left:7px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_chevron{margin-right:7px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","stars-rating-summary":"spcv_stars-rating-summary",starsRatingSummary:"spcv_stars-rating-summary","stars-rating":"spcv_stars-rating",starsRating:"spcv_stars-rating","summary-header":"spcv_summary-header",summaryHeader:"spcv_summary-header",border:"spcv_border","rating-text":"spcv_rating-text",ratingText:"spcv_rating-text","has-rating":"spcv_has-rating",hasRating:"spcv_has-rating",chevron:"spcv_chevron","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",average:"spcv_average",expanded:"spcv_expanded","empty-state":"spcv_empty-state",emptyState:"spcv_empty-state"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SortMenu=t.textKeys=void 0;var c,p,a=o(i(3)),r=i(42),n=s(i(14)),l=i(66),d=i(146),m=i(52),f=i(108),u=i(695),v=i(51),_=i(311),g=o(i(48)),h=s(i(53)),y=i(43),b=s(i(4)),x=i(45),w=s(i(1582)),M=s(i(90)),E=s(i(46)),k=i(50),S=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),C=((p={})[_.SortBy.BEST]="inpage.conversation.sortMenu.best",p[_.SortBy.NEWEST]="inpage.conversation.sortMenu.newest",p[_.SortBy.OLDEST]="inpage.conversation.sortMenu.oldest",p[_.SortBy.SOCIAL]="inpage.conversation.sortMenu.social",p);t.textKeys=C;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showMenu:!1},t.onSortChanged=function(e){if(t.props.sortBy!==e){var i=t.props,s=i.pageSize,o=i.conversation,c=i.href,p=i.canonicalHref,a=o.spotId,r=o.postId,n=o.id,l={type:"sorting-menu-clicked",target_type:e,item_type:"sort-menu",segment:e,post_id:r};(0,k.analyticsTrack)(l),(0,h.default)("[Conversation] - sortBy clicked"),t.props.onSortChange({spotId:a,postId:r,conversationId:n,href:c,canonicalHref:p,pageSize:s,sortBy:e}),t.hideMenu(),v.hostProvider.notifyHostApi(m.SORT_SELECT,{sortedBy:e})}},t.handleSortByClick=function(e,i){13===e.keyCode&&t.onSortChanged(i)},t.toggleMenu=function(){t.setState({showMenu:!t.state.showMenu}),v.hostProvider.notifyHostApi(m.SORT_DROP_DOWN)},t.isChecked=function(e){return t.props.sortBy===e?"checked":""},t.handleSortMenuTitleGotFocus=function(){var e=document.querySelector('[class*="faces-list"]');e&&(e=e.querySelectorAll('[class*="user-image"]'))[e.length-1].focus()},t.getSortItem=function(e){var i,s=e.action,o=e.handler,c=e.label,p=e.sortKey,r=t.isChecked(p);return a.default.createElement(y.MenuItem,{"data-spmark":c,key:p,onClick:function(){return s(p,t.refs)},onKeyUp:o,className:(0,n.default)(w.default.menuItem,(i={},i[w.default.selected]=r,i)),id:"spotim-sort-by-list"},a.default.createElement(x.TranslationWrapper,{i18nKey:""+C[p]}),r&&a.default.createElement("span",{className:w.default.iconWrapper},a.default.createElement(y.Icon,{name:"check",type:"fa-solid",className:w.default.checkedIcon})))},t}return S(t,e),t.prototype.componentDidMount=function(){(0,d.rearrangeTabIndexes)()},t.prototype.hideMenu=function(){this.setState({showMenu:!1})},t.prototype.getSortItems=function(){var e=this,t=[this.getSortItem({action:this.onSortChanged,handler:function(t){return e.handleSortByClick(t,_.SortBy.BEST)},label:_.SortBy.BEST,sortKey:_.SortBy.BEST}),this.getSortItem({action:this.onSortChanged,handler:function(t){return e.handleSortByClick(t,_.SortBy.NEWEST)},label:_.SortBy.NEWEST,sortKey:_.SortBy.NEWEST}),this.getSortItem({action:this.onSortChanged,handler:function(t){return e.handleSortByClick(t,_.SortBy.OLDEST)},label:_.SortBy.OLDEST,sortKey:_.SortBy.OLDEST})];return b.default.get("tenant_config.conversation.social_enable",!1)&&t.push(this.getSortItem({action:this.onSortChanged,handler:function(t){return e.handleSortByClick(t,_.SortBy.SOCIAL)},label:_.SortBy.SOCIAL,sortKey:_.SortBy.SOCIAL})),t},t.prototype.render=function(){var e,t=this.state.showMenu,i=this.props,s=i.isLiveBlog,o=i.sortBy,c=i.isLoading,p=i.direction,r=i.expanded;if(s)return null;var l=this.getSortItems(),d=b.default.get("init_data.config.ltr")?"bottom-start":"bottom-end",m=(0,n.default)(w.default.sortContainer,((e={})[w.default.isExpended]=r,e));return a.default.createElement("div",{className:m},a.default.createElement(y.Typography,{type:"infoMd",className:w.default.sortText,onFocus:this.handleSortMenuTitleGotFocus},a.default.createElement(x.TranslationWrapper,{i18nKey:"inpage.conversation.sortMenu.sortBy"}),"Â "),a.default.createElement(y.Menu,{isLtr:"ltr"===p,showMenu:t,placement:d,trigger:"click",onShowChange:this.toggleMenu,mobileCancelButtonContent:a.default.createElement(x.TranslationWrapper,{i18nKey:"Cancel"},"Cancel"),menuButton:a.default.createElement(y.Button,{className:(0,n.default)(w.default.sortBy),id:"spotim-sort-by"},a.default.createElement("span",{className:w.default.sortByText},a.default.createElement(x.TranslationWrapper,{i18nKey:""+C[o]})),c?a.default.createElement("div",{className:w.default.spinnerWrapper},a.default.createElement(M.default,null)):a.default.createElement(E.default,{selector:"chevronDownIcon",className:w.default.chevronIcon}))},l))},t.defaultProps={sortBy:_.SortBy.BEST,pageSize:f.COMMENTS_PAGE_SIZE,isLiveBlog:!1},t}(a.Component);t.SortMenu=T;var I=(0,r.connect)((function(e){var t=e.moduleOptions,i=e.mainSayControl,s=t.href,o=t.canonicalHref,c=t.spotId,p=g.isLiveBlog(e),a=(0,l.getModuleOptions)(e),r=a.theme,n=a.direction,d=i.expanded;return{href:s,canonicalHref:o,isLiveBlog:p,theme:r,spotId:c,isLoading:e.comments.loading,direction:n,expanded:d}}),{onSortChange:u.fetchConversation})(T);t.default=I},function(e,t,i){var s=i(30),o=i(1583);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_accessibility-mode .spcv_sort-by,#spotim-specific#spotim-specific .spcv_accessibility-mode .spcv_sort-menu,#spotim-specific#spotim-specific .spcv_accessibility-mode .spcv_sort-menu-text{color:#57595c}#spotim-specific#spotim-specific .spcv_sort-menu{color:var(--spotim-text-color-x-muted);font-size:var(--spotim-font-size-medium)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_sort-menu{float:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_sort-menu{float:right}#spotim-specific#spotim-specific .spcv_sort-container{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_sort-container{margin-top:15px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_sort-container.spcv_isExpended{margin-top:0}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_sort-text{display:none}#spotim-specific#spotim-specific .spcv_sort-by-text{font-size:var(--spotim-font-size-medium)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_sort-by-text{margin-right:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_sort-by-text{margin-left:6px}#spotim-specific#spotim-specific .spcv_sort-menu-text{color:var(--spotim-text-color-xx-muted)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_sort-menu-text{margin-right:5px;float:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_sort-menu-text{margin-left:5px;float:right}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_sort-menu-text{display:none}@media only screen and (max-width:414px){#spotim-specific#spotim-specific .spcv_selected{color:var(--spotim-brand-color)}}#spotim-specific#spotim-specific .spcv_checked-icon{fill:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_checked-icon{margin-left:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_checked-icon{margin-right:10px}#spotim-specific#spotim-specific .spcv_chevronIcon{font-size:8px;color:var(--spotim-text-color-x-muted);display:block}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_chevronIcon{margin-left:3px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_chevronIcon{margin-right:3px}#spotim-specific#spotim-specific .spcv_spinnerWrapper{transition:all .2s ease-out;opacity:1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_spinnerWrapper{transform:translateY(2px) scale(1)}#spotim-specific#spotim-specific .spcv_sort-by{text-decoration:none;color:inherit;display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_sort-by{cursor:pointer}#spotim-specific#spotim-specific .spcv_sort-by:hover{color:var(--spotim-brand-color);fill:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_menu-item:hover .spcv_checked-icon{fill:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_icon-wrapper{font-size:var(--spotim-message-font-size-x-small)}@media only screen and (max-width:414px){#spotim-specific#spotim-specific .spcv_icon-wrapper{display:none}}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","sort-menu":"spcv_sort-menu",sortMenu:"spcv_sort-menu","sort-menu-text":"spcv_sort-menu-text",sortMenuText:"spcv_sort-menu-text","sort-by":"spcv_sort-by",sortBy:"spcv_sort-by","sort-container":"spcv_sort-container",sortContainer:"spcv_sort-container",isExpended:"spcv_isExpended","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile","sort-text":"spcv_sort-text",sortText:"spcv_sort-text","sort-by-text":"spcv_sort-by-text",sortByText:"spcv_sort-by-text",selected:"spcv_selected","checked-icon":"spcv_checked-icon",checkedIcon:"spcv_checked-icon",chevronIcon:"spcv_chevronIcon",spinnerWrapper:"spcv_spinnerWrapper","menu-item":"spcv_menu-item",menuItem:"spcv_menu-item","icon-wrapper":"spcv_icon-wrapper",iconWrapper:"spcv_icon-wrapper"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,p=o(i(3)),a=s(i(35)),r=i(42),n=i(96),l=s(i(1585)),d=i(1591),m=i(93),f=i(642),u=i(91),v=s(i(90)),_=i(51),g=i(55),h=s(i(1594)),y=s(i(1596)),b=i(43),x=i(1600),w=i(44),M=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),E=/[&?]spot_im_open_profile_followers=true/,k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showCommunityQuestionModal:!1},t.handleOpenUserProfile=function(){var e=t.props;(0,e.onOpenUserProfileModal)(e.currentUser)},t.hostProviderNotify=function(e,t){_.hostProvider.notifyHostApi(e,t)},t.onCommunityQuestionModalStateChange=function(){t.setState({showCommunityQuestionModal:!0})},t.handleCommunityQuestionModalClose=function(){t.setState({showCommunityQuestionModal:!1})},t.handleLogout=function(){t.setState({isLoggingOut:!0}),t.props.onLogout()},t}return M(t,e),t.prototype.componentDidUpdate=function(e){e.currentUser!==this.props.currentUser&&this.state.isLoggingOut&&this.setState({isLoggingOut:!1})},t.prototype.componentDidMount=function(){window&&!window.__SPOTIM__.isViewUserProfileFollowersConsumed&&E.test(window.location.search)&&(this.props.onOpenUserProfileFollowers(this.props.userId),window.__SPOTIM__.isViewUserProfileFollowersConsumed=!0)},t.prototype.render=function(){var e=this.props,t=e.userId,i=e.isAdmin,s=e.isSuperAdmin,o=e.isModerator,c=e.isJournalist,a=e.isLoggedIn,r=e.allowLogin,n=e.onOpenPrivacyModal,m=e.onLoginSelector,f=e.conversationAuthorId,u=e.onOpenUserProfileModal,_=e.onOpenUserSettingsModal,g=e.direction,x=e.toggleHideConversation,M=e.postId,E=(e.isConversationPage,this.state),k=E.showCommunityQuestionModal,S=E.isLoggingOut,C=null;return a?C=p.default.createElement(p.default.Fragment,null,p.default.createElement(l.default,{size:"medium",showLogout:r||w.enableSsoLogout,conversationAuthorId:f,enableCommunityQuestion:!0,showHideConversation:!0,userId:t,isAdmin:i,isSuperAdmin:s,isModerator:o,isJournalist:c,isLoggedIn:a,onLogout:this.handleLogout,onOpenPrivacyModal:n,onOpenUserProfileModal:u,onOpenUserSettingsModal:_,direction:g,toggleHideConversation:x,hostProviderNotify:this.hostProviderNotify,onCommunityQuestionModalStateChange:this.onCommunityQuestionModalStateChange},S?p.default.createElement("div",{className:h.default.loginSpinnerWrapper},p.default.createElement(v.default,null)):p.default.createElement(b.Icon,{className:h.default.cogMenuButton,name:"cog",type:"fa-regular"})),p.default.createElement(y.default,{showModal:k,onClose:this.handleCommunityQuestionModalClose})):r&&(C=p.default.createElement(d.LoginButton,{postId:M,onClick:function(){return m()},hostProviderNotify:this.hostProviderNotify})),C},t.propTypes={allowLogin:a.default.bool,userId:a.default.string.isRequired,isAdmin:a.default.bool.isRequired,isSuperAdmin:a.default.bool.isRequired,isModerator:a.default.bool.isRequired,isJournalist:a.default.bool,isLoggedIn:a.default.bool.isRequired,userDisplayName:a.default.string.isRequired,isConnectEnabled:a.default.bool.isRequired,onLogout:a.default.func.isRequired,onOpenPrivacyModal:a.default.func.isRequired,onOpenUserProfileModal:a.default.func.isRequired,onOpenUserSettingsModal:a.default.func.isRequired,onOpenUserProfileFollowers:a.default.func.isRequired,onLoginSelector:a.default.func.isRequired,toggleHideConversation:a.default.func.isRequired,direction:a.default.oneOf(["rtl","ltr"]).isRequired,conversationAuthorId:(0,n.requiredOrNull)(a.default.string),connectTypes:a.default.array.isRequired,currentUser:a.default.object.isRequired,token:a.default.string,spotId:a.default.string,isConversationPage:a.default.bool},t}(p.Component),S=(0,r.connect)((function(e){var t=e.currentUser,i=e.moduleOptions,s=i.isConnectEnabled,o=i.enableSSO,c=(i.editableSSO,i.direction),p=i.conversationAuthorId,a=i.connectTypes,r=i.spotId,n=i.postId,l=i.isConversationPage;return{enableSSO:o,isConnectEnabled:s,currentUser:t,direction:c,userId:t.id,isAdmin:t.isAdmin,isSuperAdmin:t.isSuperAdmin,isJournalist:t.isJournalist,isModerator:t.isModerator,isLoggedIn:(0,g.isLoggedIn)(t),userDisplayName:(0,g.getDisplayName)(t),allowLogin:s&&!o||w.enableSsoLogin,conversationAuthorId:p,connectTypes:a,spotId:r,postId:n,isConversationPage:l}}),(function(e){return{onLogout:x.logout,onOpenPrivacyModal:function(t){return e((0,m.openUserProfileModal)({user:t,mode:"privacy"}))},onOpenUserProfileFollowers:function(t){e((0,m.openUserProfileModal)({user:{id:t},mode:"main-followers"}))},onOpenUserProfileModal:function(t){e((0,m.openUserProfileModal)({user:t,mode:"main"}))},onOpenUserSettingsModal:function(t){return e((0,m.openUserProfileModal)({user:t,mode:"settings"}))},onLoginSelector:function(){var t=function(){return e((0,u.openLoginSelectorModal)())};if(!document.requestStorageAccess)return e((0,u.openLoginSelectorModal)());var i=function(){document.requestStorageAccess().then((function(){return t()}),(function(){return t()}))};document.hasStorageAccess().then((function(e){!0===e?t():i()}),(function(){return i()}))},toggleHideConversation:function(){return e((0,f.toggleHideConversation)())}}}))(k);t.default=S},function(e,t,i){"use strict";(function(e){var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,p,a,r=s(i(34)),n=s(i(32)),l=s(i(33)),d=s(i(37)),m=s(i(38)),f=s(i(36)),u=s(i(172)),v=o(i(3)),_=s(i(35)),g=i(42),h=s(i(14)),y=s(i(227)),b=i(96),x=s(i(4)),w=s(i(1586)),M=s(i(1589)),E=i(66),k=i(52),S=i(43),C=i(45),T=(i(69),i(50)),I=i(44);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,m.default)(this,i)}}var O=(a=p=function(t){(0,d.default)(s,t);var i=R(s);function s(){var e;(0,n.default)(this,s);for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return(e=i.call.apply(i,[this].concat(o))).state={showMenu:!1},e.handleTooltipClick=function(t){13===t.keyCode&&e.onTooltipToggle()},e.handleDropdownUpdate=function(){e.tooltip&&e.tooltip.handleUpdate()},e.handleCloseTooltip=function(){e.setState({showMenu:!1})},e}return(0,l.default)(s,[{key:"onTooltipToggle",value:function(){var e=this.props,t=e.hostProviderNotify,i=e.currentUser,s=e.postId;t(k.PROFILE_DROP_DOWN,i);var o={type:"profile-main-clicked",post_id:s};!this.state.showMenu&&(0,T.analyticsTrack)(o),this.setState({showMenu:!this.state.showMenu})}},{key:"hide",value:function(){this.setState({showMenu:!1})}},{key:"render",value:function(){var t,i,s=this.props,o=s.onLogout,c=s.onOpenPrivacyModal,p=s.onOpenUserProfileModal,a=s.showHideConversation,n=s.enableCommunityQuestion,l=s.onSetCommunityQuestion,d=s.onOpenUserSettingsModal,m=s.isLoggedIn,f=s.userId,u=s.isAdmin,_=s.isSuperAdmin,g=s.isModerator,y=s.isJournalist,b=s.toggleHideConversation,E=s.conversationAuthorId,k=s.showLogout,T=s.size,R=s.className,O=s.token,P=(s.spotId,s.showPrivacy),N=(s.spotId,s.hostProviderNotify),A=s.onCommunityQuestionModalStateChange,U=this.state.showMenu;R=(0,h.default)(M.default.currentUserMenu,M.default.textTrigger,R,(t={},(0,r.default)(t,M.default.conversation,"community"!==e.env.MODULE),(0,r.default)(t,M.default.small,"small"===T),(0,r.default)(t,M.default.medium,"medium"===T),(0,r.default)(t,M.default.regular,"regular"===T),t));var D=x.default.get("init_data.config.ltr")?"bottom-end":"bottom-start";return m&&(i=v.default.createElement(w.default,{token:O,userId:f,isAdmin:u,isSuperAdmin:_,isModerator:g,isJournalist:y,onClose:this.hide,onLogout:o,onOpenPrivacyModal:c,showLogout:k,onOpenUserProfileModal:p,onOpenUserSettingsModal:d,showHideConversation:a,enableCommunityQuestion:n,toggleHideConversation:b,onSetCommunityQuestion:l,conversationAuthorId:E,onUpdate:this.handleDropdownUpdate,showPrivacy:P,hostProviderNotify:N,onCommunityQuestionModalStateChange:A})),v.default.createElement(S.Menu,{isLtr:I.isLtr,placement:D,onShowChange:this.onTooltipToggle,showMenu:U,mobileCancelButtonContent:v.default.createElement(C.TranslationWrapper,{i18nKey:"menu.closeButton"},"Done"),menuButton:v.default.createElement("span",{className:M.default.currentUserMenuWrapper,"data-spot-im-class":"handler"},this.props.children)},i)}}]),s}(v.Component),p.displayName="CurrentUserMenu",p.propTypes={userId:_.default.string.isRequired,isAdmin:_.default.bool.isRequired,isSuperAdmin:_.default.bool.isRequired,isJournalist:_.default.bool,isModerator:_.default.bool.isRequired,isLoggedIn:_.default.bool.isRequired,children:_.default.object.isRequired,onLogout:_.default.func.isRequired,onOpenPrivacyModal:_.default.func,onOpenUserProfileModal:_.default.func.isRequired,onOpenUserSettingsModal:_.default.func.isRequired,onSetCommunityQuestion:(0,b.requiredIf)(_.default.func,(function(e){return e.enableCommunityQuestion})),size:_.default.oneOf(["small","medium","regular"]).isRequired,conversationAuthorId:(0,b.requiredOrNull)(_.default.string),showLogout:_.default.bool,toggleHideConversation:_.default.func,showHideConversation:_.default.bool,enableCommunityQuestion:_.default.bool,className:_.default.string,token:_.default.string,spotId:_.default.string,showPrivacy:_.default.bool,hostProvider:_.default.func,currentUser:_.default.object,onCommunityQuestionModalStateChange:_.default.func},p.defaultProps={className:"",showPrivacy:!0,onOpenPrivacyModal:function(){},hostProviderNotify:function(){},onCommunityQuestionModalStateChange:function(){}},c=a,(0,u.default)(c.prototype,"onTooltipToggle",[y.default],Object.getOwnPropertyDescriptor(c.prototype,"onTooltipToggle"),c.prototype),(0,u.default)(c.prototype,"hide",[y.default],Object.getOwnPropertyDescriptor(c.prototype,"hide"),c.prototype),c),P=(0,g.connect)((function(e){var t=(0,E.getModuleOptions)(e),i=t.spotId,s=t.postId;return{currentUser:e.currentUser,spotId:i,postId:s}}))(O);t.default=P}).call(this,i(84))},function(e,t,i){"use strict";(function(e){var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RegisteredUserDropdown=void 0;var c,p,a,r=s(i(54)),n=s(i(32)),l=s(i(33)),d=s(i(37)),m=s(i(38)),f=s(i(36)),u=s(i(172)),v=o(i(3)),_=s(i(35)),g=i(42),h=s(i(227)),y=i(52),b=i(96),x=i(1587),w=i(56),M=i(43),E=s(i(4)),k=i(50);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,f.default)(e);if(t){var o=(0,f.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,m.default)(this,i)}}var C=E.default.get("tenant_config.conversation.disable_conversation_user_settings"),T=E.default.get("tenant_config.conversation.disable_user_profile"),I=(a=p=function(t){(0,d.default)(s,t);var i=S(s);function s(){var e;(0,n.default)(this,s);for(var t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return(e=i.call.apply(i,[this].concat(o))).getDropListItems=function(e){var t=e.profileItem,i=e.conversationHostOptions,s=e.settingsItem,o=e.showPrivacy,c=e.onPrivacyClick,p=e.disableUserProfileModal,a=[t].concat((0,r.default)(i),[s]);return p&&(a=(0,r.default)(i)),o&&!C&&a.push(v.default.createElement(M.MenuItem,{key:"privacy","data-spot-im-class":"privacy-item",onClick:c},v.default.createElement(w.TranslatedText,{textKey:"general.privacy.short"},"Privacy"))),a},e}return(0,l.default)(s,[{key:"componentDidMount",value:function(){var t=this.props,i=t.isModerator,s=t.isAdmin,o=t.isSuperAdmin,c=t.isJournalist;"community"!==e.env.MODULE&&(i||s||o||c)&&this.props.getModerationDefaultPolicy()}},{key:"componentDidUpdate",value:function(){this.props.onUpdate()}},{key:"onProfileClick",value:function(){var e=this.props,t=e.currentUser,i=e.onOpenUserProfileModal,s=e.token,o=e.unseenNotificationsCount,c=e.postId,p=e.userId;i(t,s,o,void 0,void 0,void 0,!0);var a={type:"my-profile-clicked",post_id:c},r={type:"user-profile-clicked",target_type:"my-profile-dropdown",item_type:"user_profile",target_id:p,post_id:c};(0,k.analyticsTrack)(a),(0,k.analyticsTrack)(r),this.props.onClose()}},{key:"onSettingsClick",value:function(){var e=this.props,t=e.onOpenUserSettingsModal,i=e.currentUser,s=e.hostProviderNotify,o=e.postId;t(i);var c={type:"edit-settings-clicked",post_id:o};(0,k.analyticsTrack)(c),s(y.CLICKED_SETTINGS,i),this.props.onClose()}},{key:"onLogoutClick",value:function(){this.props.onLogout(),this.props.onClose()}},{key:"onPrivacyClick",value:function(){var e=this.props,t=e.currentUser,i=e.hostProviderNotify;this.props.onOpenPrivacyModal(t),i(y.CLICKED_PRIVACY,t)}},{key:"setModerationToDefault",value:function(){this.props.setModerationDefaultPolicy("spot_policy"),this.props.onClose()}},{key:"setModerationToStrict",value:function(){this.props.setModerationDefaultPolicy("require_approval"),this.props.onClose()}},{key:"onCommunityQuestionClick",value:function(){var e=this.props,t=e.onCommunityQuestionModalStateChange,i=e.onClose;t(),i()}},{key:"onHideConversationClick",value:function(){this.props.toggleHideConversation(),this.props.onClose()}},{key:"conversationHostOptions",value:function(){var e=null,t=this.props,i=t.isModerator,s=t.showHideConversation,o=[];return i&&s&&(e=v.default.createElement(M.MenuItem,{key:"hide","data-spot-im-class":"hide-conversation-item",onClick:this.onHideConversationClick},v.default.createElement(w.TranslatedText,{textKey:"userProfile.contextMenu.hide"})),o.push(e)),o}},{key:"render",value:function(){var t=this.props,i=t.showLogout,s=t.conversationAuthorId,o=t.userId,c=t.isModerator,p=t.isAdmin,a=t.isSuperAdmin,r=t.isJournalist,n=t.enableCommunityQuestion,l=t.defaultPolicy,d=t.showPrivacy,m=(t.spotId,t.disableUserProfileModal),f=v.default.createElement(w.TranslatedText,{textKey:"userProfile.contextMenu.profile"}),u=!T&&v.default.createElement(M.MenuItem,{key:"profile","data-spot-im-class":"profile-item",onClick:this.onProfileClick},f),_=!C&&v.default.createElement(M.MenuItem,{key:"settings","data-spot-im-class":"settings-item",onClick:this.onSettingsClick},v.default.createElement(w.TranslatedText,{textKey:"userProfile.contextMenu.settings"})),g=this.conversationHostOptions(),h=this.getDropListItems({profileItem:u,conversationHostOptions:g,settingsItem:_,showPrivacy:d,onPrivacyClick:this.onPrivacyClick,disableUserProfileModal:m});return n&&(s===o||p||a||r)&&h.unshift(v.default.createElement(M.MenuItem,{key:"communityQuestion","data-spot-im-class":"community-question-item",onClick:this.onCommunityQuestionClick},v.default.createElement(w.TranslatedText,{textKey:"user.setCommunityQuestion"}))),i&&h.push(v.default.createElement(M.MenuItem,{key:"logout","data-spot-im-class":"logout-item",onClick:this.onLogoutClick},v.default.createElement(w.TranslatedText,{textKey:"user.logout"}))),"community"!==e.env.MODULE&&(c||p||a||r)&&(l?h.push(v.default.createElement(M.MenuItem,{key:"setModerationTo","data-spot-im-class":"set-moderation-item",onClick:"spot_policy"==l?this.setModerationToStrict:this.setModerationToDefault},v.default.createElement(w.TranslatedText,{textKey:"spot_policy"==l?"user.setModerationStrict":"user.setModerationDefault"}))):h.push(v.default.createElement(M.MenuItem,{key:"setModerationLoading","data-spot-im-class":"set-moderation-item",disabled:!0},v.default.createElement(w.TranslatedText,{textKey:"message.contextMenu.whiteList.item.loading"})))),h}}]),s}(v.Component),p.displayName="RegisteredUserDropdown",p.propTypes={userId:_.default.string.isRequired,spotId:_.default.string.isRequired,isAdmin:_.default.bool.isRequired,isSuperAdmin:_.default.bool.isRequired,isModerator:_.default.bool.isRequired,isJournalist:_.default.bool,showLogout:_.default.bool,showHideConversation:_.default.bool.isRequired,enableCommunityQuestion:_.default.bool.isRequired,onClose:_.default.func,onLogout:_.default.func.isRequired,onOpenPrivacyModal:_.default.func.isRequired,onOpenUserProfileModal:_.default.func.isRequired,onOpenUserSettingsModal:_.default.func.isRequired,toggleHideConversation:(0,b.requiredIf)(_.default.func,(function(e){return e.showHideConversation})),onSetCommunityQuestion:(0,b.requiredIf)(_.default.func,(function(e){return e.enableCommunityQuestion})),conversationAuthorId:(0,b.requiredOrNull)(_.default.string),token:_.default.string,currentUser:_.default.object,unseenNotificationsCount:_.default.number,getModerationDefaultPolicy:_.default.func,setModerationDefaultPolicy:_.default.func,defaultPolicy:_.default.string,onUpdate:_.default.func,showPrivacy:_.default.bool,hostProviderNotify:_.default.func,onCommunityQuestionModalStateChange:_.default.func,disableUserProfileModal:_.default.bool,postId:_.default.string},p.defaultProps={onClose:function(){},showPrivacy:!0,hostProviderNotify:function(){},onCommunityQuestionModalStateChange:function(){}},c=a,(0,u.default)(c.prototype,"onProfileClick",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"onProfileClick"),c.prototype),(0,u.default)(c.prototype,"onSettingsClick",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"onSettingsClick"),c.prototype),(0,u.default)(c.prototype,"onLogoutClick",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"onLogoutClick"),c.prototype),(0,u.default)(c.prototype,"onPrivacyClick",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"onPrivacyClick"),c.prototype),(0,u.default)(c.prototype,"setModerationToDefault",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"setModerationToDefault"),c.prototype),(0,u.default)(c.prototype,"setModerationToStrict",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"setModerationToStrict"),c.prototype),(0,u.default)(c.prototype,"onCommunityQuestionClick",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"onCommunityQuestionClick"),c.prototype),(0,u.default)(c.prototype,"onHideConversationClick",[h.default],Object.getOwnPropertyDescriptor(c.prototype,"onHideConversationClick"),c.prototype),c);t.RegisteredUserDropdown=I;var R=(0,g.connect)((function(e){return{token:(e.authentication||{}).token,currentUser:e.currentUser,unseenNotificationsCount:e.currentUser.unseenNotificationsCount,defaultPolicy:(e.conversation||{}).defaultPolicy,spotId:e.moduleOptions.spotId,disableUserProfileModal:e.moduleOptions.disableUserProfileModal,postId:e.moduleOptions.postId}}),(function(e){return{getModerationDefaultPolicy:function(){e((0,x.getModerationDefaultPolicy)())},setModerationDefaultPolicy:function(t){e((0,x.setModerationDefaultPolicy)(t))}}}))(I);t.default=R}).call(this,i(84))},,,function(e,t,i){var s=i(30),o=i(1590);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist .spcv_item{color:#373e44;display:block;font-size:13px;font-weight:400;height:34px;line-height:34px;position:relative;white-space:nowrap}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist .spcv_item{cursor:pointer}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist .spcv_item:hover{text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist .spcv_item:hover{background-color:#e5e6e6}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist .spcv_item>*{display:block}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist .spcv_item>*{padding:0 15px}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{display:block;position:absolute}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{transform:translateZ(0)}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{left:50%}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction=rtl] .spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{right:50%}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{margin-left:-3.5px}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction=rtl] .spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{margin-right:-3.5px}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_left.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_right.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_current-user-menu .spcv_left.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_current-user-menu .spcv_right.spcv_user-dropdown>.spcv_caret{margin-left:0}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction=rtl] .spcv_left.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction=rtl] .spcv_right.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_left.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_right.spcv_user-dropdown>.spcv_caret{margin-right:0}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_left.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_current-user-menu .spcv_left.spcv_user-dropdown>.spcv_caret{left:15px}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction=rtl] .spcv_left.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_left.spcv_user-dropdown>.spcv_caret{right:15px}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_right.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_current-user-menu .spcv_right.spcv_user-dropdown>.spcv_caret{left:auto}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction=rtl] .spcv_right.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_right.spcv_user-dropdown>.spcv_caret{right:auto}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_right.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction]:not([data-spot-im-direction=rtl]) .spcv_current-user-menu .spcv_right.spcv_user-dropdown>.spcv_caret{right:15px}#spotim-specific#spotim-specific .spcv_current-user-menu [data-spot-im-direction=rtl] .spcv_right.spcv_user-dropdown>.spcv_caret,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_right.spcv_user-dropdown>.spcv_caret{left:15px}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{height:7px;width:7px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{background-color:#fff}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{transform:rotate(45deg)}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_user-dropdown>.spcv_caret{transform:rotate(-45deg)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_above.spcv_user-dropdown{transform:translate3d(0,-11px,0)}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_above.spcv_user-dropdown>.spcv_caret{bottom:-3.5px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_above.spcv_user-dropdown>.spcv_caret{border-bottom:1px solid #d4d6d7}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_current-user-menu .spcv_above.spcv_user-dropdown>.spcv_caret{border-right:1px solid #d4d6d7}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_above.spcv_user-dropdown>.spcv_caret{border-left:1px solid #d4d6d7}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_below.spcv_user-dropdown{transform:translate3d(0,11px,0)}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_below.spcv_user-dropdown>.spcv_caret{top:-3.5px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_below.spcv_user-dropdown>.spcv_caret{border-top:1px solid #d4d6d7}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_current-user-menu .spcv_below.spcv_user-dropdown>.spcv_caret{border-left:1px solid #d4d6d7}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_current-user-menu .spcv_below.spcv_user-dropdown>.spcv_caret{border-right:1px solid #d4d6d7}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist{display:block;min-width:130px;overflow:auto}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist{margin:0}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist .spcv_droplist-title{font-size:11px;color:#7b7f83;text-transform:uppercase}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist .spcv_droplist-title{text-align:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist .spcv_droplist-title:hover{background:none;cursor:default}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown{background-color:#fff;border-radius:4px;box-shadow:inset 0 0 0 1px #d4d6d7,0 2px 2px 0 rgba(0,0,0,.1);padding:1px}#spotim-specific#spotim-specific .spcv_current-user-menu{position:relative}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_currentUserMenuWrapper{outline:none;display:block}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_currentUserMenuWrapper{cursor:pointer}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_currentUserMenuWrapper>*{text-decoration:none;color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_currentUserMenuWrapper>:hover{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_current-user-menu.spcv_small .spcv_currentUserMenuWrapper>*{font-size:var(--spotim-font-size-small)}#spotim-specific#spotim-specific .spcv_current-user-menu.spcv_medium .spcv_currentUserMenuWrapper>*{font-size:var(--spotim-font-size-medium)}#spotim-specific#spotim-specific .spcv_current-user-menu.spcv_regular .spcv_currentUserMenuWrapper>*{font-size:var(--spotim-font-size-regular)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown{cursor:default}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_current-user-menu .spcv_user-dropdown .spcv_droplist{box-shadow:none;padding:0}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_wrappercurrentUserMenuWrapper.spcv_settings-icon{width:19px}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_settings-icon svg{fill:#c3c5c7}#spotim-specific#spotim-specific .spcv_current-user-menu .spcv_settings-icon:hover svg{fill:#7b7f83}#spotim-specific#spotim-specific [data-spot-im-direction] div[class*=conversation-view] .spcv_current-user-menu .spcv_currentUserMenuWrapper{background-color:inherit}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_current-user-menu .spcv_currentUserMenuWrapper:focus{outline:auto}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","current-user-menu":"spcv_current-user-menu",currentUserMenu:"spcv_current-user-menu","user-dropdown":"spcv_user-dropdown",userDropdown:"spcv_user-dropdown",droplist:"spcv_droplist",item:"spcv_item",caret:"spcv_caret",left:"spcv_left",right:"spcv_right",above:"spcv_above",below:"spcv_below","droplist-title":"spcv_droplist-title",droplistTitle:"spcv_droplist-title",currentUserMenuWrapper:"spcv_currentUserMenuWrapper",small:"spcv_small",medium:"spcv_medium",regular:"spcv_regular",wrappercurrentUserMenuWrapper:"spcv_wrappercurrentUserMenuWrapper","settings-icon":"spcv_settings-icon",settingsIcon:"spcv_settings-icon"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.LoginButton=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=s(i(3)),m=o(i(14)),f=i(56),u=o(i(1592)),v=i(52),_=i(50);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var h=function(e){(0,a.default)(i,e);var t=g(i);function i(){var e;(0,c.default)(this,i);for(var s=arguments.length,o=new Array(s),p=0;p<s;p++)o[p]=arguments[p];return(e=t.call.apply(t,[this].concat(o))).handleLoginButtonKeyUp=function(t){13===t.keyCode&&e.handleClick(t)},e}return(0,p.default)(i,[{key:"handleClick",value:function(e){this.props.onClick(e);var t={item_type:"login",target_type:"main-login",type:"login-clicked",post_id:this.props.postId};(0,_.analyticsTrack)(t),this.props.hostProviderNotify(v.CLICKED_LOGIN)}},{key:"render",value:function(){var e=this.props.className;return e=(0,m.default)(u.default.loginButton,e),d.default.createElement("span",{className:e,onClick:this.handleClick.bind(this),onKeyUp:this.handleLoginButtonKeyUp},d.default.createElement(f.TranslatedText,{textKey:"general.login"}))}}]),i}(d.Component);t.LoginButton=h,h.displayName="LoginButton",h.propTypes={onClick:l.default.func,className:l.default.string,hostProviderNotify:l.default.func,postId:l.default.string},h.defaultProps={onClick:function(){},className:void 0,hostProviderNotify:function(){}},h.contextTypes={analyticsTrack:l.default.func.isRequired}},function(e,t,i){var s=i(30),o=i(1593);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_login-button{color:#307fe2;display:inline-block;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_login-button{cursor:pointer}#spotim-specific#spotim-specific .spcv_login-button,#spotim-specific#spotim-specific .spcv_login-button:hover{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_login-button:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_login-button{color:#7b7f83}#spotim-specific#spotim-specific .spcv_login-button:hover{color:#373e44}#spotim-specific#spotim-specific .spcv_login-button{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_accessibility-mode .spcv_conversation .spcv_top-strip .spcv_registration-buttons .spcv_login-button{color:#57595c}#spotim-specific#spotim-specific div[class*=nav-bar] .spcv_login-button{color:#fff;font-weight:700}#spotim-specific#spotim-specific div[class*=nav-bar] .spcv_login-button:hover{text-decoration:underline;color:#fff}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","login-button":"spcv_login-button",loginButton:"spcv_login-button",conversation:"spcv_conversation","top-strip":"spcv_top-strip",topStrip:"spcv_top-strip","registration-buttons":"spcv_registration-buttons",registrationButtons:"spcv_registration-buttons"}},function(e,t,i){var s=i(30),o=i(1595);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}@keyframes spcv_appear{0%{opacity:0;transform:scale(0) translateY(2px)}to{opacity:1;transform:scale(1) translateY(2px)}}#spotim-specific#spotim-specific .spcv_userDisplayName{display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline;max-width:180px;color:var(--spotim-text-color-x-muted);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_userDisplayName{cursor:pointer}#spotim-specific#spotim-specific .spcv_userDisplayName:hover{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_userDisplayName{max-width:180px}#spotim-specific#spotim-specific .spcv_userDisplayName .spcv_chevron{width:8px;height:100%;display:block;-ms-flex:0 0 auto;flex:0 0 auto}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_userDisplayName .spcv_chevron{margin-left:5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_userDisplayName .spcv_chevron{margin-right:5px}#spotim-specific#spotim-specific .spcv_userDisplayNameText{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_loginSpinnerWrapper{transform:translateY(2px)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_loginSpinnerWrapper{margin-left:6px;animation:spcv_appear .4s}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_loginSpinnerWrapper{margin-right:6px;animation:spcv_appear .4s}#spotim-specific#spotim-specific .spcv_cogMenuButton{font-size:15px;color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific .spcv_cogMenuButton:hover{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_cogMenuButton:hover{cursor:pointer}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",userDisplayName:"spcv_userDisplayName","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",chevron:"spcv_chevron",userDisplayNameText:"spcv_userDisplayNameText",loginSpinnerWrapper:"spcv_loginSpinnerWrapper",appear:"spcv_appear",cogMenuButton:"spcv_cogMenuButton"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(3)),p=i(42),a=s(i(183)),r=i(43),n=i(1597),l=s(i(1598)),d=s(i(654)),m=i(69),f=i(44),u=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},v=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};var _=(0,p.connect)((function(e){return{communityQuestion:e.moduleOptions.communityQuestion,isSettingCommunityQuestion:e.conversation.isSettingCommunityQuestion}}),(function(e){return{setCommunityQuestion:function(t){return e((0,n.setCommunityQuestion)(t))}}}))((function(e){var t=(0,c.useState)(""),i=t[0],s=t[1],o=(0,c.useState)(!0),p=o[0],n=o[1],_=(0,c.useState)(!1),g=_[0],h=_[1];(0,c.useEffect)((function(){i!==e.communityQuestion&&s(e.communityQuestion)}),[]);var y=(0,c.useMemo)((function(){var t=e.communityQuestion;return"string"==typeof t&&t.length>0}),[e.communityQuestion]);return c.default.createElement(r.Modal,{disableCustomBodyScroll:f.disableModalDefaultScroll,shadowRootCssModules:m.isUseShadowDomOnOverlays?["conversation"]:void 0,isLtr:f.isLtr,className:l.default.communityQuestionModal,closeButton:!0,showModal:e.showModal,onClose:function(){return e.onClose()},size:"md",modalTitle:a.default.t("communityQuestion.title"),bottomActions:c.default.createElement(r.Gutter,null,c.default.createElement(r.Button,{mode:"secondary",onClick:function(){return u(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:h(!0),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,e.setCommunityQuestion("")];case 2:return t.sent(),[3,4];case 3:return e.onClose(),[7];case 4:return[2]}}))}))},disabled:!y},c.default.createElement(d.default,{label:a.default.t("delete","Delete"),showSpinner:g&&e.isSettingCommunityQuestion})),c.default.createElement(r.Button,{mode:"primary",onClick:function(){return u(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:h(!1),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,e.setCommunityQuestion(i.trim())];case 2:return t.sent(),[3,4];case 3:return e.onClose(),[7];case 4:return[2]}}))}))},disabled:p||e.isSettingCommunityQuestion},c.default.createElement(d.default,{label:a.default.t("Post"),showSpinner:!g&&e.isSettingCommunityQuestion})))},c.default.createElement("div",{className:l.default.description},a.default.t("communityQuestion.description")),c.default.createElement("textarea",{className:l.default.textarea,placeholder:a.default.t("communityQuestion.ask"),value:i,onChange:function(e){s(e.currentTarget.value),n(!e.currentTarget.value)}}))}));t.default=_},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.setCommunityQuestion=void 0;var o=s(i(40)),c=s(i(41)),p=i(39),a=i(133);t.setCommunityQuestion=function(e){return function(){var t=(0,c.default)(o.default.mark((function t(i,s){var c,r,n,l;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s(),r=c.moduleOptions.spotId,n=c.conversation,i({type:p.SET_IS_SETTING_COMMUNITY_QUESTION,payload:{isSettingCommunityQuestion:!0}}),t.next=4,a.updateCommunityQuestion.execute(r,n.id,e);case 4:l=t.sent,l.isSuccess&&i({type:p.SET_COMMUNITY_QUESTION,payload:{moduleOptions:{communityQuestion:e}}}),i({type:p.SET_IS_SETTING_COMMUNITY_QUESTION,payload:{isSettingCommunityQuestion:!1}});case 8:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()}},function(e,t,i){var s=i(30),o=i(1599);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_community-question-modal .spcv_description{font-size:15px;line-height:1.4;color:var(--spotim-text-color-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_community-question-modal .spcv_description{margin-bottom:15px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_community-question-modal .spcv_description{font-size:16px;width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_community-question-modal .spcv_description{margin-bottom:18px}#spotim-specific#spotim-specific .spcv_community-question-modal .spcv_textarea{width:100%;height:63px;font-size:15px;box-sizing:border-box;outline:none;color:var(--spotim-text-color-default);resize:vertical}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_community-question-modal .spcv_textarea{background:var(--spotim-input-background-color);border-radius:6px;border:solid 1px var(--spotim-border-color);padding:10px 16px}#spotim-specific#spotim-specific .spcv_community-question-modal .spcv_textarea:-ms-input-placeholder{color:var(--spotim-text-color-xx-muted);font-style:italic}#spotim-specific#spotim-specific .spcv_community-question-modal .spcv_textarea::placeholder{color:var(--spotim-text-color-xx-muted);font-style:italic}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","community-question-modal":"spcv_community-question-modal",communityQuestionModal:"spcv_community-question-modal",description:"spcv_description","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",textarea:"spcv_textarea"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.logout=void 0;var o=s(i(5));t.logout=function(){try{window.__SPOTIM__.initApp("registration",{mode:"logout"})}catch(e){(0,o.default)("[Conversation] error calling logout",e)}}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_disqus-connect-button,#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_login-button{color:#307fe2;display:inline-block;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation .spcv_top-strip .spcv_disqus-connect-button,#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation .spcv_top-strip .spcv_login-button{cursor:pointer}#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_disqus-connect-button,#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_disqus-connect-button:hover,#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_login-button,#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_login-button:hover{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_disqus-connect-button:hover,#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_login-button:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_disqus-connect-button,#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_login-button{color:#7b7f83}#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_disqus-connect-button:hover,#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_login-button:hover{color:#373e44}#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_disqus-connect-button,#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_login-button{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_conversation{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation{text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation{text-align:right}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation.spcv_empty-state{padding-top:20px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation.spcv_empty-state .spcv_stars-rating-summary{padding-top:6px}#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start;position:relative;-ms-flex-pack:justify;justify-content:space-between}#spotim-specific#spotim-specific .spcv_conversation .spcv_top-strip .spcv_flex1{-ms-flex:1;flex:1}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation .spcv_top-strip .spcv_current-user-menu,#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation .spcv_top-strip .spcv_facebook-connect-button{float:right}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation .spcv_top-strip .spcv_current-user-menu,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation .spcv_top-strip .spcv_facebook-connect-button{float:left}#spotim-specific#spotim-specific .spcv_conversation .spcv_registration-buttons{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation .spcv_registration-buttons{float:right}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation .spcv_registration-buttons{float:left}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation .spcv_registration-buttons>*{float:left;margin-left:9px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation .spcv_registration-buttons>*{float:right;margin-right:9px}#spotim-specific#spotim-specific .spcv_conversation .spcv_registration-buttons .spcv_login-button{color:var(--spotim-text-color-x-muted);text-decoration:none;white-space:nowrap}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation .spcv_registration-buttons .spcv_login-button{cursor:pointer}#spotim-specific#spotim-specific .spcv_conversation .spcv_registration-buttons .spcv_login-button:hover{color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_conversation .spcv_registration-buttons .spcv_disqus-connect-button{vertical-align:super}#spotim-specific#spotim-specific .spcv_conversation .spcv_registration-buttons .spcv_notifications{position:relative;display:-ms-flexbox;display:flex}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_conversation .spcv_registration-buttons>:last-child{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_conversation .spcv_registration-buttons>:last-child{margin-left:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation .spcv_top-strip{margin-top:9px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation .spcv_top-strip+.spcv_rich-editor{margin-top:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation.spcv_safari .spcv_messages-list{margin-top:5px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation.spcv_safari .spcv_load-more-messages{margin-top:20px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation.spcv_safari .spcv_top-activity-bar.spcv_has-typing:not(.spcv_has-show-new){margin-bottom:15px}#spotim-specific#spotim-specific .spcv_conversation .spcv_event-state{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}#spotim-specific#spotim-specific .spcv_conversation .spcv_event-state .spcv_event-state-label{line-height:1.5em;color:#7b7f83;font-size:14px}#spotim-specific#spotim-specific .spcv_conversation .spcv_event-state .spcv_event-state-label-empty{line-height:1.5em;font-size:16px;color:var(--spotim-text-color-muted)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_conversation .spcv_event-state .spcv_event-state-label-empty{margin-top:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_tab-mode .spcv_conversation .spcv_top-strip .spcv_registration-buttons>:last-child{margin-right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_tab-mode .spcv_conversation .spcv_top-strip .spcv_registration-buttons>:last-child{margin-left:0}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_conversation .spcv_top-strip .spcv_registration-buttons>:last-child:focus{outline:auto}#spotim-specific#spotim-specific .spcv_live-blog-status{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}#spotim-specific#spotim-specific .spcv_userAreaContainer{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;width:100%;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_userAreaContainer{margin-bottom:15px}#spotim-specific#spotim-specific .spcv_userAreaContainer.spcv_hasUserUsername{-ms-flex-pack:justify;justify-content:space-between}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",conversation:"spcv_conversation","top-strip":"spcv_top-strip",topStrip:"spcv_top-strip","disqus-connect-button":"spcv_disqus-connect-button",disqusConnectButton:"spcv_disqus-connect-button","login-button":"spcv_login-button",loginButton:"spcv_login-button","empty-state":"spcv_empty-state",emptyState:"spcv_empty-state","stars-rating-summary":"spcv_stars-rating-summary",starsRatingSummary:"spcv_stars-rating-summary",flex1:"spcv_flex1","facebook-connect-button":"spcv_facebook-connect-button",facebookConnectButton:"spcv_facebook-connect-button","current-user-menu":"spcv_current-user-menu",currentUserMenu:"spcv_current-user-menu","registration-buttons":"spcv_registration-buttons",registrationButtons:"spcv_registration-buttons",notifications:"spcv_notifications","rich-editor":"spcv_rich-editor",richEditor:"spcv_rich-editor",safari:"spcv_safari","messages-list":"spcv_messages-list",messagesList:"spcv_messages-list","load-more-messages":"spcv_load-more-messages",loadMoreMessages:"spcv_load-more-messages","top-activity-bar":"spcv_top-activity-bar",topActivityBar:"spcv_top-activity-bar","has-typing":"spcv_has-typing",hasTyping:"spcv_has-typing","has-show-new":"spcv_has-show-new",hasShowNew:"spcv_has-show-new","event-state":"spcv_event-state",eventState:"spcv_event-state","event-state-label":"spcv_event-state-label",eventStateLabel:"spcv_event-state-label","event-state-label-empty":"spcv_event-state-label-empty",eventStateLabelEmpty:"spcv_event-state-label-empty","live-blog-status":"spcv_live-blog-status",liveBlogStatus:"spcv_live-blog-status",userAreaContainer:"spcv_userAreaContainer",hasUserUsername:"spcv_hasUserUsername"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ConversationTraffic=void 0;var c,p,a,r,n,l=s(i(40)),d=s(i(41)),m=s(i(1603)),f=s(i(32)),u=s(i(33)),v=s(i(111)),g=s(i(37)),h=s(i(38)),y=s(i(36)),b=s(i(172)),x=(s(i(1604)),s(i(1605))),w=s(i(1611)),M=s(i(117)),E=s(i(65)),k=o(i(3)),S=s(i(35)),C=s(i(57)),T=s(i(633)),I=i(42),R=s(i(1613)),O=s(i(1615)),P=i(186),N=i(1621),A=s(i(46)),U=i(1622),D=i(47);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,y.default)(e);if(t){var o=(0,y.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,h.default)(this,i)}}var B=(c=(0,C.default)((function(e,t){return{type:"clicked",item_id:e.conversationId,__navigate:t.topic.url}})),n=r=function(e){(0,g.default)(s,e);var t,i=L(s);function s(e){var t;return(0,f.default)(this,s),t=i.call(this,e),(0,m.default)(t,"revealCommunity",a,(0,v.default)(t)),t.state={usersDesktop:[],usersMobile:[]},t}return(0,u.default)(s,[{key:"componentDidMount",value:(t=(0,d.default)(l.default.mark((function e(){var t,i,s,o,c,p,a,r,n,d,m;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,i=t.spotId,s=t.postId,o=t.hasCommunity,c=t.conversationBottomPromo,p=t.tracking,o&&c){e.next=3;break}return e.abrupt("return");case 3:return p.trackEvent({type:"loaded"}),a={postId:s,hostUrl:(0,P.getCanonicalHref)()||(0,P.getLocationHref)()},e.next=7,(0,U.getTopicPromo)(i,a);case 7:if(r=e.sent,n=(0,M.default)(r,"topic_id"),d=(0,M.default)(r,"topics[".concat(n,"]")),m=(0,M.default)(r,"users"),"fallback"!==(0,M.default)(r,"status")){e.next=14;break}return e.abrupt("return");case 14:if(d&&m){e.next=17;break}return p.trackEvent({type:"no-topic-found"}),e.abrupt("return",null);case 17:_.forOwn(m,(function(e,t){m[t].id=t})),this.setState({topic:d,usersDesktop:(0,w.default)((0,x.default)(m),5),usersMobile:(0,w.default)((0,x.default)(m),11)});case 19:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.spotName,t=this.state,i=t.topic,s=t.usersDesktop;return i?k.default.createElement("div",{className:R.default.ConversationTrafficContainer,onClick:this.revealCommunity},k.default.createElement(T.default,{threshold:[.2]}),k.default.createElement("div",{className:R.default.Images},k.default.createElement("img",{className:R.default.BigImage,src:(0,N.getImageUrl)(i.promo_2_image_id)})),k.default.createElement("div",{className:R.default.Texts},k.default.createElement("div",{className:R.default.JoinText},"Check out"," ",k.default.createElement("span",{className:R.default.BrandColor},i.name," Community")," on"," ",k.default.createElement("span",{className:R.default.Bold},e),"!ðŸ†"),k.default.createElement("div",{className:R.default.TalkingAboutText},s.length>0&&!(0,D.isMobile)()&&k.default.createElement("div",{className:R.default.UsersCirclesWrapper},k.default.createElement(O.default,{users:s})),(0,D.isMobile)()&&k.default.createElement("span",null,"Interested right now."))),k.default.createElement("button",{className:R.default.RevealCommunityButton},"Read More"," ",k.default.createElement(A.default,{className:R.default.RightArrow,selector:"arrowDown"}))):null}}]),s}(k.PureComponent),r.propTypes={topic:S.default.object,users:S.default.array,audiences:S.default.number,spotName:S.default.string,brandColor:S.default.string,hasCommunity:S.default.bool,tracking:S.default.object,isMobile:S.default.bool},p=n,a=(0,b.default)(p.prototype,"revealCommunity",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){}}}),p);t.ConversationTraffic=B;var j=(0,E.default)((0,I.connect)((function(e){return{brandColor:e.moduleOptions.brandColor,spotName:e.moduleOptions.spotName,conversationId:e.conversation.id,spotId:e.moduleOptions.spotId,postId:e.moduleOptions.postId,hasCommunity:e.moduleOptions.hasCommunity,conversationBottomPromo:e.moduleOptions.conversationBottomPromo}})),(0,C.default)({item_type:"bottom-promo"}))(B);t.default=j},,,,,,,,,,,function(e,t,i){var s=i(30),o=i(1614);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_ConversationTrafficContainer{margin:20px 0;border-bottom:var(--spotim-progress-bar-background-color) 1px solid;padding:0 0 15px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_ConversationTrafficContainer{margin:15px 0;padding:0 0 15px}#spotim-specific#spotim-specific .spcv_Images{vertical-align:middle;position:relative;display:inline-block;height:77px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_Images{cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_Images{margin:0 15px 0 0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_Images{margin:0 0 0 15px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_Images{height:57px}#spotim-specific#spotim-specific .spcv_BigImage{width:77px;height:77px}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_BigImage{width:57px;height:57px}#spotim-specific#spotim-specific .spcv_Texts{vertical-align:middle;display:inline-block;width:calc(100% - 251px)}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_Texts{width:calc(100% - 72px)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_Texts{padding-top:6px}#spotim-specific#spotim-specific .spcv_JoinText{font-size:15px;color:#373e44;line-height:22px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_JoinText{margin:0 0 18px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_JoinText{text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_JoinText{text-align:right}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_JoinText{font-size:14px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_JoinText{margin:0 0 7px}#spotim-specific#spotim-specific .spcv_TalkingAboutText{font-size:15px;color:#373e44;line-height:20px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_TalkingAboutText{cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_TalkingAboutText{text-align:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_TalkingAboutText{text-align:right}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_TalkingAboutText{font-size:13px}#spotim-specific#spotim-specific .spcv_UsersCirclesWrapper{vertical-align:middle;display:inline-block;width:84px;height:26px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_UsersCirclesWrapper{cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_UsersCirclesWrapper{margin-right:9px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_UsersCirclesWrapper{margin-left:9px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_UsersCirclesWrapper .spcv_user-image{border:1px solid #fff}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_UsersCirclesWrapper{width:171px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_mq-mobile .spcv_UsersCirclesWrapper{margin-top:10px}#spotim-specific#spotim-specific .spcv_RevealCommunityButton{font-weight:700;font-size:11px;color:var(--spotim-brand-color);width:144px;height:30px;outline:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_RevealCommunityButton{cursor:pointer;border:1px solid var(--spotim-brand-color);border-radius:4px;background:#fff}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_RevealCommunityButton :hover{background-color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_mq-mobile .spcv_RevealCommunityButton{display:none}#spotim-specific#spotim-specific .spcv_BrandColor{color:var(--spotim-brand-color);font-weight:700}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_BrandColor{cursor:pointer}#spotim-specific#spotim-specific .spcv_BrandColor :hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_Bold{font-weight:700}#spotim-specific#spotim-specific .spcv_RightArrow{width:6px;height:9px;fill:var(--spotim-brand-color)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_RightArrow{padding:1px 0 0}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_RightArrow{transform:rotate(-90deg);margin-left:2px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_RightArrow{transform:rotate(90deg);margin-right:2px}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",ConversationTrafficContainer:"spcv_ConversationTrafficContainer",conversationTrafficContainer:"spcv_ConversationTrafficContainer","mq-mobile":"spcv_mq-mobile",mqMobile:"spcv_mq-mobile",Images:"spcv_Images",images:"spcv_Images",BigImage:"spcv_BigImage",bigImage:"spcv_BigImage",Texts:"spcv_Texts",texts:"spcv_Texts",JoinText:"spcv_JoinText",joinText:"spcv_JoinText",TalkingAboutText:"spcv_TalkingAboutText",talkingAboutText:"spcv_TalkingAboutText",UsersCirclesWrapper:"spcv_UsersCirclesWrapper",usersCirclesWrapper:"spcv_UsersCirclesWrapper","user-image":"spcv_user-image",userImage:"spcv_user-image",RevealCommunityButton:"spcv_RevealCommunityButton",revealCommunityButton:"spcv_RevealCommunityButton",BrandColor:"spcv_BrandColor",brandColor:"spcv_BrandColor",Bold:"spcv_Bold",bold:"spcv_Bold",RightArrow:"spcv_RightArrow",rightArrow:"spcv_RightArrow"}},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=s(i(3)),d=o(i(35)),m=o(i(1616)),f=o(i(1619));function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var v=function(e){(0,a.default)(i,e);var t=u(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"render",value:function(){var e=this.props.users;if(!e)return null;var t=0,i=e.map((function(e){return e?l.default.createElement(m.default,{onClick:onClick,key:e.id,user:e,numInList:t++,showBorder:!0}):null}));t=0;var s=e.map((function(e){return e?l.default.createElement("div",{className:f.default.UserImageBackgroundStyled,key:e.id}):null}));return l.default.createElement("div",{className:f.default.UsersCirclesContainer,style:{width:15*e.length+9+"px"}},i,s)}}]),i}(l.PureComponent);t.default=v,v.propTypes={users:d.default.arrayOf(d.default.object)},v.defaultProps={showBorder:!0}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,p,a,r=s(i(32)),n=s(i(33)),l=s(i(37)),d=s(i(38)),m=s(i(36)),f=o(i(3)),u=s(i(35)),v=s(i(102)),_=s(i(57)),g=s(i(1617)),h=i(59);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,m.default)(e);if(t){var o=(0,m.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,d.default)(this,i)}}var b=(0,_.default)()((a=p=function(e){(0,l.default)(i,e);var t=y(i);function i(e){var s;return(0,r.default)(this,i),(s=t.call(this,e)).onMouseEnter=function(){s.props.onMouseEnter&&s.props.onMouseEnter(s.props.user.userId)},s.onClick=function(){s.props.onClick&&s.props.onClick(s.props.user.userId)},s.state={hasError:!1},s}return(0,n.default)(i,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.props.user;return this.state.hasError?null:f.default.createElement("div",{className:g.default.UserImageContainer},f.default.createElement(v.default,{key:e.id,className:"user-image",size:"small",isOnline:!0,imageId:e.image_id||e.imageId,showButton:!1,onlineIndicator:!0,displayName:(0,h.getDisplayName)(e)}))}}]),i}(f.PureComponent),p.propTypes={user:u.default.object},c=a))||c;t.default=b},function(e,t,i){var s=i(30),o=i(1618);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"#spotim-specific#spotim-specific .spcv_UserImageContainer{position:absolute;top:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_UserImageContainer{border-radius:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_UserImageContainer div:first-child{border:var(--spotim-page-background-color) 1px solid}",""]),t.locals={UserImageContainer:"spcv_UserImageContainer",userImageContainer:"spcv_UserImageContainer"}},function(e,t,i){var s=i(30),o=i(1620);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"#spotim-specific#spotim-specific .spcv_UsersCirclesContainer{position:relative;height:24px}#spotim-specific#spotim-specific .spcv_UserImageBackgroundStyled{display:inline-block;position:absolute;top:0;width:24px;height:24px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_UserImageBackgroundStyled{background-color:var(--spotim-page-background-color);border-radius:100%;border:var(--spotim-page-background-color) 1px solid}",""]),t.locals={UsersCirclesContainer:"spcv_UsersCirclesContainer",usersCirclesContainer:"spcv_UsersCirclesContainer",UserImageBackgroundStyled:"spcv_UserImageBackgroundStyled",userImageBackgroundStyled:"spcv_UserImageBackgroundStyled"}},,,,,,,,,function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ConversationNotifications=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=s(i(3)),d=o(i(35)),m=i(42),f=i(1630),u=i(1631),v=i(566),_=i(701),g=i(1632),h=o(i(1633)),y=i(66);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var x=function(e){(0,a.default)(i,e);var t=b(i);function i(){return(0,c.default)(this,i),t.apply(this,arguments)}return(0,p.default)(i,[{key:"render",value:function(){return l.default.createElement(h.default,this.props)}}]),i}(l.Component);t.ConversationNotifications=x,x.propTypes={notifications:d.default.object.isRequired,isLoading:d.default.bool,onMarkAllAsRead:d.default.func,onMarkAsSeen:d.default.func,onMarkAsRead:d.default.func,onLoadNext:d.default.func,onNotificationClick:d.default.func,direction:d.default.oneOf(["rtl","ltr"]).isRequired,avatarsTheme:d.default.string,showCircleIcon:d.default.bool.isRequired,hostProviderNotify:d.default.func},x.defaultProps={hostProviderNotify:function(){}};var w=(0,m.connect)((function(e){var t=e.notifications,i=e.moduleOptions,s={isLoading:t.isLoading,notifications:t};if(i){var o=(0,y.getModuleOptions)({moduleOptions:i}),c=o.avatarsTheme,p=o.direction;s.avatarsTheme=c,s.direction=p}return s}),{onMarkAllAsRead:u.markAllNotificationsAsRead,onMarkAsSeen:f.markNotificationsAsSeen,onMarkAsRead:g.markNotificationAsRead,onLoadNext:v.getNotifications,onLoadAndReset:_.getAndResetNotifications})(x);t.default=w},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.markNotificationsAsSeen=function(){return function(){var e=(0,c.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.default.markNotificationsAsSeen();case 2:t({type:a.SET_UNSEEN_NOTIFICATION_COUNT,payload:{unseenNotificationsCount:0}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(41)),p=s(i(167)),a=i(99)},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.markAllNotificationsAsRead=function(){return function(){var e=(0,c.default)(o.default.mark((function e(t,i){var s,c,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i(),c=s.notifications,r=c.items.filter((function(e){return!e.read})).map((function(e){return e.id})),e.next=4,p.default.markAllNotificationsAsRead(r);case 4:t({type:a.MARK_ALL_READ});case 5:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(41)),p=s(i(167)),a=i(99)},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.markNotificationAsRead=function(e){var t=e.id;return function(){var e=(0,c.default)(o.default.mark((function e(i){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.default.markNotificationAsRead(t);case 2:i({type:a.MARK_AS_READ,payload:{id:t}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var o=s(i(40)),c=s(i(41)),p=s(i(167)),a=i(99)},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Notifications=void 0;var c,p=o(i(3)),a=i(42),r=s(i(14)),n=s(i(4)),l=i(1634),d=i(1637),m=i(66),f=i(52),u=s(i(1656)),v=o(i(48)),_=i(43),g=i(45),h=i(701),y=i(55),b=i(50),x=i(44),w=i(99),M=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),E=function(e,t,i,s){return new(i||(i=Promise))((function(o,c){function p(e){try{r(s.next(e))}catch(e){c(e)}}function a(e){try{r(s.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(p,a)}r((s=s.apply(e,t||[])).next())}))},k=function(e,t){var i,s,o,c,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(i)throw new TypeError("Generator is already executing.");for(;p;)try{if(i=1,s&&(o=2&c[0]?s.return:c[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,c[1])).done)return o;switch(s=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return p.label++,{value:c[1],done:!1};case 5:p.label++,s=c[1],c=[0];continue;case 7:c=p.ops.pop(),p.trys.pop();continue;default:if(!(o=p.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){p=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){p.label=c[1];break}if(6===c[0]&&p.label<o[1]){p.label=o[1],o=c;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(c);break}o[2]&&p.ops.pop(),p.trys.pop();continue}c=t.call(e,p)}catch(e){c=[6,e],s=0}finally{i=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showMenu:!1,unseenCount:t.props.notifications.unseenCount,isPostPage:t.props.contentType===x.ContentType.Post},t.onTooltipToggle=function(){t.props.onLoadAndReset(),t.setState({showMenu:!t.state.showMenu})},t.handleTooltipClick=function(e){13===e.keyCode&&(t.props.onLoadAndReset(),t.onTooltipToggle())},t.onIndicatorHover=function(){var e={type:"hovered",item_type:"header",target_type:"notifications-bell",post_id:t.props.postId};(0,b.analyticsTrack)(e)},t.onTooltipShow=function(){return E(t,void 0,void 0,(function(){var e,t,i,s,o,c,p;return k(this,(function(a){return e=this.props,t=e.hostProviderNotify,i=e.postId,s=e.isLoaded,o=e.convId,c=e.setNotificationLoaded,s||(this.props.getAndResetNotifications(),c()),this.setState({showMenu:!0,unseenCount:0}),p={type:"notifications-bell-clicked",item_type:"notifications",target_type:"on",post_id:i,source:this.state.isPostPage?"post-page":"conversation",ugc_post_id:o},(0,b.analyticsTrack)(p),t(f.CLICKED_NOTIFICATION),[2]}))}))},t.onTooltipHide=function(){var e=t.props,i=e.postId,s=e.convId;t.setState({showMenu:!1});var o={type:"notifications-bell-clicked",item_type:"notifications",target_type:"off",post_id:i,source:t.state.isPostPage?"post-page":"conversation",ugc_post_id:s};(0,b.analyticsTrack)(o)},t.onNotificationClick=function(e){t.props.onNotificationClick(e),t.onTooltipToggle()},t.handleCloseTooltip=function(){t.setState({showMenu:!1})},t}return M(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.notifications.unseenCount;this.props.notifications.unseenCount!==t&&this.setState({unseenCount:t})},t.prototype.render=function(){var e,t=this,i=this.props,s=i.notifications,o=i.isLoading,c=i.connectEnabled,a=i.onLoadNext,m=i.onMarkAsRead,f=i.onMarkAllAsRead,v=i.className,h=i.avatarsTheme,b=i.showCircleIcon,w=i.isModal,M=i.isLiveBlog,E=i.currentUser,k=i.notificationsAlreadyLoaded,S=this.state,C=S.unseenCount,T=S.showMenu;v=(0,r.default)(u.default.notifications,((e={})[u.default.loginDisabled]=!c,e),v);var I=n.default.get("init_data.config.ltr")?"bottom-end":"bottom-start";return M&&!(0,y.isLoggedIn)(E)?null:p.default.createElement("div",{className:v,id:"spotim-bell-notification"},p.default.createElement(_.Menu,{isLtr:x.isLtr,placement:I,showMenu:T,onShowChange:function(e){e?t.onTooltipShow():t.onTooltipHide()},mobileCancelButtonContent:p.default.createElement(g.TranslationWrapper,{i18nKey:"menu.closeButton"},"Done"),menuButton:p.default.createElement(l.NotificationsIndicator,{active:T,count:C,onIndicatorHover:this.onIndicatorHover,showCircleIcon:b})},p.default.createElement(d.NotificationsTooltip,{avatarsTheme:h,notifications:s,isLoading:o||!k,onNotificationClick:this.onNotificationClick,onLoadNext:a,onMarkAsRead:m,onMarkAllAsRead:f,onShow:this.onTooltipShow,onHide:this.onTooltipHide,isModal:w})))},t.defaultProps={connectEnabled:!0,hostProviderNotify:function(){}},t}(p.Component);t.Notifications=S;var C=(0,a.connect)((function(e){var t=(0,m.getModuleOptions)(e),i=t.theme,s=t.postId,o=v.isLiveBlog(e),c=e.conversation,p=c.contentType,a=c.id;return{theme:i,isLiveBlog:o,currentUser:v.getCurrentUser(e),postId:s,convId:a,notificationsAlreadyLoaded:e.notifications.isLoaded,contentType:p}}),(function(e){return{getAndResetNotifications:function(){e((0,h.getAndResetNotifications)())},setNotificationLoaded:function(){e({type:w.SET_IS_LOADED,payload:{isLoaded:!0}})}}}))(S);t.default=C},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NotificationsIndicator=void 0;var c=o(i(34)),p=o(i(32)),a=o(i(33)),r=o(i(37)),n=o(i(38)),l=o(i(36)),d=o(i(35)),m=s(i(3)),f=i(42),u=o(i(14)),v=o(i(702));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,n.default)(this,i)}}var g=function(e){(0,r.default)(s,e);var t=_(s);function s(){var e;(0,p.default)(this,s);for(var o=arguments.length,c=new Array(o),a=0;a<o;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).snippets=i(1636),e}return(0,a.default)(s,[{key:"render",value:function(){var e=this.props,t=e.count,i=e.active,s=e.onClick,o=e.onIndicatorHover,p=e.showCircleIcon,a=(0,u.default)(v.default.indicator,(0,c.default)({},v.default.active,t||i)),r=null;return t>0&&(r=m.default.createElement("span",{className:v.default.counter})),m.default.createElement("div",{onMouseEnter:o,className:a,onClick:s},this.snippets.getNotificationIcon({showCircleIcon:p}),r)}}]),s}(m.Component);t.NotificationsIndicator=g,g.displayName="NotificationsIndicator",g.propTypes={count:d.default.number,active:d.default.bool,onClick:d.default.func,onIndicatorHover:d.default.func,showCircleIcon:d.default.bool.isRequired,spotId:d.default.string},g.defaultProps={count:0,active:!1,onClick:function(){}};var h=(0,f.connect)((function(e){return{spotId:e.moduleOptions.spotId}}))(g);t.default=h},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_notifications .spcv_indicator{position:relative}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications .spcv_indicator{cursor:pointer}#spotim-specific#spotim-specific .spcv_notifications .spcv_indicator .spcv_icon{height:15px;width:15px;color:var(--spotim-text-color-x-muted)}#spotim-specific#spotim-specific .spcv_notifications .spcv_indicator .spcv_icon:hover{fill:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_notifications .spcv_indicator .spcv_notificationIcon{height:19px;width:19px;fill:#c3c5c7}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications .spcv_indicator .spcv_notificationIcon{transform:translateY(-1px)}#spotim-specific#spotim-specific .spcv_notifications .spcv_indicator .spcv_notificationIcon:hover{fill:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_notifications .spcv_indicator .spcv_counter{width:6px;height:6px;position:absolute;top:6px;display:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications .spcv_indicator .spcv_counter{background:var(--spotim-brand-color);border-radius:100%;box-shadow:0 0 0 1px var(--spotim-page-background-color)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications .spcv_indicator .spcv_counter{right:0}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications .spcv_indicator .spcv_counter{left:0}#spotim-specific#spotim-specific .spcv_notifications .spcv_indicator.spcv_active .spcv_counter{display:block}#spotim-specific#spotim-specific .spcv_notifications .spcv_indicator.spcv_active .spcv_icon,#spotim-specific#spotim-specific .spcv_notifications .spcv_indicator:hover .spcv_icon{fill:var(--spotim-brand-color)}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",notifications:"spcv_notifications",indicator:"spcv_indicator",icon:"spcv_icon",notificationIcon:"spcv_notificationIcon",counter:"spcv_counter",active:"spcv_active"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getNotificationIcon=void 0;var o=s(i(3)),c=s(i(46)),p=s(i(702));t.getNotificationIcon=function(e){return e.showCircleIcon?o.default.createElement(c.default,{className:p.default.icon,selector:"bellIcon"}):o.default.createElement(c.default,{className:p.default.icon,selector:"regularBellIcon"})}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsTooltip=void 0;var c,p=o(i(3)),a=s(i(14)),r=i(47),n=i(1638),l=i(1641),d=s(i(1650)),m=i(1653),f=i(157),u=s(i(1654)),v=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.render=function(){var e,t=this.props,i=t.notifications,s=t.className,o=t.isLoading,c=t.onMarkAsRead,v=t.onLoadNext,_=t.onNotificationClick,g=t.onMarkAllAsRead,h=t.avatarsTheme,y=t.isModal,b=i.items,x=i.order,w=(0,f.hasNext)(i),M=(0,f.isEmpty)(i),E=(0,a.default)(u.default.notificationsTooltip,((e={})[u.default.noNotifications]=M,e),s),k=x.map((function(e){return b[e]}));return p.default.createElement("div",{className:E},!(0,r.isMobile)()&&p.default.createElement(n.NotificationsHeader,{unreadCount:k.length,onMarkAllAsRead:g}),!M&&p.default.createElement(l.NotificationsList,{items:k,avatarsTheme:h,isEmpty:M,hasNext:w,isLoading:o,onMarkAsRead:c,onNotificationClick:_,onLoadNext:v,isModal:y}),o&&M&&p.default.createElement(m.ActivityIndicator,null),!o&&M&&p.default.createElement(d.default,null))},t.defaultProps={isLoading:!1,onNotificationClick:function(){},onLoadNext:function(){},onMarkAsRead:function(){},onMarkAllAsRead:function(){},onHide:function(){},onShow:function(){},toggleObservable:void 0,showObservable:void 0,hideObservable:void 0,className:""},t}(p.Component);t.NotificationsTooltip=_},function(e,t,i){"use strict";var s=i(29),o=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsHeader=void 0;var c=o(i(32)),p=o(i(33)),a=o(i(37)),r=o(i(38)),n=o(i(36)),l=o(i(35)),d=s(i(3)),m=o(i(1639)),f=i(146),u=i(56);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,s=(0,n.default)(e);if(t){var o=(0,n.default)(this).constructor;i=Reflect.construct(s,arguments,o)}else i=s.apply(this,arguments);return(0,r.default)(this,i)}}var _=function(e){(0,a.default)(i,e);var t=v(i);function i(){var e;(0,c.default)(this,i);for(var s=arguments.length,o=new Array(s),p=0;p<s;p++)o[p]=arguments[p];return(e=t.call.apply(t,[this].concat(o))).handleMarkAsReadKeyUp=function(t){var i=e.props.onMarkAllAsRead;13===t.keyCode&&(t.stopPropagation(),i())},e}return(0,p.default)(i,[{key:"componentDidMount",value:function(){(0,f.rearrangeTabIndexes)()}},{key:"componentDidUpdate",value:function(){(0,f.rearrangeTabIndexes)()}},{key:"render",value:function(){var e=this.props,t=e.unreadCount,i=e.onMarkAllAsRead,s=null;return t>0&&(s=d.default.createElement(u.TranslatedText,{textKey:"notifications.markAsRead",className:m.default.markAsRead,onClick:i,onKeyUp:this.handleMarkAsReadKeyUp})),d.default.createElement("header",{className:m.default.notificationsTooltipHeader},d.default.createElement(u.TranslatedText,{textKey:"notifications.title",className:m.default.title}),t>0&&d.default.createElement("div",{className:m.default.counter},t),s)}}]),i}(d.Component);t.NotificationsHeader=_,_.displayName="NotificationsHeader",_.propTypes={unreadCount:l.default.number,onMarkAllAsRead:function(){}},_.defaultProps={unreadCount:0,onMarkAllAsRead:function(){}}},function(e,t,i){var s=i(30),o=i(1640);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_mark-as-read{color:#307fe2;display:inline-block;font-size:18px;line-height:20px;outline:none;text-decoration:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip-header .spcv_mark-as-read{cursor:pointer}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_mark-as-read,#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_mark-as-read:hover{transition:color .2s ease}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_mark-as-read:hover{text-decoration:underline}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_mark-as-read{color:#7b7f83}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_mark-as-read:hover{color:#373e44}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_mark-as-read{font-size:15px;line-height:18px;white-space:pre-line;word-break:break-word;word-wrap:break-word}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header{font-family:var(--spotim-font-family);display:-ms-flexbox;display:flex;-ms-flex-align:baseline;align-items:baseline}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip-header{border-bottom:1px solid var(--spotim-border-color);padding:9px 15px}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_title{font-size:var(--spotim-font-size-medium);font-weight:var(--spotim-font-weight-bold)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip-header .spcv_title{float:left}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip-header .spcv_title{float:right}@media only screen and (max-width:414px){#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_title{font-size:var(--spotim-font-size-medium)}}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_counter{color:#fff;font-size:var(--spotim-font-size-x-small);font-weight:var(--spotim-font-weight-bold);line-height:1.3em;letter-spacing:-.4px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip-header .spcv_counter{background-color:var(--spotim-brand-color);border-radius:20px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip-header .spcv_counter{padding:0 7px 0 6px;margin-left:6px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip-header .spcv_counter{padding:0 6px 0 7px;margin-right:6px}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header .spcv_mark-as-read{font-size:var(--spotim-font-size-small);display:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip-header .spcv_mark-as-read{float:right}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip-header .spcv_mark-as-read{float:left}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip-header.spcv_empty{border:0}#spotim-specific#spotim-specific .spcv_notifications-tooltip-header.spcv_empty .spcv_title{color:#a8abae;display:block;font-size:var(--spotim-font-size-small);font-weight:700;text-transform:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip-header.spcv_empty .spcv_title{float:none!important;text-align:center}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_notifications-tooltip-header .spcv_mark-as-read:focus{outline:auto}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","notifications-tooltip-header":"spcv_notifications-tooltip-header",notificationsTooltipHeader:"spcv_notifications-tooltip-header","mark-as-read":"spcv_mark-as-read",markAsRead:"spcv_mark-as-read",title:"spcv_title",counter:"spcv_counter",empty:"spcv_empty"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsList=void 0;var c,p=o(i(3)),a=s(i(1642)),r=s(i(1648)),n=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollWrapperRef=p.default.createRef(),t.onScroll=function(){var e=t.scrollWrapperRef.current;if(e){var i=e.scrollTop;if(e.scrollHeight-e.clientHeight-i<30){var s=t.props,o=s.hasNext,c=s.onLoadNext,p=s.isLoading;o&&!p&&c()}}},t}return n(t,e),t.prototype.render=function(){var e=this.props,t=e.items,i=e.isEmpty,s=e.onMarkAsRead,o=e.onNotificationClick,c=e.avatarsTheme,n=e.isModal;return i?null:p.default.createElement("ul",{className:r.default.list,ref:this.scrollWrapperRef,onScroll:this.onScroll},t.map((function(e){return p.default.createElement(a.default,{key:e.id,avatarsTheme:c,onClick:o,onMarkAsRead:s,item:e,isModal:n})})))},t.defaultProps={isEmpty:!1,hasNext:!1,isLoading:!1,onMarkAsRead:function(){},onNotificationClick:function(){},onLoadNext:function(){}},t}(p.Component);t.NotificationsList=l},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NotificationItem=void 0;var c,p=o(i(3)),a=i(42),r=s(i(14)),n=i(657),l=i(1643),d=s(i(102)),m=s(i(1646)),f=i(123),u=i(50),v=i(68),_=i(59),g=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){var i=t.props,s=i.onMarkAsRead,o=i.item,c=i.onClick,p=i.postId,a=o.id,r=o.conversationUrl,n=o.message,l=o.spotId,d=o.conversationId,m=o.type;s({id:a}),c({conversationUrl:r,message:n,spotId:l,conversationId:d,newTab:1===e.button||e.ctrlKey||e.metaKey});var f={type:"notification-click",item_type:"notifications",target_type:m,item_id:n&&n.id,conversation_id:d,post_id:p};(0,u.analyticsTrack)(f)},t.handleNotificationClick=function(e){13===e.keyCode&&(e.stopPropagation(),t.onClick(e))},t}return g(t,e),t.prototype.render=function(){var e,t=this.props,i=t.item,s=t.avatarsTheme,o=t.isModal,c=t.spotId,a=i.users[i.userId]||(0,v.createUserObject)();return p.default.createElement("li",{className:(0,r.default)(m.default.item,(e={},e[m.default.read]=i.read,e)),onClick:this.onClick,onKeyUp:this.handleNotificationClick},p.default.createElement(d.default,{size:f.USER_IMAGE_SIZE.NORMAL,isOnline:a.isOnline||!1,imageId:a.imageId||"",showButton:!1,onlineIndicator:!1,avatarsTheme:s,username:(0,_.getDisplayName)(a)||a.username,isHighlighted:function(e){return e.isAdmin||e.isModerator||e.isJournalist}(a),isModal:o,spotId:o?o.spotId:c,displayName:(0,_.getDisplayName)(a)}),p.default.createElement("div",{className:m.default.contentWrap},p.default.createElement(n.Content,{item:i,message:i.message,user:a}),p.default.createElement(l.Details,{item:i})))},t.defaultProps={onClick:function(){},onMarkAsRead:function(){}},t}(p.Component);t.NotificationItem=h;var y=(0,a.connect)((function(e){return{spotId:e.moduleOptions.spotId,postId:e.moduleOptions.postId}}))(h);t.default=y},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.Details=void 0;var c,p=o(i(3)),a=s(i(14)),r=s(i(663)),n=s(i(46)),l=i(157),d=s(i(1644)),m=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t.prototype.render=function(){var e=this.props.item,t=null;switch(e.type){case l.NotificationType.REPLIED_YOUR_MESSAGE:case l.NotificationType.ALSO_REPLIED:t="commentIcon";break;case l.NotificationType.LIKED_MESSAGE:t="voteUpIcon";break;case l.NotificationType.MENTION:t="mentionIcon"}return p.default.createElement("div",{className:(0,a.default)(d.default.details,d.default[t])},p.default.createElement(n.default,{className:d.default.icon,selector:t}),p.default.createElement("div",{className:d.default.updatedAt},p.default.createElement(r.default,{date:e.updatedAt,longDate:!0})))},t}(p.Component);t.Details=f},function(e,t,i){var s=i(30),o=i(1645);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_details>*{display:inline-block}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_details.spcv_comment>*{vertical-align:text-bottom}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_details.spcv_icon-up-vote>*{vertical-align:middle}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_details .spcv_icon{height:14px;width:14px;fill:#c3c5c7;vertical-align:middle}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_details .spcv_icon{margin-right:5px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_details .spcv_icon{margin-left:5px}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_details .spcv_updated-at{color:#7b7f83;vertical-align:middle}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","notifications-tooltip":"spcv_notifications-tooltip",notificationsTooltip:"spcv_notifications-tooltip",details:"spcv_details",comment:"spcv_comment","icon-up-vote":"spcv_icon-up-vote",iconUpVote:"spcv_icon-up-vote",icon:"spcv_icon","updated-at":"spcv_updated-at",updatedAt:"spcv_updated-at"}},function(e,t,i){var s=i(30),o=i(1647);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,'@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_item{display:-ms-flexbox;display:flex;font-size:var(--spotim-font-size-small);position:relative;outline:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_item{cursor:pointer;margin-bottom:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_item{padding:15px 20px 15px 17px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_item{padding:15px 17px 15px 20px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_item:last-child{margin-bottom:0}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_item:before{position:absolute;content:"";top:0;bottom:0;opacity:.1}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_item:before{border-radius:var(--spotim-border-radius-medium)}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_item:before,#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_item:before{left:0;right:0}@media only screen and (max-width:414px){#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_item:before{border-radius:0}}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_item .spcv_details{font-size:var(--spotim-font-size-x-small)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_item:last-child{border-bottom:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_item:hover:before{background-color:var(--spotim-brand-color)}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_item .spcv_user-image{-ms-flex-negative:0;flex-shrink:0}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_item .spcv_user-image{cursor:pointer}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_item .spcv_user-image{margin-right:10px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_item .spcv_user-image{margin-left:10px}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_item .spcv_content-wrap{-ms-flex:0 1 auto;flex:0 1 auto;word-break:break-word}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications-tooltip .spcv_item .spcv_content-wrap{margin-left:9px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications-tooltip .spcv_item .spcv_content-wrap{margin-right:9px}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_item .spcv_content{font-weight:var(--spotim-font-weight-bold)}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_item.spcv_read .spcv_content{font-weight:400}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_notifications-tooltip .spcv_item:focus{outline:auto;outline-offset:-6px;outline-width:2px}',""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","notifications-tooltip":"spcv_notifications-tooltip",notificationsTooltip:"spcv_notifications-tooltip",item:"spcv_item",details:"spcv_details","user-image":"spcv_user-image",userImage:"spcv_user-image","content-wrap":"spcv_content-wrap",contentWrap:"spcv_content-wrap",content:"spcv_content",read:"spcv_read"}},function(e,t,i){var s=i(30),o=i(1649);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_list{list-style-type:none}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_list{margin:0;padding:0}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_scroll-wrapper{overflow:hidden;max-height:287px;overflow-x:hidden;overflow-y:auto}@media only screen and (max-width:414px){#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_scroll-wrapper{max-height:calc(100vh - 40px)}}#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_list{overflow:auto}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_list{padding:10px}@media only screen and (max-width:414px){#spotim-specific#spotim-specific .spcv_notifications-tooltip .spcv_list{overflow:visible}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip .spcv_list{padding:0}}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","notifications-tooltip":"spcv_notifications-tooltip",notificationsTooltip:"spcv_notifications-tooltip",list:"spcv_list","scroll-wrapper":"spcv_scroll-wrapper",scrollWrapper:"spcv_scroll-wrapper"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(i(3)),c=s(i(1651)),p=i(45),a=function(){return o.default.createElement("div",{className:c.default.notificationsEmptyState},o.default.createElement("div",{className:c.default.placeholder},o.default.createElement("div",{className:c.default.circle}),o.default.createElement("div",{className:c.default.line1}),o.default.createElement("div",{className:c.default.line2})),o.default.createElement("div",{className:c.default.title},o.default.createElement(p.TranslationWrapper,{i18nKey:"notification.emptyStateTitle"},"No Notifications Yet :(")),o.default.createElement("div",{className:c.default.subtitle},o.default.createElement(p.TranslationWrapper,{i18nKey:"notification.emptyStateBody"},"Start interacting with others and your inbox will be full in no time!")))};t.default=a},function(e,t,i){var s=i(30),o=i(1652);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"#spotim-specific#spotim-specific .spcv_notificationsEmptyState{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notificationsEmptyState{padding:56px 40px;text-align:center}#spotim-specific#spotim-specific .spcv_notificationsEmptyState .spcv_placeholder{position:relative;width:199px;height:55px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notificationsEmptyState .spcv_placeholder{border-radius:6px;box-shadow:0 0 10px 0 rgba(0,0,0,.15);background-color:var(--spotim-list-item-background);margin-bottom:23px}#spotim-specific#spotim-specific .spcv_notificationsEmptyState .spcv_circle{position:absolute;width:29px;height:29px;top:12px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notificationsEmptyState .spcv_circle{background-color:var(--spotim-list-item-foreground);border-radius:100%}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notificationsEmptyState .spcv_circle{left:16px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notificationsEmptyState .spcv_circle{right:16px}#spotim-specific#spotim-specific .spcv_notificationsEmptyState .spcv_line1{position:absolute;width:123px;height:10px;top:13px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notificationsEmptyState .spcv_line1{border-radius:5px;background-color:var(--spotim-list-item-foreground);border-radius:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notificationsEmptyState .spcv_line1{left:57px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notificationsEmptyState .spcv_line1{right:57px}#spotim-specific#spotim-specific .spcv_notificationsEmptyState .spcv_line2{position:absolute;width:88px;height:10px;top:31px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notificationsEmptyState .spcv_line2{border-radius:5.5px;background-color:var(--spotim-list-item-foreground);border-radius:10px}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notificationsEmptyState .spcv_line2{left:57px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notificationsEmptyState .spcv_line2{right:57px}#spotim-specific#spotim-specific .spcv_notificationsEmptyState .spcv_title{color:var(--spotim-text-color-default);font-size:var(--spotim-font-size-large);font-weight:var(--spotim-font-weight-bold)}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notificationsEmptyState .spcv_title{margin-bottom:6px}#spotim-specific#spotim-specific .spcv_notificationsEmptyState .spcv_subtitle{color:var(--spotim-text-color-muted);font-size:var(--spotim-font-size-small);width:100%}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notificationsEmptyState .spcv_subtitle{margin-bottom:6px}",""]),t.locals={notificationsEmptyState:"spcv_notificationsEmptyState",placeholder:"spcv_placeholder",circle:"spcv_circle",line1:"spcv_line1",line2:"spcv_line2",title:"spcv_title",subtitle:"spcv_subtitle"}},function(e,t,i){"use strict";var s=i(0);Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityIndicator=void 0;var o=s(i(3)),c=s(i(177)),p=s(i(4));t.ActivityIndicator=function(){return o.default.createElement(c.default,{rtl:!p.default.get("init_data.config.ltr"),width:310,height:280,speed:2,primaryColor:getComputedStyle(document.documentElement).getPropertyValue("--spotim-content-loader-primary-color"),secondaryColor:getComputedStyle(document.documentElement).getPropertyValue("--spotim-content-loaders-secondary-color")},o.default.createElement("circle",{cx:"47",cy:"47",r:"17"}),o.default.createElement("rect",{x:"73",y:"30",rx:"8",ry:"8",width:"174",height:"13"}),o.default.createElement("rect",{x:"73",y:"50",rx:"8",ry:"8",width:"139",height:"13"}),o.default.createElement("circle",{cx:"47",cy:"138",r:"17"}),o.default.createElement("rect",{x:"73",y:"121",rx:"8",ry:"8",width:"174",height:"13"}),o.default.createElement("rect",{x:"73",y:"141",rx:"8",ry:"8",width:"139",height:"13"}),o.default.createElement("circle",{cx:"47",cy:"229",r:"17"}),o.default.createElement("rect",{x:"73",y:"212",rx:"8",ry:"8",width:"174",height:"13"}),o.default.createElement("rect",{x:"73",y:"232",rx:"8",ry:"8",width:"139",height:"13"}))}},function(e,t,i){var s=i(30),o=i(1655);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_notifications-tooltip{color:var(--spotim-text-color-muted);font-family:var(--spotim-font-family);display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;max-height:334px;width:310px}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip{background-color:var(--spotim-overlay-background-color);border-radius:var(--spotim-border-radius-medium)}@media only screen and (max-width:414px){#spotim-specific#spotim-specific .spcv_notifications-tooltip{width:100%;max-height:inherit}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip{border:none;border-radius:0}}#spotim-specific#spotim-specific [data-spot-im-direction] .spcv_notifications-tooltip.spcv_no-notifications{padding-bottom:0}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode","notifications-tooltip":"spcv_notifications-tooltip",notificationsTooltip:"spcv_notifications-tooltip","no-notifications":"spcv_no-notifications",noNotifications:"spcv_no-notifications"}},function(e,t,i){var s=i(30),o=i(1657);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var c={attributes:{"data-spot-im-style":!0,"data-spot-im-style-module":"conversation"},insert:function(e){document.head.appendChild(e),window.__SPOTIM__.stylesheetElementAdded&&window.__SPOTIM__.stylesheetElementAdded({stylesheetElement:e,module:"conversation"})},singleton:!1};s(o,c);e.exports=o.locals||{}},function(e,t,i){(t=e.exports=i(31)()).push([e.i,"@media (max-width:1px){#spotim-specific#spotim-specific .spcv_accessibility-mode,#spotim-specific#spotim-specific .spcv_tab-mode{color:initial}}#spotim-specific#spotim-specific .spcv_notifications{outline:none}#spotim-specific#spotim-specific [data-spot-im-direction=ltr] .spcv_notifications.spcv_login-disabled .spcv_indicator .spcv_counter{left:auto;right:8px}#spotim-specific#spotim-specific [data-spot-im-direction=rtl] .spcv_notifications.spcv_login-disabled .spcv_indicator .spcv_counter{right:auto;left:8px}#spotim-specific#spotim-specific .spcv_tab-mode .spcv_notifications:focus .spcv_indicator{outline:auto}",""]),t.locals={"accessibility-mode":"spcv_accessibility-mode",accessibilityMode:"spcv_accessibility-mode","tab-mode":"spcv_tab-mode",tabMode:"spcv_tab-mode",notifications:"spcv_notifications","login-disabled":"spcv_login-disabled",loginDisabled:"spcv_login-disabled",indicator:"spcv_indicator",counter:"spcv_counter"}},function(e,t,i){"use strict";var s=i(0),o=i(29);Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationSurvey=void 0;var c=o(i(3)),p=s(i(4));t.ConversationSurvey=function(e){var t=e.commentsRootCount,i=e.postId,s=(0,c.useRef)(null),o=function(e,t){var i;e&&(null===(i=null===window||void 0===window?void 0:window.__SPOTIM__)||void 0===i||i.renderSurvey({element:e,postId:t}))},a=(0,c.useMemo)((function(){var e=p.default.get("tenant_config.conversation-survey.enabled",!1),i=p.default.get("tenant_config.conversation-survey.minimum_num_of_comments",10);return e&&i<=t}),[t]);return(0,c.useEffect)((function(){return function(){if(null==s?void 0:s.current){var e=new IntersectionObserver((function(e,t){e[0].isIntersecting&&(t.disconnect(),o(s.current,i))}),{threshold:[.99],rootMargin:"0px 0px -160px 0px"});return e.observe(s.current),function(){(null==s?void 0:s.current)&&e.unobserve(s.current)}}}()}),[a]),a&&c.default.createElement("div",{ref:s})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRenderUserMenu=t.isPCAForceDisabled=t.claimDisqusForumAccount=t.shouldRenderReporterSayControl=t.getloadMoreCommentsTextKey=t.getRichEditorPlaceholder=void 0;t.getRichEditorPlaceholder=function(e){var t=e.messagesCount,i=e.isStarsRatingEnabled;return t>0?i?"richEditor.placeholder.hasMessagesWithStarsRatingEnabled":"richEditor.placeholder.hasMessages":i?"richEditor.placeholder.noMessagesWithStarsRatingEnabled":"richEditor.placeholder.noMessages"};t.getloadMoreCommentsTextKey=function(e){return e.isLiveBlog?"liveBlog.loadMoreReplies":"inpage.conversation.loadMoreReplies"};t.shouldRenderReporterSayControl=function(){return!0};t.claimDisqusForumAccount=!1;t.isPCAForceDisabled=!1;t.shouldRenderUserMenu=function(){return!0}}])]);
//# sourceMappingURL=conversation-component-bundle.js.map