Drupal.cmd.push(function(){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0];var j=d.createElement(s);var dl=l!='dataLayer'?'&l='+l:'';j.type='text/javascript';j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl+'';j.async=!0;f.parentNode.insertBefore(j,f)})(window,document,'script','dataLayer','GTM-TVS8NW5');(function(){var g=/\[object (Boolean|Number|String|Function|Array|Date|RegExp)\]/;function h(a){return null==a?String(a):(a=g.exec(Object.prototype.toString.call(Object(a))))?a[1].toLowerCase():"object"}function k(a,b){return Object.prototype.hasOwnProperty.call(Object(a),b)}function m(a){if(!a||"object"!=h(a)||a.nodeType||a==a.window)return!1;try{if(a.constructor&&!k(a,"constructor")&&!k(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var c in a);return void 0===c||k(a,c)};function n(a,b,c){this.b=a;this.f=b||function(){};this.d=!1;this.a={};this.c=[];this.e=p(this);r(this,a,!c);var d=a.push,e=this;a.push=function(){var b=[].slice.call(arguments,0),c=d.apply(a,b);r(e,b);return c}}window.DataLayerHelper=n;n.prototype.get=function(a){var b=this.a;a=a.split(".");for(var c=0;c<a.length;c++){if(void 0===b[a[c]])return;b=b[a[c]]}return b};n.prototype.flatten=function(){this.b.splice(0,this.b.length);this.b[0]={};s(this.a,this.b[0])};function r(a,b,c){for(a.c.push.apply(a.c,b);!1===a.d&&0<a.c.length;){b=a.c.shift();if("array"==h(b))a:{var d=b,e=a.a;if("string"==h(d[0])){for(var f=d[0].split("."),u=f.pop(),d=d.slice(1),l=0;l<f.length;l++){if(void 0===e[f[l]])break a;e=e[f[l]]}try{e[u].apply(e,d)}catch(v){}}}else if("function"==typeof b)try{b.call(a.e)}catch(w){}else if(m(b))for(var q in b)s(t(q,b[q]),a.a);else continue;c||(a.d=!0,a.f(a.a,b),a.d=!1)}}
function p(a){return{set:function(b,c){s(t(b,c),a.a)},get:function(b){return a.get(b)}}}function t(a,b){for(var c={},d=c,e=a.split("."),f=0;f<e.length-1;f++)d=d[e[f]]={};d[e[e.length-1]]=b;return c}function s(a,b){for(var c in a)if(k(a,c)){var d=a[c];"array"==h(d)?("array"==h(b[c])||(b[c]=[]),s(d,b[c])):m(d)?(m(b[c])||(b[c]={}),s(d,b[c])):b[c]=d}}})();(function(){var b,f;b=this.jQuery||window.jQuery;f=b(window);b.fn.stick_in_parent=function(d){var A,w,J,n,B,K,p,q,k,E,t;null==d&&(d={});t=d.sticky_class;B=d.inner_scrolling;E=d.recalc_every;k=d.parent;q=d.offset_top;p=d.spacer;w=d.bottoming;null==q&&(q=0);null==k&&(k=void 0);null==B&&(B=!0);null==t&&(t="is_stuck");A=b(document);null==w&&(w=!0);J=function(a,d,n,C,F,u,r,G){var v,H,m,D,I,c,g,x,y,z,h,l;if(!a.data("sticky_kit")){a.data("sticky_kit",!0);I=A.height();g=a.parent();null!=k&&(g=g.closest(k));if(!g.length)throw"failed to find stick parent";v=m=!1;(h=null!=p?p&&a.closest(p):b("<div />"))&&h.css("position",a.css("position"));x=function(){var c,f,e;if(!G&&(I=A.height(),c=parseInt(g.css("border-top-width"),10),f=parseInt(g.css("padding-top"),10),d=parseInt(g.css("padding-bottom"),10),n=g.offset().top+c+f,C=g.height(),m&&(v=m=!1,null==p&&(a.insertAfter(h),h.detach()),a.css({position:"",top:"",width:"",bottom:""}).removeClass(t),e=!0),F=a.offset().top-(parseInt(a.css("margin-top"),10)||0)-q,u=a.outerHeight(!0),r=a.css("float"),h&&h.css({width:a.outerWidth(!0),height:u,display:a.css("display"),"vertical-align":a.css("vertical-align"),"float":r}),e))return l()};x();if(u!==C)return D=void 0,c=q,z=E,l=function(){var b,l,e,k;if(!G&&(e=!1,null!=z&&(--z,0>=z&&(z=E,x(),e=!0)),e||A.height()===I||x(),e=f.scrollTop(),null!=D&&(l=e-D),D=e,m?(w&&(k=e+u+c>C+n,v&&!k&&(v=!1,a.css({position:"fixed",bottom:"",top:c}).trigger("sticky_kit:unbottom"))),e<F&&(m=!1,c=q,null==p&&("left"!==r&&"right"!==r||a.insertAfter(h),h.detach()),b={position:"",width:"",top:""},a.css(b).removeClass(t).trigger("sticky_kit:unstick")),B&&(b=f.height(),u+q>b&&!v&&(c-=l,c=Math.max(b-u,c),c=Math.min(q,c),m&&a.css({top:c+"px"})))):e>F&&(m=!0,b={position:"fixed",top:c},b.width="border-box"===a.css("box-sizing")?a.outerWidth()+"px":a.width()+"px",a.css(b).addClass(t),null==p&&(a.after(h),"left"!==r&&"right"!==r||h.append(a)),a.trigger("sticky_kit:stick")),m&&w&&(null==k&&(k=e+u+c>C+n),!v&&k)))return v=!0,"static"===g.css("position")&&g.css({position:"relative"}),a.css({position:"absolute",bottom:d,top:"auto"}).trigger("sticky_kit:bottom")},y=function(){x();return l()},H=function(){G=!0;f.off("touchmove",l);f.off("scroll",l);f.off("resize",y);b(document.body).off("sticky_kit:recalc",y);a.off("sticky_kit:detach",H);a.removeData("sticky_kit");a.css({position:"",bottom:"",top:"",width:""});g.position("position","");if(m)return null==p&&("left"!==r&&"right"!==r||a.insertAfter(h),h.remove()),a.removeClass(t)},f.on("touchmove",l),f.on("scroll",l),f.on("resize",y),b(document.body).on("sticky_kit:recalc",y),a.on("sticky_kit:detach",H),setTimeout(l,0)}};n=0;for(K=this.length;n<K;n++)d=this[n],J(b(d));return this}}).call(this);(function($){$(document).ready(function(){$('.us-edition-link').click(function(){$.cookie('userRegion','us',{expires:365,path:'/'});var _href=$(this).attr('href');$(this).attr("href","javascript:void(0);");document.location.href=_href});$('.emea-edition-link').click(function(){$.cookie('userRegion','emea',{expires:365,path:'/'});var _href=$(this).attr('href');$(this).attr("href","javascript:void(0);");document.location.href=_href})})})(jQuery);var ibtmediaDfp=function(){};var adblock_status='';(function($){ibtmediaDfp=$.fn.ibtmediaDfp=$.ibtmediaDfp=function ibtmediaDfp(){if(typeof Drupal.settings.ibtmediaDfp=='undefined'){return}
var config=Drupal.settings.ibtmediaDfp;if(typeof config=='undefined'||!config){return}
this.config=config;this.inArray=function(needle,haystack){var length=haystack.length;for(var i=0;i<length;i++){if(haystack[i]==needle){return!0}}
return!1};this.getNextSlotId=function(){this.nextSlotId++;return this.nextSlotId}
this.init=function(){var initilized=(typeof this.config.initilized!='undefined'&&this.config.initilized==!0)?!0:!1;var ibtmediaDfp=this;var config=this.config;if(!initilized){$(document).on('dynamicdfp',function(event){ibtmediaDfp.debug('triggered '+event.type+' event',event);var update=!0;if(typeof event.update!='undefined'){update=event.update}
var tags=[];if(typeof event.tags!='undefined'){tags=event.tags}else{tags=$('.dfp-dynamic-tag')}
if(tags.length>0){tags.each(function(){var tag=$(this);var position=tag.data('position');if(event.positions.length>0){if(!ibtmediaDfp.inArray(position,event.positions)){return}}else{return}
ibtmediaDfp.debug('position '+position);var tagSlot=tag.data('slot');if(tagSlot!=undefined&&update==!1){return}
var wrapperId=tag.data('wrapper_id');var placeholderId=tag.data('placeholder_id')+'-adslot-'+ibtmediaDfp.getNextSlotId();tag.html('<div id="'+placeholderId+'" class="'+wrapperId+'">');if(typeof event.colorbox=='object'&&!$.isEmptyObject(event.colorbox)){var colorboxSettings={html:$('#'+placeholderId),fixed:!0,closeButton:!1,scrolling:!1};$.extend(colorboxSettings,event.colorbox);$.colorbox(colorboxSettings);ibtmediaDfp.debug('opening '+position+' tag in colorbox',placeholderId)}
var yieldbotEnabled=tag.data('yieldbot_enabled');var rubiconEnabled=tag.data('rubicon_enabled');var adunit=tag.data('adunit');var size=tag.data('size');var mappingSizes=tag.data('mapping');var position=tag.data('position');if(config.yieldbot&&yieldbotEnabled){ybotq.push(function(){googletag.cmd.push(function(){ibtmediaDfp.googletagRefresh(tag,placeholderId,adunit,size,mappingSizes,position)})})}else{googletag.cmd.push(function(){ibtmediaDfp.googletagRefresh(tag,placeholderId,adunit,size,mappingSizes,position)})}
if(config.rubicon&&rubiconEnabled){rubicontag.cmd.push(function(){ibtmediaDfp.googletagRubiconRefresh(tag,placeholderId,adunit,size,mappingSizes,position)})}})}else{ibtmediaDfp.debug('$(".dfp-dynamic-tag") tags are not found',$('.dfp-dynamic-tag'),'error')}});if(config.yieldbot){ybotq.push(function(){googletag.cmd.push(function(){ibtmediaDfp.googletagRenderEnded()})})}else{googletag.cmd.push(function(){ibtmediaDfp.googletagRenderEnded()})}
ibtmediaDfp.debug('initilized',ibtmediaDfp);initilized=!0;this.nextSlotId=0}
Drupal.settings.ibtmediaDfp.initilized=initilized;$.event.trigger({type:'ibtmediaDfpReady',ibtmediaDfp:this})};this.googletagRefresh=function(tag,placeholderId,adunit,size,mappingSizes,position){var browserSize,adSizes;var ibtmediaDfp=this;var slot=googletag.defineSlot(adunit,size,placeholderId).setTargeting("pos",position).addService(googletag.pubads());tag.data('slot',slot);if(typeof apstag!=='undefined'){var placeholderId_apstag=tag.data('placeholder_id');nw_log("apstag refresh "+placeholderId);apstag.fetchBids({slots:[{slotID:placeholderId,sizes:size}]},function(bids){apstag.setDisplayBids();googletag.pubads().refresh([slot])})}else{googletag.pubads().refresh([slot])}
ibtmediaDfp.debug('refreshing '+placeholderId,slot)},this.googletagRubiconRefresh=function(tag,placeholderId,adunit,size,mappingSizes,position){var ibtmediaDfp=this;rubicontag.defineSlot(adunit,size,placeholderId).setPosition(position).setFPI('domain',ibtmediaDfp.config.site_url);rubicontag.setTargetingForGPTSlot(googletag.slots[position])},this.googletagRenderEnded=function(){var ibtmediaDfp=this;googletag.pubads().addEventListener('slotRenderEnded',function(event){var tags=$('.dfp-dynamic-tag');if(tags.length>0){tags.each(function(){var tag=$(this);var tagSlot=tag.data('slot');if(event.slot===tagSlot){ibtmediaDfp.debug('render ended for '+tag.data('placeholder_id'),event);if($("#colorbox").length>0&&$("#colorbox").css("display")=="block"){$.colorbox.resize({innerWidth:event.size[0],innerHeight:event.size[1]})}}})}
if(event.slot===googletag.slots.adhesion){nw_log('dfp adhesion is on this page');$('html').css('padding-bottom',50)}});googletag.pubads().addEventListener('impressionViewable',function(event){var body=$('body');if(googletag.slots.top==event.slot){var obj=$('#dfp-ad-top');if(obj.hasClass('impview')&&!obj.hasClass('unstick')&&!obj.hasClass('sticky')){}}
if(googletag.slots.right1==event.slot){var obj=$('#dfp-ad-right1');if(obj.hasClass('impview')&&!obj.hasClass('unstick')&&!obj.hasClass('sticky')){}}
if(googletag.slots.right2==event.slot){var obj=$('#dfp-ad-right2');if(obj.hasClass('impview')&&!obj.hasClass('unstick')&&!obj.hasClass('sticky')){}}
if(googletag.slots.right3==event.slot){var obj=$('#dfp-ad-right3');if(obj.hasClass('impview')&&!obj.hasClass('unstick')&&!obj.hasClass('sticky')){}}
if(googletag.slots.right4==event.slot){var obj=$('#dfp-ad-right4');if(obj.hasClass('impview')&&!obj.hasClass('unstick')&&!obj.hasClass('sticky')){}}})},this.triggerDfpAd=function(positions,colorbox){$.event.trigger({type:'dynamicdfp',positions:positions,colorbox:colorbox})};this.debug=function(message,data,type){if(this.config.debug){nw_log(message);type=!type?'message':type;var prefix='%cDFP Ad: ';if(type=='message'){style='font-size: 16px; font-weight: bold; color: #002654;'}else if(type=='error'){prefix='%cDFP Ad Error: ';style='font-size: 16px; font-weight: bold; color: #e55b5b;'}
if(!data){data=''}
nw_log(prefix+message,style,data)}}
this.init()};Drupal.behaviors.ibtmediaDfp={attach:function(context,settings){if(context=='#cboxLoadedContent'){return}
var ibtdfp=new ibtmediaDfp();$('#edit-ibtmedia-dfp-dynamic-tag-test-button').click(function(){var positions=$('#edit-ibtmedia-dfp-test-ad-position').val();var ibtdfp=new ibtmediaDfp();var colorbox={};if($('#edit-ibtmedia-dfp-dynamic-tag-test-colorbox').is(':checked')){colorbox={'innerWidth':300,'innerHeight':300}}
ibtdfp.triggerDfpAd(positions,colorbox);return!1});$('#edit-ibtmedia-dfp-dynamic-tag-clear-button').click(function(){var positions=$('#edit-ibtmedia-dfp-test-ad-position').val();$(positions).each(function(){$('.dfp-ad-'+this+'-wrapper').remove()});return!1});if($('.dfp-dynamic-tag').length>0){var positions=[];var tags=[];$('.dfp-dynamic-tag').each(function(){var tag=$(this);var on_page_load=tag.data('on_page_load');var position=tag.data('position');if(on_page_load==1){positions.push(position);tags.push(tag)}});if(tags.length>0){$.event.trigger({type:'dynamicdfp',positions:positions,tags:$(tags)})}}
function sendTrackingCalls(status){adblock_status=status;if(typeof ga!='undefined'){ga('send','event','AdBlock',status,{"nonInteraction":!0,"dimension12":status})}
if(typeof dataLayer!='undefined'){dataLayer.push({'event':'AdBlock','eventCategory':'AdBlock','eventAction':status,'dimension12':status,'nonInteraction':!0})}}
var enable_blockadblock=Drupal.settings.enable_blockadblock;if(enable_blockadblock||typeof enable_blockadblock!='undefined'){if(typeof blockAdBlock==='undefined'){sendTrackingCalls('No')}else{blockAdBlock.onDetected(function(){sendTrackingCalls('Yes')});blockAdBlock.onNotDetected(function(){sendTrackingCalls('No')})}}}}}(jQuery))})