(window.webpackJsonp_spotim_580132258=window.webpackJsonp_spotim_580132258||[]).push([[86],{115:function(e,t,r){"use strict";(function(e){var r="undefined"!=typeof window&&window,n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o=r||void 0!==e&&e||n;t.root=o,function(){if(!o)throw new Error("RxJS could not find any global context (window, self, global)")}()}).call(this,r(73))},1151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return!0===e||"true"===e||!1!==e&&"false"!==e&&void 0}},1152:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=n,t.parseArray=function(e){return Array.isArray(e)?e.map(n).filter((function(e){return void 0!==e})):[]},t.MICROSOFT=t.VK=t.LINKEDIN=t.GOOGLE=t.DISQUS=t.EMAIL=t.TWITTER=t.FACEBOOK=void 0;t.FACEBOOK="facebook";t.TWITTER="twitter";t.EMAIL="email";t.DISQUS="disqus";t.GOOGLE="google";t.LINKEDIN="linkedin";t.VK="vk";function n(e){switch(e.toUpperCase()){case"FACEBOOK":return"facebook";case"TWITTER":return"twitter";case"EMAIL":return"email";case"DISQUS":return"disqus";case"GOOGLE":return"google";case"MICROSOFT":return"microsoft";case"LINKEDIN":return"linkedin";case"VK":return"vk";default:return}}t.MICROSOFT="microsoft"},1154:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.checkSSO=function(e){if(o.default.get("tenant_config.conversation.ssoSyncCheck",!1)){var t=e.currentUser,r=JSON.parse(localStorage.getItem("SPOTIM_CURRENT_USER")),n=r&&r.data&&r.data.id;t.id!==n&&window.SPOTIM.startSSO(i)}};var o=n(r(4));function i(e,t){fetch("https://www.thesun.co.uk/api/comments/signin?codeA=".concat(e),{credentials:"include",headers:{accept:"application/json","cache-control":"no-cache",pragma:"no-cache","sec-fetch-mode":"cors","sec-fetch-site":"same-origin"},referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){var r=e.spotimCodeB;t(r)}))}},1157:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBroadcast=void 0;var o=n(r(64)),i=r(416),s=r(1158),c=r(1159),a=r(1162);var u=(0,i.createResource)(c.apiUrl,"get","/spot/{{spotId}}/broadcast",(function(e){return this.performRequest(void 0,{spotId:e})}),{contentType:"text/plain",withCredentials:!0,parsers:[function(e){var t={};return e.broadcast&&(t=o.default.map(e.broadcast,(0,a.getBroadcastMap)("broadcast")).broadcast),t.conversation&&t.conversation.imageId&&t.user||(t=void 0),t}]},s.SimpleRequestHandler);t.fetchBroadcast=u},1158:function(e,t,r){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Array.isArray(t)||(t=[t]);var r=Object.freeze(e);return t.reduce((function(e,t){return t(r,e)}),r)}function o(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(i){var s=new XMLHttpRequest;s.open(e,t),o.withCredentials&&(s.withCredentials=!0),o.contentType?s.setRequestHeader("Content-Type",o.contentType):s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onreadystatechange=function(){if(s.readyState>3){var e={};try{e=JSON.parse(s.responseText)}catch(e){console.error(e)}o.parsers&&(e=n(e,o.parsers)),i(e)}},s.send(JSON.stringify(r))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleRequestHandler=void 0;var i={get:function(e,t,r){return o("GET",e,t,r)},delete:function(){throw new Error("SimpleRequestHandler doesn't support DELETE method yet (need to implement) yet (need to implement)")},patch:function(){throw new Error("SimpleRequestHandler doesn't support PATCH method yet (need to implement)")},post:function(e,t,r){return o("POST",e,t,r)},put:function(){throw new Error("SimpleRequestHandler doesn't support PUT method yet (need to implement)")}};t.SimpleRequestHandler=i},1159:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.apiUrl=void 0,n=r(1160),"staging"===window.__SPOTIMENV__&&(n=r(1161));var o=n.cdn;t.apiUrl=o},116:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(453),i=r(261),s=r(457),c=r(262),a=function(e){function t(t,r,n){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!t){this.destination=s.empty;break}if("object"==typeof t){if(l(t)){var o=t[c.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new u(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,r,n)}}return n(t,e),t.prototype[c.rxSubscriber]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(i.Subscription);t.Subscriber=a;var u=function(e){function t(t,r,n,i){var c;e.call(this),this._parentSubscriber=t;var a=this;o.isFunction(r)?c=r:r&&(c=r.next,n=r.error,i=r.complete,r!==s.empty&&(a=Object.create(r),o.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=c,this._error=n,this._complete=i}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(a);function l(e){return e instanceof a||"syncErrorThrowable"in e&&e[c.rxSubscriber]}},1160:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cdn=t.url=void 0;t.url="https://all.spot.im";t.cdn="https://www.spot.im/api/all"},1161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cdn=t.url=void 0;t.url="https://staging-all.spot.im";t.cdn="https://v2.staging-spot.im/api/all"},1162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBroadcastMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;e.length>0&&(e+=".");return function(){return Object.assign({broadcast_item_id:"".concat(e,"id"),title:"".concat(e,"title"),url:"".concat(e,"url"),duration_in_minutes:"".concat(e,"duration"),"statistics.desktop.views":"".concat(e,"statistics.mobile.views"),"statistics.desktop.clicks":"".concat(e,"statistics.mobile.clicks"),"statistics.mobile.views":"".concat(e,"statistics.mobile.views"),"statistics.mobile.clicks":"".concat(e,"statistics.mobile.clicks"),"extract.image_id":"".concat(e,"conversation.imageId"),"extract.title":"".concat(e,"conversation.title"),"extract.description":"".concat(e,"conversation.description"),"conversation.conversation_id":"".concat(e,"conversation.id"),"conversation.messages_count":"".concat(e,"conversation.messageCount"),"status.running":"".concat(e,"isRunning"),"status.started_at":"".concat(e,"isStarted"),"status.ended_at":"".concat(e,"endedAt"),"status.time_left_sec":"".concat(e,"timeLeft"),user:(0,n.getUserMap)("".concat(e,"user")),content:(0,o.getMessageEntitiesMap)("".concat(e,"entities"))},t)}};var n=r(569),o=r(508)},1163:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.InternalVariables=void 0;var o=n(r(32)),i=n(r(33)),s=n(r(169)),c="SPOTIMInternals",a=function(){function e(t){(0,o.default)(this,e);var r=Object.assign({},e.defaults,t);Object.assign(t,r),this.obj=t}return(0,i.default)(e,[{key:"extend",value:function(e){Object.assign(this.obj,e)}},{key:"getValue",value:function(){return this.obj.value}},{key:"setValue",value:function(e){this.loadingComplete?(this.loadingComplete(e),this.loadingComplete=null):this.extend({value:e})}},{key:"startLoading",value:function(){var e=this,t=new s.default;return this.extend({isLoading:!0,loadingPromise:t.promise}),this.loadingComplete=function(){var r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.extend({value:r,isLoading:!1}),t.resolve(r)},this.loadingComplete}},{key:"isLoading",value:function(){return this.obj.isLoading}},{key:"hasValue",value:function(){return!!this.obj.value}},{key:"hasValueOrLoading",value:function(){return this.hasValue()||this.isLoading()}},{key:"getLoadingPromise",value:function(){return this.obj.loadingPromise}}]),e}();a.defaults={value:void 0,isLoading:!1,loadingPromise:void 0};var u=function(){function e(t){(0,o.default)(this,e),this.$global=t,this.$global[c]=this.$global[c]||{}}return(0,i.default)(e,null,[{key:"getCurrent",value:function(){return e.current||(e.current=new e(window)),e.current}}]),(0,i.default)(e,[{key:"getEntry",value:function(e){return this.$global[c][e]=this.$global[c][e]||{},new a(this.$global[c][e])}}]),e}();t.InternalVariables=u,u.current=void 0},1164:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.extractOptions=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.element,o=(0,s.getDeprecatedOptions)(),f=(0,a.getHostOptions)(),h=(0,u.getUrlOptions)(window.location.href),b=(0,l.getPredefinedOptions)(e);n&&(t=(0,p.getElementOptions)(n));return(0,c.getSpotConfig)(e).then((function(r){return d(d(d(d(d(d(d({},i.defaults),{},{spotId:e},r),b),o),f),t),h)}))};var o=n(r(34)),i=r(104),s=r(444),c=r(1165),a=r(434),u=r(443),l=r(445),p=r(447);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},1165:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpotConfig=function(e){if(!e)throw new Error("Invalid spotId ".concat(e));return new Promise((function(t){if(n.spotConfigEntry.hasValueOrLoading())n.spotConfigEntry.getLoadingPromise().then((function(e){return t(e)}));else{var r=n.spotConfigEntry.startLoading();(0,o.fetchInit)(e).then((function(e){var n=e.spotConfig;n=(0,i.completeSpotConfigParse)(n),r(n),t(n)}))}}))},t.getHostOptions=function(){return n.spotConfigEntry.hasValueOrLoading()?n.spotConfigEntry.getLoadingPromise().then((function(e){return e&&e.hostOptionsBlock&&(0,s.parseSpotOptions)(e.hostOptionsBlock)||{}})):Promise.resolve({})};var n=r(575),o=r(1166),i=r(573),s=r(255)},1166:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchInit=t.parse=void 0;var o=n(r(1167)),i=r(574),s=function(e){return{spotConfig:(0,i.parseSpotConfig)(e.config),hasBroadcast:e.broadcast_live,newsfeedItemsCount:e.newsfeed.total_items}};t.parse=s;t.fetchInit=function(e){return o.default.get("/init/spot/".concat(e)).then(s)}},1167:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(251)),i=n(r(576)),s=n(r(577)),c=o.default.create({baseURL:i.default.apiURL});c.interceptors.response.use(s.default);var a=c;t.default=a},1171:function(e,t,r){"use strict";r.r(t);var n=r(34),o=r(32),i=r(33);function s(e,t,r){var n;return function(){var o=this,i=arguments,s=function(){n=null,r||e.apply(o,i)},c=r&&!n;clearTimeout(n),n=setTimeout(s,t),c&&e.apply(o,i)}}function c(e,t,r){function n(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(!e)return{};var i=n(o.shift());!e[i]&&r&&(e[i]=new r),e=e[i]}return e?{obj:e,k:n(o.shift())}:{}}function a(e,t,r){var n=c(e,t,Object);n.obj[n.k]=r}function u(e,t){var r=c(e,t),n=r.obj,o=r.k;if(n)return n[o]}var l,p=new RegExp("{{(.+?)}}","g");function f(e,t,r){var n,o,i;for(;n=p.exec(e);)"string"!=typeof(o=n[1].trim())&&(o=null==(i=o)?"":""+i),o||(o=""),o=o.replace(/\$/g,"$$$$"),e=e.replace(n[0],t[o]||o),p.lastIndex=0;return e}function d(e,t){return t.reduce((function(t,r){if(t)return t;if(!e||!e[r]||"string"!=typeof e[r]||!e[r].toLowerCase()===r.toLowerCase()){var n='i18next-locize-backend :: got "'.concat(e[r],'" in options for ').concat(r," which is invalid.");return console.warn(n),n}return!1}),!1)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r,n,o){try{var i=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");i.open(n?"POST":"GET",e,1),t.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.authorize&&t.apiKey&&i.setRequestHeader("Authorization",t.apiKey),(n||t.setContentTypeJSON)&&i.setRequestHeader("Content-type","application/json"),i.onreadystatechange=function(){i.readyState>3&&r&&r(i.responseText,i)},i.send(JSON.stringify(n))}catch(e){"undefined"!=typeof window&&window.console&&console.log(e)}}try{l="undefined"!=typeof window&&null!==window.localStorage;var y="notExistingLocizeProject";window.localStorage.setItem(y,"foo"),window.localStorage.removeItem(y)}catch(e){l=!1}function g(e){var t=function(){},r=function(){};return l?(t=function(e){window.localStorage.setItem("notExistingLocizeProject_".concat(e),Date.now())},r=function(t){var r=window.localStorage.getItem("notExistingLocizeProject_".concat(t));return!!r&&(!(Date.now()-r>e)||(window.localStorage.removeItem("notExistingLocizeProject_".concat(t)),!1))}):"undefined"!=typeof document&&(t=function(t){var r=new Date;r.setTime(r.getTime()+e);var n="; expires=".concat(r.toGMTString()),o="notExistingLocizeProject_".concat(t);document.cookie="".concat(o,"=").concat(Date.now()).concat(n,";path=/")},r=function(e){for(var t="notExistingLocizeProject_".concat(e),r="".concat(t,"="),n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(r))return!0}return!1}),{setProjectNotExisting:t,isProjectNotExisting:r}}var _=function(){function e(t,r,n){Object(o.default)(this,e),t&&t.projectId?this.init(null,t,{},r):this.init(null,r,{},n),this.type="backend"}return Object(i.default)(e,[{key:"init",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.options=b({},{loadPath:"https://api.locize.app/{{projectId}}/{{version}}/{{lng}}/{{ns}}",privatePath:"https://api.locize.app/private/{{projectId}}/{{version}}/{{lng}}/{{ns}}",getLanguagesPath:"https://api.locize.app/languages/{{projectId}}",addPath:"https://api.locize.app/missing/{{projectId}}/{{version}}/{{lng}}/{{ns}}",updatePath:"https://api.locize.app/update/{{projectId}}/{{version}}/{{lng}}/{{ns}}",referenceLng:"en",crossDomain:!0,setContentTypeJSON:!1,version:"latest",private:!1,whitelistThreshold:.9,failLoadingOnEmptyJSON:!1,allowedAddOrUpdateHosts:["localhost"],onSaved:!1,checkForProjectTimeout:3e3,storageExpiration:36e5},{},this.options,{},r),this.services=e,this.somethingLoaded=!1,this.isProjectNotExisting=!1,this.storage=g(this.options.storageExpiration),this.options.pull&&console.warn('The pull API was removed use "private: true" option instead: https://docs.locize.com/integration/api#fetch-private-namespace-resources');var i="undefined"!=typeof window&&window.location&&window.location.hostname;i?(this.isAddOrUpdateAllowed="function"==typeof this.options.allowedAddOrUpdateHosts?this.options.allowedAddOrUpdateHosts(i):this.options.allowedAddOrUpdateHosts.indexOf(i)>-1,n.saveMissing&&!this.isAddOrUpdateAllowed&&e&&e.logger&&e.logger.warn("function"==typeof this.options.allowedAddOrUpdateHosts?'locize-backend: will not save missings because allowedAddOrUpdateHosts returned false for the host "'.concat(i,'".'):'locize-backend: will not save missings because the host "'.concat(i,'" was not in the list of allowedAddOrUpdateHosts: ').concat(this.options.allowedAddOrUpdateHosts.join(", ")," (matches need to be exact)."))):this.isAddOrUpdateAllowed=!0,"function"==typeof o&&this.getOptions((function(e,n){if(e)return o(e);t.options.referenceLng=r.referenceLng||n.referenceLng||t.options.referenceLng,o(null,n)})),this.queuedWrites={},this.debouncedProcess=s(this.process,1e4)}},{key:"getLanguages",value:function(e){var t=this,r=d(this.options,["projectId"]);if(r)return e(new Error(r));var n=f(this.options.getLanguagesPath,{projectId:this.options.projectId});if(!this.isProjectNotExisting&&this.storage.isProjectNotExisting(this.options.projectId)&&(this.isProjectNotExisting=!0),this.isProjectNotExisting)return e(new Error("locize project ".concat(this.options.projectId," does not exist!")));this.loadUrl(n,{},(function(r,n,o){if(!t.somethingLoaded&&o&&o.resourceNotExisting)return t.isProjectNotExisting=!0,t.storage.setProjectNotExisting(t.options.projectId),e(new Error("locize project ".concat(t.options.projectId," does not exist!")));t.somethingLoaded=!0,e(r,n)}))}},{key:"getOptions",value:function(e){var t=this;this.getLanguages((function(r,n){if(r)return e(r);var o=Object.keys(n);if(!o.length)return e(new Error("was unable to load languages via API"));var i=o.reduce((function(e,t){return n[t].isReferenceLanguage&&(e=t),e}),""),s=o.reduce((function(e,r){var o=n[r];return o.translated[t.options.version]&&o.translated[t.options.version]>=t.options.whitelistThreshold&&e.push(r),e}),[]),c=o.reduce((function(e,t){return t.indexOf("-")>-1||e}),!1);e(null,{fallbackLng:i,referenceLng:i,whitelist:s,load:c?"all":"languageOnly"})}))}},{key:"checkIfProjectExists",value:function(e){var t=this,r=this.services.logger;this.somethingLoaded?e&&e(null):this.alreadyRequestedCheckIfProjectExists?setTimeout((function(){return t.checkIfProjectExists(e)}),this.options.checkForProjectTimeout):(this.alreadyRequestedCheckIfProjectExists=!0,this.getLanguages((function(t){if(t&&t.message&&t.message.indexOf("does not exist")>0){if(e)return e(t);r.error(t.message)}})))}},{key:"read",value:function(e,t,r){var n,o=this,i=(this.services||{logger:console}).logger,s={};if(this.options.private){var c=d(this.options,["projectId","version","apiKey"]);if(c)return r(new Error(c),!1);n=f(this.options.privatePath,{lng:e,ns:t,projectId:this.options.projectId,version:this.options.version}),s={authorize:!0}}else{var a=d(this.options,["projectId","version"]);if(a)return r(new Error(a),!1);n=f(this.options.loadPath,{lng:e,ns:t,projectId:this.options.projectId,version:this.options.version})}if(!this.isProjectNotExisting&&this.storage.isProjectNotExisting(this.options.projectId)&&(this.isProjectNotExisting=!0),this.isProjectNotExisting){var u=new Error("locize project ".concat(this.options.projectId," does not exist!"));return i.error(u.message),void(r&&r(u))}this.loadUrl(n,s,(function(e,t,n){o.somethingLoaded||(n&&n.resourceNotExisting?setTimeout((function(){return o.checkIfProjectExists()}),o.options.checkForProjectTimeout):o.somethingLoaded=!0),r(e,t)}))}},{key:"loadUrl",value:function(e,t,r){var n=this;v(e,b({},this.options,{},t),(function(t,o){var i,s,c="Error from cloudfront"===o.getResponseHeader("x-cache");if(408===o.status||400===o.status)return r("failed loading "+e,!0,{resourceNotExisting:c});if(o.status>=500&&o.status<600)return r("failed loading "+e,!0,{resourceNotExisting:c});if(o.status>=400&&o.status<500)return r("failed loading "+e,!1,{resourceNotExisting:c});try{i=JSON.parse(t)}catch(t){s="failed parsing "+e+" to json"}return s?r(s,!1):n.options.failLoadingOnEmptyJSON&&!Object.keys(i).length?r("loaded result empty for "+e,!1,{resourceNotExisting:c}):void r(null,i,{resourceNotExisting:c})}))}},{key:"create",value:function(e,t,r,n,o,i){var s=this;o||(o=function(){}),this.checkIfProjectExists((function(c){if(c)return o(c);var a=d(s.options,["projectId","version","apiKey","referenceLng"]);return a?o(new Error(a)):s.isAddOrUpdateAllowed?("string"==typeof e&&(e=[e]),e.filter((function(e){return e===s.options.referenceLng})).length<1&&s.services&&s.services.logger&&s.services.logger.warn('locize-backend: will not save missings because the reference language "'.concat(s.options.referenceLng,'" was not in the list of to save languages: ').concat(e.join(", ")," (open your site in the reference language to save missings).")),void e.forEach((function(e){e===s.options.referenceLng&&s.queue.call(s,s.options.referenceLng,t,r,n,o,i)}))):o("host is not allowed to create key.")}))}},{key:"update",value:function(e,t,r,n,o,i){var s=this;o||(o=function(){}),this.checkIfProjectExists((function(c){if(c)return o(c);var a=d(s.options,["projectId","version","apiKey","referenceLng"]);return a?o(new Error(a)):s.isAddOrUpdateAllowed?(i||(i={}),"string"==typeof e&&(e=[e]),i.isUpdate=!0,void e.forEach((function(e){e===s.options.referenceLng&&s.queue.call(s,s.options.referenceLng,t,r,n,o,i)}))):o("host is not allowed to update key.")}))}},{key:"writePage",value:function(e,t,r,n){var o=f(this.options.addPath,{lng:e,ns:t,projectId:this.options.projectId,version:this.options.version}),i=f(this.options.updatePath,{lng:e,ns:t,projectId:this.options.projectId,version:this.options.version}),s=!1,c=!1,a={},u={};r.forEach((function(e){var t=e.options&&e.options.tDescription?{value:e.fallbackValue||"",context:{text:e.options.tDescription}}:e.fallbackValue||"";e.options&&e.options.isUpdate?(c||(c=!0),u[e.key]=t):(s||(s=!0),a[e.key]=t)}));var l=0;s&&l++,c&&l++;var p=function(){--l||n()};l||p(),s&&v(o,b({},{authorize:!0},{},this.options),(function(e,t){p()}),a),c&&v(i,b({},{authorize:!0},{},this.options),(function(e,t){p()}),u)}},{key:"write",value:function(e,t){var r=this;if(!u(this.queuedWrites,["locks",e,t])){var n=u(this.queuedWrites,[e,t]);a(this.queuedWrites,[e,t],[]);n.length&&function(){a(r.queuedWrites,["locks",e,t],!0);var o=function(){a(r.queuedWrites,["locks",e,t],!1),n.forEach((function(e){e.callback&&e.callback()})),r.options.onSaved&&r.options.onSaved(e,t),r.debouncedProcess(e,t)},i=n.length/1e3,s=0,c=n.splice(0,1e3);for(r.writePage(e,t,c,(function(){++s>=i&&o()}));1e3===c.length;)(c=n.splice(0,1e3)).length&&r.writePage(e,t,c,(function(){++s>=i&&o()}))}()}}},{key:"process",value:function(){var e=this;Object.keys(this.queuedWrites).forEach((function(t){"locks"!==t&&Object.keys(e.queuedWrites[t]).forEach((function(r){e.queuedWrites[t][r].length&&e.write(t,r)}))}))}},{key:"queue",value:function(e,t,r,n,o,i){var s,a,u,l,p,f;s=this.queuedWrites,a={key:r,fallbackValue:n||"",callback:o,options:i},l=c(s,[e,t],Object),p=l.obj,f=l.k,p[f]=p[f]||[],u&&(p[f]=p[f].concat(a)),u||p[f].push(a),this.debouncedProcess()}}]),e}();_.type="backend",t.default=_},191:function(e,t,r){"use strict";function n(e,t){var r=e.__exposedModules=e.__exposedModules||{};return r[t]=r[t]||{}}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=function(e,t){return n(e,t).instance},t.exposer=function(e,t){if("function"!=typeof t)throw Error("Create method must be supplied to exposer");return function(e,t){function r(r){var o=n(r,e);if(!o.instance){for(var i=arguments.length,s=new Array(i>1?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];o.instance=t.apply(void 0,s.concat([r]))}return o.instance}return r.exposeTo=function(t){var o=n(t,e);return o.exposeTo||(o.exposeTo=r),o.exposeTo},r}(e,t)}},255:function(module,exports,__webpack_require__){"use strict";function parseSpotOptions(code){var hostOptions={};if(code)try{!function(c){try{var SPOTIM_OPTIONS={};eval(c),hostOptions=Object.assign(hostOptions,SPOTIM_OPTIONS)}catch(e){console.error("Failed to parse host options")}}(code)}catch(e){console.error("Failed to parse host options")}return hostOptions}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseSpotOptions=parseSpotOptions},261:function(e,t,r){"use strict";var n=r(454),o=r(455),i=r(453),s=r(845),c=r(456),a=r(846),u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var r=this._parent,u=this._parents,p=this._unsubscribe,f=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,h=u?u.length:0;r;)r.remove(this),r=++d<h&&u[d]||null;if(i.isFunction(p))s.tryCatch(p).call(this)===c.errorObject&&(t=!0,e=e||(c.errorObject.e instanceof a.UnsubscriptionError?l(c.errorObject.e.errors):[c.errorObject.e]));if(n.isArray(f))for(d=-1,h=f.length;++d<h;){var b=f[d];if(o.isObject(b))if(s.tryCatch(b.unsubscribe).call(b)===c.errorObject){t=!0,e=e||[];var v=c.errorObject.e;v instanceof a.UnsubscriptionError?e=e.concat(l(v.errors)):e.push(v)}}if(t)throw new a.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.prototype._addParent=function(e){var t=this._parent,r=this._parents;t&&t!==e?r?-1===r.indexOf(e)&&r.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof a.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=u},262:function(e,t,r){"use strict";var n=r(115).root.Symbol;t.rxSubscriber="function"==typeof n&&"function"==typeof n.for?n.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},263:function(e,t,r){"use strict";var n=r(115);function o(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}t.getSymbolObservable=o,t.observable=o(n.root),t.$$observable=t.observable},264:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t){e.call(this),this.scheduler=t}return n(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(r(60).Observable);t.EmptyObservable=o},265:function(e,t,r){"use strict";var n=r(60),o=r(458),i=r(460),s=r(854);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=Number.POSITIVE_INFINITY,c=null,a=e[e.length-1];return i.isScheduler(a)?(c=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof a&&(r=e.pop()),null===c&&1===e.length&&e[0]instanceof n.Observable?e[0]:s.mergeAll(r)(new o.ArrayObservable(e,c))}},266:function(e,t,r){"use strict";var n=r(115);function o(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var r=e.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var n=e.Map;if(n)for(var o=Object.getOwnPropertyNames(n.prototype),i=0;i<o.length;++i){var s=o[i];if("entries"!==s&&"size"!==s&&n.prototype[s]===n.prototype.entries)return s}return"@@iterator"}t.symbolIteratorPonyfill=o,t.iterator=o(n.root),t.$$iterator=t.iterator},434:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getHostOptions=function(){var e=l.resolve();return(0,c.filterValidOptions)(e)},t.HostOptions=void 0;var o=n(r(32)),i=n(r(33)),s=r(255),c=r(104),a=r(112),u=function(){function e(){(0,o.default)(this,e),this.isExecuted=!1,this.hostOptions={}}return(0,i.default)(e,[{key:"resolve",value:function(){if(!this.isExecuted){this.isExecuted=!0;for(var t=document.querySelectorAll('script[type="'.concat(e.scriptType,'"]')),r=0;r<t.length;r++){var n=t[r].textContent;(0,a.deepExtendObject)(this.hostOptions,(0,s.parseSpotOptions)(n))}}return this.hostOptions}}]),e}();t.HostOptions=u,u.scriptType="text/x-spotim-options";var l=new u},443:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlOptions=function(){var e=window.location.href,t=(0,n.objectFromQueryString)(e),r=Object.keys(i).reduce((function(e,r){var n=t[r];if(n){var o=i[r];switch(n){case"true":n=!0;break;case"false":n=!1}e[o]=n}return e}),{});return(0,o.filterValidOptions)(r)},t.supportedQueryStringMap=void 0;var n=r(257),o=r(104),i={spot_im_comment_id:"highlightedCommentId",spot_im_reply_id:"highlightedReplyId",spot_im_highlight_immediate:"highlightImmediate",spot_im_scroll_to_comments:"scrollToComments",spot_im_expand_reply:"isSayControlExpanded",spot_im_max_messages_depth:"repliesMaxDepth","read-only-implementation":"readOnlyImplementation"};t.supportedQueryStringMap=i},444:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDeprecatedOptions=function(){var e;var t=function(){var e={};window.SPOTIM&&Object.keys(window.SPOTIM).forEach((function(t){"options"===t?e=Object.assign(e,window.SPOTIM.options):"features"===t?e=Object.assign(e,window.SPOTIM.features):e[t]=window.SPOTIM[t]}));return e}();e=Object.keys(t).reduce((function(e,r){if(t.hasOwnProperty(r)){var n=t[r];switch(n){case"true":n=!0;break;case"false":n=!1}e[o[r.toLowerCase()]]=n}return e}),{});return(0,n.filterValidOptions)(e)},t.deprecatedOptionsMap=void 0;var n=r(104),o={spotid:"spotId",newsfeed:"enableNewsfeed",recommendations:"enableRecommendation",registrationcta:"disableRegistrationModule",brandcolor:"brandColor",pca:"disableSignupWizard",recommendationsonfooter:"recommendationBelowConversation"};t.deprecatedOptionsMap=o},445:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getPredefinedOptions=function(e){switch(e){case"sp_dbj1rz5F":return{disableSignupWizard:!0};case"sp_8BE2orzs":case"sp_60O3IooA":return{enableNewsfeed:!o.default,recommendationBelowConversation:!0};case"sp_jpost":return{enableNewsfeed:!1};case"sp_npvJi6JI":case"sp_n0ORkeDU":case"sp_sMl6J1cM":return{enableNewsfeed:!o.default,newsfeed_slideAlong_enabled:!0,newsfeed_slideAlong_selector:"#page, #page-wrapper",textsOverrides:{newsfeedTitle:"Popular on EW",newsfeedGuetsActionsHelloText:"",newsfeedGuetsActionsCommunityText:"Hello! Welcome to your EW newsfeed.",newsfeedGuetsActionsContentText:"You’ll notice this plus button follow you around as you navigate our site – click to access your personalized view of live conversations happening now across EW.com."}};case"sp_PzCNhI1J":case"sp_SXUEoTpz":return{};case"sp_ANQXRpqH":return{hostUrlOrigin:"location"};case"sp_6Md8natL":return{disableRegistrationModule:!!o.default};case"sp_cfiP5HzG":return{disableRegistrationModule:!0,loginUponSayControlFocus:!0};case"sp_6phY2k0C":case"sp_CPNKLma6":return{disableImageUploadInConversation:!0};case"sp_KSXfiyDR":return{enableNewsfeed:!o.default};case"sp_JjtET6Vo":return{conversationLongerComments:!0};case"sp_MtyWBomM":return{};case"sp_G9gJnBwn":case"sp_DaSG4BWV":case"sp_b3BDxGSu":return{textsOverrides:{registrationCallToAction:"Sign up and add your reviews on our recipes."}};case"sp_ZZTf5S9b":case"sp_5hPrGGOP":case"sp_6D46H3HX":case"sp_KQ9w41Dd":return{disableImageUploadInConversation:!0};case"sp_SG4WEAc6":case"sp_jx9gkzfw":return{newsfeed_slideAlong_enabled:!0,newsfeed_slideAlong_selector:"#page, #page-wrapper",conversationImageAnchorsDisabled:!0,textsOverrides:{moderatorBadgeText:"Official BargainMeister"}};case"sp_ChtLPOxW":case"sp_73Xb1xM5":return{};case"sp_XoNtGjxG":return{textsOverrides:{starsRatingHeaderText:"Comments"}};case"sp_Sq1kuM8c":return{enableHighlightMessageSticky:!1,disableRegistrationModule:!0};default:return{}}};var o=n(r(446))},447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementOptions=function(e){var t=Object.keys(o).reduce((function(t,r){var n=e.getAttribute(r);if(n){var i=o[r];switch(n){case"true":n=!0;break;case"false":n=!1}t[i]=n}return t}),{});return(0,n.filterValidOptions)(t)},t.supportedAttributesMap=void 0;var n=r(104),o={"data-spot-id":"spotId","data-post-id":"postId","data-sterile-conversation":"isSterileConversation","data-ios-url":"iosUrl","data-android-url":"androidUrl","data-conversation-id":"conversationId","data-disqus-identifier":"disqusIdentifier","data-disqus-url":"disqusUrl","data-gigya-streamid":"gigyaStreamId","data-gigya-categoryid":"gigyaCategoryId","data-wp-import-endpoint":"wpImportEndpoint","data-facebook-url":"facebookUrl","data-livefyre-url":"livefyreUrl","data-messages-count":"pageSize","data-sort-by":"conversationSort","data-post-url":"postUrl","data-load-more-in-modal":"loadMoreInModal","data-social-reviews":"isStarsRatingEnabled","data-live-blog":"isConversationLiveBlog","data-enable-live-blog-replies":"enableLiveBlogReplies","data-live-event-code":"eventCode","data-reporters":"reporters","data-reporter-badge-text":"reporterBadgeText","data-enable-anonymize":"enableAnonymize","data-refer-traffic":"referTraffic","data-disable-navigation":"disableNavigation","data-community-question":"conversationCommunityQuestion","data-author-id":"conversationAuthorId","data-article-tags":"conversationArticleTags","data-widget-type":"widgetType","data-seo-enabled":"conversationSeoEnabled","data-ignore-host-url":"ignoreHostUrl","data-allow-va":"allowVA","data-recommendable-post":"isRecommendedPost","data-collapse-message":"enableSeeMoreButton","data-conversation-skin":"conversationSkin","data-brand-color":"brandColorOverride","data-test-group":"testGroup","data-button-enabled":"buttonEnabled"};t.supportedAttributesMap=o},450:function(e,t,r){"use strict";function n(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")}function o(e,t){var r=Array.isArray(t)?t:t.split(" ");if(r.length)for(var o=0;o<r.length;o++)if(!n(e,r[o])){t=(e.getAttribute("class")||"")+" "+r[o];e.setAttribute("class",t)}}function i(e,t){var r=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(n(e,t)){for(;r.indexOf(" "+t+" ")>=0;)r=r.replace(" "+t+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}}function s(e,t){var r=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(n(e,t)){for(;r.indexOf(" "+t+" ")>=0;)r=r.replace(" "+t+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className+=" "+t}Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=n,t.addClass=o,t.removeClass=i,t.toggleClass=s,t.default=void 0;var c={has:n,add:o,remove:i,toggle:s};t.default=c},451:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exposeTo=void 0;var n=r(843),o=r(452),i=(0,r(191).exposer)(n.MODULE_NAME,(function(){return new o.Communicator}));t.exposeTo=i},452:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Communicator=void 0;var o=n(r(54)),i=n(r(32)),s=n(r(33)),c=r(60);r(849),r(851);var a=r(860),u=r(864);function l(e){return"".concat(e,":response")}var p=function(){function e(){(0,i.default)(this,e),this.history=new u.History,this.observablesPool=new a.ObservablesPool}return(0,s.default)(e,[{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onNext,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.observablesPool.resolveObservable(e),s=c.Observable.empty();n&&(s=this.history.getObservable(e));var a=i.merge(s).subscribe((function(e){return r.apply(void 0,(0,o.default)(e))})),u=this.trigger.bind(this);return{off:function(){a.unsubscribe()},respond:function(){for(var t=l(e),r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return u.apply(void 0,[t].concat(n))}}}},{key:"trigger",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];this.history.push(e,n);var i=l(e),s=c.Observable.create((function(e){var r=t.on(i,{onNext:e.next.bind(e)}).off;return function(){r()}})),a=this.observablesPool.resolveObservable(e);return a.next(n),{subscribe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onNext;return s.subscribe((function(){return t.apply(void 0,arguments)}))}}}}]),e}();t.Communicator=p},453:function(e,t,r){"use strict";t.isFunction=function(e){return"function"==typeof e}},454:function(e,t,r){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},455:function(e,t,r){"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},456:function(e,t,r){"use strict";t.errorObject={e:{}}},457:function(e,t,r){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},458:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(60),i=r(459),s=r(264),c=r(460),a=function(e){function t(t,r){e.call(this),this.array=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){return new t(e,r)},t.of=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];var n=e[e.length-1];c.isScheduler(n)?e.pop():n=null;var o=e.length;return o>1?new t(e,n):1===o?new i.ScalarObservable(e[0],n):new s.EmptyObservable(n)},t.dispatch=function(e){var t=e.array,r=e.index,n=e.count,o=e.subscriber;r>=n?o.complete():(o.next(t[r]),o.closed||(e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.array,n=r.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:r,index:0,count:n,subscriber:e});for(var i=0;i<n&&!e.closed;i++)e.next(r[i]);e.complete()},t}(o.Observable);t.ArrayObservable=a},459:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this),this.value=t,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.done,r=e.value,n=e.subscriber;t?n.complete():(n.next(r),n.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.value,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e});e.next(r),e.closed||e.complete()},t}(r(60).Observable);t.ScalarObservable=o},460:function(e,t,r){"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},461:function(e,t,r){"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},462:function(e,t,r){"use strict";t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},463:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getDebugger=function(e){var t=function(){try{if(null===i){if((i=o.default.getKey(window.location.href.toLowerCase(),"SPOTIM_DEBUG_API".toLowerCase()))||(i=window.SPOTIM_DEBUG_API),!i)try{i=window.localStorage.getItem("SPOTIM_DEBUG_API")}catch(e){}i||(i=""),i=i.split(",").map((function(e){return e.toLowerCase()}))}return i}catch(e){return[]}}();return t.indexOf("*")>-1||t.indexOf(e.toLowerCase())>-1?s.bind(null,e):function(){}};var o=n(r(256)),i=null;function s(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];(t=console).log.apply(t,["%cSpot.IM ".concat(e),"background: #307fe2; color: white;"].concat(n))}},573:function(e,t,r){"use strict";var n=r(29);Object.defineProperty(t,"__esModule",{value:!0}),t.parseAvatarsTheme=v,t.isValidHexColor=y,t.completeSpotConfigParse=g,t.parseSpotConfig=function(e){return g(e=(0,i.parseSpotConfig)(e))};var o=n(r(187)),i=r(574),s=r(438),c=r(153),a=r(441),u=r(258),l=r(440),p=r(104),f=r(1152),d=r(439),h=r(255),b=r(112);function v(e){switch(e.toUpperCase()){case"AVCLUB":return o.AVCLUB_THEME;case"REFINERY29":return o.REFINERY29_THEME;case"AUTO_BLOG":return o.AUTOBLOG_THEME;case"BARRONS":return o.BARRONS_THEME;case"TWELVE_UP":return o._12UP_THEME;case"NINETY_MIN":return o._90_MIN_THEME;case"EGAMES":return o.EGAMES_THEME;case"BETCHES":return o.BETCHES_THEME;case"YNET_EURO":return o.YNET_EURO_THEME;case"GRAY":case"TRADITIONAL":case"COLORFUL":return o.REGULAR_THEME;default:return}}function y(e){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(e)}function g(e){if(e.brandColor=y(e.brandColor)?e.brandColor:void 0,e.newsfeedPosition=(0,c.parse)(e.newsfeedPosition),e.tickerSkin=(0,s.parse)(e.tickerSkin),e.openMode=(0,a.parse)(e.openMode),e.conversationSort=(0,u.parse)(e.conversationSort),e.conversationSkin=(0,l.parse)(e.conversationSkin),e.registrationSkin=(0,l.parse)(e.registrationSkin),e.avatarsTheme=e.avatarsTheme?v(e.avatarsTheme):void 0,e.connectTypes=(0,f.parseArray)(e.connectTypes),e.isConnectEnabled=!(!(e.connectTypes.length>0)||1===e.connectTypes.length&&e.connectTypes[0]===f.DISQUS),e.useDisqusLogin=e.connectTypes.length>0&&e.connectTypes.indexOf(f.DISQUS)>-1,e.direction=d.RTL_LANGUAGES.indexOf(e.mainLanguage)>-1?d.RTL:d.LTR,e.hostOptionsBlock){var t=(0,h.parseSpotOptions)(e.hostOptionsBlock);(0,b.deepExtendObject)(e,t)}return Object.keys(e).forEach((function(t){void 0===e[t]&&delete e[t]})),(0,p.filterValidOptions)(e)}},574:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.parseSpotConfig=void 0;var o=n(r(1151));t.parseSpotConfig=function(e){return{spotId:e.id,spotName:e.name,networkId:e.network?e.network.id:void 0,tickerIcon:e.ticker_icon,tickerIconSize:e.ticker_icon_size,brandColor:e.brand_color,buttonEnabled:e.button_enabled,categoryId:e.category_id,subCategoryId:e.sub_category_id,languages:e.languages,mainLanguage:e.main_language,newsfeedSkin:e.newsfeed_skin,newsfeedPosition:e.newsfeed_position,tickerSkin:e.ticker_skin,openMode:e.opening_mode,conversationSort:e.sort_by,conversationSkin:e.inpage_skin,registrationSkin:e.inpage_skin,platform:e.platform,websiteUrl:e.website_url,enableSSO:e.sso_enabled,editableSSO:e.sso_editable_profile,hasCommunity:e.has_community,enableConversationHeaderFacesList:(0,o.default)(e.enable_avatars_bar),avatarsTheme:e.avatars&&e.avatars.scheme?e.avatars.scheme:void 0,numberedAvatars:!(!e.avatars||!e.avatars.numbered)&&e.avatars.numbered,displayNameInSayControlForGuests:!!e.display_name_in_say_control_for_guests&&e.display_name_in_say_control_for_guests,connectTypes:e.connect_networks,conversationRecommendationsRowsCount:e.circulation&&e.circulation.rows_count?e.circulation.rows_count:1,popularItemsCount:e.newsfeed_items_count||0,enableMiniNewsfeed:"mini_newsfeed_enabled"in e?e.mini_newsfeed_enabled:void 0,enableNewsfeed:"newsfeed_enabled"in e?e.newsfeed_enabled:void 0,enableRecommendation:e.circulation&&"enabled"in e.circulation?e.circulation.enabled:void 0,forceRegister:e.policy&&"force_register"in e.policy?e.policy.force_register:void 0,enableBlindfold:e.policy&&"roger_mode"in e.policy?e.policy.roger_mode:void 0,enableGuestVoting:e.policy&&"allow_guests_to_like"in e.policy?e.policy.allow_guests_to_like:void 0,enableRealtimeCommentsSticky:(0,o.default)(e.enable_realtime_comments_sticky),enableDownVotesCount:e.enable_dislikes,enableUserPoints:e.enable_user_points,whitelistUrls:e.whitelisted_urls,hostOptionsBlock:e.injection&&"host_options"in e.injection&&e.injection.host_options?e.injection.host_options:void 0,scriptBlock:e.injection&&"frame_script"in e.injection&&e.injection.frame_script?e.injection.frame_script:void 0,styleBlock:e.injection&&"frame_style"in e.injection&&e.injection.frame_style?e.injection.frame_style:void 0,enableSpotimUtm:e.enable_spotim_utm,openLinksInNewTab:e.open_links_in_new_tab,useExternalUserId:e.external_public_profile,conversationRichToolbarEnabled:(0,o.default)(e.rich_say_control_enabled),repliesMaxDepth:e.comment_replies_max_depth,animationRating:("PG_13"===e.giphy_level?"PG-13":e.giphy_level||"none").toLowerCase()}}},575:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureEssentialModuleRunEntry=t.essentialModuleRunEntry=t.spoxyShardEntry=t.newsfeedItemsCountEntry=t.hasBroadcastEntry=t.spotConfigEntry=void 0;var n=r(1163).InternalVariables.getCurrent(),o=n.getEntry("SPOT_CONFIG");t.spotConfigEntry=o;var i=n.getEntry("HAS_BROADCAST");t.hasBroadcastEntry=i;var s=n.getEntry("NEWSFEED_ITEMS_COUNT");t.newsfeedItemsCountEntry=s;var c=n.getEntry("SPOXY_SHARD");t.spoxyShardEntry=c;var a=n.getEntry("ESSENTIAL_MODULE_RUN");t.essentialModuleRunEntry=a;var u=n.getEntry("ENSURE_ESSENTIAL_MODULE_RUN");t.ensureEssentialModuleRunEntry=u},60:function(e,t,r){"use strict";var n=r(115),o=r(844),i=r(263),s=r(847),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=o.toSubscriber(e,t,r);if(n?n.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t((function(t,n){var o;o=r.subscribe((function(t){if(o)try{e(t)}catch(e){n(e),o.unsubscribe()}else e(t)}),n,t)}))},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?e=n.root.Rx.config.Promise:n.root.Promise&&(e=n.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();t.Observable=c},778:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNetworkToken=function(){return function(){var e=(0,i.default)(o.default.mark((function e(t,r){var n,i,p,f,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),i=(0,l.getNetworkId)(n),p=n.moduleOptions.spotId,t((0,c.fetchAuthenticationStart)()),e.prev=4,e.next=7,s.fetchNetworkToken.execute(p,i);case 7:f=e.sent,d=f.token,t((0,a.fetchAuthenticationEnd)(i,d)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),t((0,u.fetchAuthenticationFail)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,r){return e.apply(this,arguments)}}()};var o=n(r(40)),i=n(r(41)),s=r(779),c=r(431),a=r(254),u=r(432),l=r(810)},779:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNetworkToken=void 0;var n=r(98),o=r(429);var i=(0,n.createDefaultResource)(o.apiUrl,"post","/network-token/{{networkId}}",(function(e,t){return this.performRequest({spot_id:e},{networkId:t})}),{withCredentials:!0});t.fetchNetworkToken=i},810:function(e,t,r){"use strict";var n=r(29),o=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,c.reduceReducers)((0,s.combineReducers)(v({authentication:a.default,moduleOptions:l.default,currentUser:u.default,broadcast:f.default,platform:p.default},e)),(function(e,t){var r=e;if(t.payload&&t.payload.newState)switch(t.type){case d.SET_APP_STATE:r=v({},t.payload.newState);break;case h.UPDATE_APP_STATE:r=Object.assign({},e,t.payload.newState)}return r}))},t.getCurrentUserId=function(e){return u.getCurrentUserId(e.currentUser)},t.getToken=function(e){return a.getToken(e.authentication)},t.getNetworkId=function(e){return a.getNetworkId(e.authentication)};var i=o(r(34)),s=r(18),c=r(811),a=n(r(433)),u=n(r(813)),l=o(r(819)),p=o(r(189)),f=o(r(448)),d=r(832),h=r(833);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},811:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.createFilteredReducer=function(e,t){return function(r,n){var o=void 0===r;return t(n)||o?e(r,n):r}},t.reduceReducers=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e,r){var n=!e;return t.reduce((function(e,t){return n?s(s({},e),t(void 0,r)):t(e,r)}),s({},e))}};var o=n(r(34));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},813:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentUserId=function(e){return e.id},t.default=void 0;var o,i=n(r(34)),s=r(15),c=r(814),a=r(815),u=r(816),l=r(817),p=n(r(818));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={status:{isLoading:!1,error:void 0,hasData:!1}},b=(0,s.handleActions)((o={},(0,i.default)(o,l.SET_CURRENT_USER,(function(e,t){var r=t.payload.currentUser;return d(d({},e),r)})),(0,i.default)(o,c.FETCH_CURRENT_USER_START,(function(e){return d(d({},e),{},{status:{isLoading:!0}})})),(0,i.default)(o,a.FETCH_CURRENT_USER_END,p.default),(0,i.default)(o,u.FETCH_CURRENT_USER_FAIL,(function(e,t){var r=t.payload.error;return d(d({},e),{},{status:{isLoading:!1,error:r}})})),o),h);t.default=b},814:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCurrentUserStart=function(){return{type:"FETCH_CURRENT_USER_START"}},t.FETCH_CURRENT_USER_START=void 0;t.FETCH_CURRENT_USER_START="FETCH_CURRENT_USER_START"},815:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCurrentUserEnd=function(e){return(0,n.notifyHostEvent)(n.CURRENT_USER_CHANGE,{currentUserId:e.id}),{type:"FETCH_CURRENT_USER_END",payload:{currentUser:e}}},t.FETCH_CURRENT_USER_END=void 0;var n=r(52);t.FETCH_CURRENT_USER_END="FETCH_CURRENT_USER_END"},816:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCurrentUserFail=function(e){return{type:"FETCH_CURRENT_USER_FAIL",payload:{error:e},error:!0}},t.FETCH_CURRENT_USER_FAIL=void 0;t.FETCH_CURRENT_USER_FAIL="FETCH_CURRENT_USER_FAIL"},817:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCurrentUser=function(e){return(0,n.notifyHostEvent)(n.CURRENT_USER_CHANGE,{currentUserId:e.id}),{type:"SET_CURRENT_USER",payload:{currentUser:e}}},t.SET_CURRENT_USER=void 0;var n=r(52);t.SET_CURRENT_USER="SET_CURRENT_USER"},818:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(34));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e,t){var r=t.payload.currentUser;return s(s({},e),{},{status:{isLoading:!1,hasData:!0}},r)}},819:function(e,t,r){"use strict";var n=r(0),o=r(29);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s=n(r(54)),c=n(r(34)),a=r(15),u=o(r(186)),l=r(820),p=r(821),f=r(822),d=r(823),h=r(824),b=r(825),v=r(66),y=r(828);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O={spotId:void 0,hostOptions:void 0,urlOptions:void 0,predefinedOptions:void 0,deprecatedOptions:void 0,initialModuleOptions:void 0,spotConfig:{status:{isLoading:!1,error:void 0,hasData:!1}},elementsOptions:[]},m=(0,a.handleActions)((i={},(0,c.default)(i,d.INITIALIZE_MODULE_OPTIONS,(function(e,t){var r=t.payload,n=r.spotId,o=r.hostOptions,i=r.predefinedOptions,s=r.deprecatedOptions,c=r.urlOptions,a=r.initialModuleOptions;return _(_({},e),{},{spotId:n,hostOptions:o,predefinedOptions:i,deprecatedOptions:s,urlOptions:c,initialModuleOptions:a})})),(0,c.default)(i,l.FETCH_SPOT_CONFIG_START,(function(e){var t=e.spotConfig,r=t.status;return r=_(_({},r),{},{isLoading:!0}),t=_(_({},t),{},{status:r}),_(_({},e),{},{spotConfig:t})})),(0,c.default)(i,p.FETCH_SPOT_CONFIG_END,(function(e,t){var r=t.payload.spotConfig;return _(_({},e),{},{spotConfig:_(_({},r),{},{status:{isLoading:!1,hasData:!0}})})})),(0,c.default)(i,f.FETCH_SPOT_CONFIG_FAIL,(function(e,t){var r=t.payload.error,n=e.spotConfig,o=n.status;return o=_(_({},o),{},{isLoading:!1,error:r}),n=_(_({},n),{},{status:o}),_(_({},e),{},{spotConfig:n})})),(0,c.default)(i,h.ADD_MODULE_ELEMENT,(function(e,t){var r=t.payload,n=r.elementId,o=r.moduleType,i=r.elementOptions;if(o===b.CONVERSATION&&!i.conversationId){var c=i.postId;if(!i.postId&&!i.isSterileConversation){var a=i.postUrl||(0,v.getHostUrl)({moduleOptions:e});c=u.parse(a,{removeQueryString:!0,removeFragment:!0,removeProtocol:!0})}c&&(i.postId=(0,y.normalizePostId)(c))}var l=e.elementsOptions.filter((function(e){return e.elementId!==n})),p=[].concat((0,s.default)(l),[{elementId:n,moduleType:o,elementOptions:i}]),f=_(_({},e),{},{elementsOptions:p});return i.spotId&&(f=_(_({},f),{},{spotId:i.spotId})),f})),i),O);t.default=m},820:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSpotConfigStart=function(){return{type:"FETCH_SPOT_CONFIG_START"}},t.FETCH_SPOT_CONFIG_START=void 0;t.FETCH_SPOT_CONFIG_START="FETCH_SPOT_CONFIG_START"},821:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSpotConfigEnd=function(e){return function(t){t({type:"FETCH_SPOT_CONFIG_END",payload:{spotConfig:e}})}},t.FETCH_SPOT_CONFIG_END=void 0;t.FETCH_SPOT_CONFIG_END="FETCH_SPOT_CONFIG_END"},822:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSpotConfigFail=function(e){return{type:"FETCH_SPOT_CONFIG_FAIL",payload:{error:e},error:!0}},t.FETCH_SPOT_CONFIG_FAIL=void 0;t.FETCH_SPOT_CONFIG_FAIL="FETCH_SPOT_CONFIG_FAIL"},823:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeModuleOptions=function(e){return function(t){e=(0,c.filterValidOptions)(e);var r=(0,n.getHostOptions)(),a=(0,i.getDeprecatedOptions)(),u=(0,o.getUrlOptions)(),l=e.spotId||r.spotId||window.SPOTIM&&window.SPOTIM.spotId,p=(0,s.getPredefinedOptions)(l);t({type:"INITIALIZE_MODULE_OPTIONS",payload:{spotId:l,initialModuleOptions:e,hostOptions:r,predefinedOptions:p,deprecatedOptions:a,urlOptions:u}})}},t.INITIALIZE_MODULE_OPTIONS=void 0;var n=r(434),o=r(443),i=r(444),s=r(445),c=r(104);t.INITIALIZE_MODULE_OPTIONS="INITIALIZE_MODULE_OPTIONS"},824:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addModuleElement=function(e,t,r){var o=(0,n.getElementOptions)(t);return{type:"ADD_MODULE_ELEMENT",payload:{elementId:e,moduleType:r,elementOptions:o}}},t.addPrerenderModuleElement=function(e,t,r){return{type:"ADD_MODULE_ELEMENT",payload:{elementId:e,moduleType:r,elementOptions:t}}},t.ADD_MODULE_ELEMENT=void 0;var n=r(447);t.ADD_MODULE_ELEMENT="ADD_MODULE_ELEMENT"},825:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moduleTypes=t.OTHER=t.REGISTRATION=t.LIVE_BLOG=t.CONVO_TICKER=t.NEWSFEED=t.CONVERSATION=void 0;t.CONVERSATION="CONVERSATION";t.NEWSFEED="NEWSFEED";t.CONVO_TICKER="CONVO_TICKER";t.LIVE_BLOG="LIVE_BLOG";t.REGISTRATION="REGISTRATION";t.OTHER="OTHER";var n={CONVERSATION:"CONVERSATION",NEWSFEED:"NEWSFEED",CONVO_TICKER:"CONVO_TICKER",LIVE_BLOG:"LIVE_BLOG",REGISTRATION:"REGISTRATION",OTHER:"OTHER"};t.moduleTypes=n},828:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePostId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.replace(/%/g,"_"),encodeURIComponent(e).replace(/%/g,"_")}},832:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAppState=function(e){return{type:"SET_APP_STATE",payload:{newState:e}}},t.SET_APP_STATE=void 0;t.SET_APP_STATE="SET_APP_STATE"},833:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAppState=function(e){return{type:"UPDATE_APP_STATE",payload:{newState:e}}},t.UPDATE_APP_STATE=void 0;t.UPDATE_APP_STATE="UPDATE_APP_STATE"},843:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=void 0;t.MODULE_NAME="Communicator"},844:function(e,t,r){"use strict";var n=r(116),o=r(262),i=r(457);t.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(i.empty)}},845:function(e,t,r){"use strict";var n,o=r(456);function i(){try{return n.apply(this,arguments)}catch(e){return o.errorObject.e=e,o.errorObject}}t.tryCatch=function(e){return n=e,i}},846:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return n(t,e),t}(Error);t.UnsubscriptionError=o},847:function(e,t,r){"use strict";var n=r(848);function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:n.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o(e)},t.pipeFromArray=o},848:function(e,t,r){"use strict";t.noop=function(){}},849:function(e,t,r){"use strict";var n=r(60),o=r(850);n.Observable.empty=o.empty},850:function(e,t,r){"use strict";var n=r(264);t.empty=n.EmptyObservable.create},851:function(e,t,r){"use strict";var n=r(60),o=r(852);n.Observable.prototype.merge=o.merge},852:function(e,t,r){"use strict";var n=r(853),o=r(265);t.mergeStatic=o.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return n.merge.apply(void 0,e)(this)}},853:function(e,t,r){"use strict";var n=r(265),o=r(265);t.mergeStatic=o.merge,t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t){return t.lift.call(n.merge.apply(void 0,[t].concat(e)))}}},854:function(e,t,r){"use strict";var n=r(855),o=r(859);t.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeMap(o.identity,null,e)}},855:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(856),i=r(858);t.mergeMap=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return"number"==typeof t&&(r=t,t=null),n.lift(new s(e,t,r))}};var s=function(){function e(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=s;var c=function(e){function t(t,r,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY),e.call(this,t),this.project=r,this.resultSelector=n,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return n(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,r)},t.prototype._innerSub=function(e,t,r){this.add(o.subscribeToResult(this,e,t,r))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){this.resultSelector?this._notifyResultSelector(e,t,r,n):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,r,n){var o;try{o=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(o)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);t.MergeMapSubscriber=c},856:function(e,t,r){"use strict";var n=r(115),o=r(461),i=r(462),s=r(455),c=r(60),a=r(266),u=r(857),l=r(263);t.subscribeToResult=function(e,t,r,p){var f=new u.InnerSubscriber(e,r,p);if(f.closed)return null;if(t instanceof c.Observable)return t._isScalar?(f.next(t.value),f.complete(),null):(f.syncErrorThrowable=!0,t.subscribe(f));if(o.isArrayLike(t)){for(var d=0,h=t.length;d<h&&!f.closed;d++)f.next(t[d]);f.closed||f.complete()}else{if(i.isPromise(t))return t.then((function(e){f.closed||(f.next(e),f.complete())}),(function(e){return f.error(e)})).then(null,(function(e){n.root.setTimeout((function(){throw e}))})),f;if(t&&"function"==typeof t[a.iterator])for(var b=t[a.iterator]();;){var v=b.next();if(v.done){f.complete();break}if(f.next(v.value),f.closed)break}else if(t&&"function"==typeof t[l.observable]){var y=t[l.observable]();if("function"==typeof y.subscribe)return y.subscribe(new u.InnerSubscriber(e,r,p));f.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g="You provided "+(s.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";f.error(new TypeError(g))}}return null}},857:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(r(116).Subscriber);t.InnerSubscriber=o},858:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(r(116).Subscriber);t.OuterSubscriber=o},859:function(e,t,r){"use strict";t.identity=function(e){return e}},860:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.ObservablesPool=void 0;var o=n(r(32)),i=n(r(33)),s=r(861),c=function(){function e(){(0,o.default)(this,e),this.pool=new Map}return(0,i.default)(e,[{key:"add",value:function(e,t){this.pool.set(e,t)}},{key:"resolveObservable",value:function(e){var t;return this.pool.has(e)?t=this.pool.get(e):(t=new s.Subject,this.add(e,t)),t}}]),e}();t.ObservablesPool=c},861:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(60),i=r(116),s=r(261),c=r(862),a=r(863),u=r(262),l=function(e){function t(t){e.call(this,t),this.destination=t}return n(t,e),t}(i.Subscriber);t.SubjectSubscriber=l;var p=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(t,e),t.prototype[u.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new a.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(o.Observable);t.Subject=p;var f=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return n(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.Subscription.EMPTY},t}(p);t.AnonymousSubject=f},862:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);t.ObjectUnsubscribedError=o},863:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return n(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(r(261).Subscription);t.SubjectSubscription=o},864:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.History=void 0;var o=n(r(32)),i=n(r(33)),s=r(60);r(865),r(873),r(876);var c=function(){function e(){(0,o.default)(this,e),this.entries=[]}return(0,i.default)(e,[{key:"push",value:function(e,t){this.entries.push({eventName:e,args:t})}},{key:"getObservable",value:function(e){return s.Observable.from(this.entries).filter((function(t){return t.eventName===e})).map((function(e){return e.args}))}}]),e}();t.History=c},865:function(e,t,r){"use strict";var n=r(60),o=r(866);n.Observable.from=o.from},866:function(e,t,r){"use strict";var n=r(867);t.from=n.FromObservable.create},867:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(454),i=r(461),s=r(462),c=r(868),a=r(869),u=r(458),l=r(870),p=r(266),f=r(60),d=r(871),h=r(263),b=function(e){function t(t,r){e.call(this,null),this.ish=t,this.scheduler=r}return n(t,e),t.create=function(e,r){if(null!=e){if("function"==typeof e[h.observable])return e instanceof f.Observable&&!r?e:new t(e,r);if(o.isArray(e))return new u.ArrayObservable(e,r);if(s.isPromise(e))return new c.PromiseObservable(e,r);if("function"==typeof e[p.iterator]||"string"==typeof e)return new a.IteratorObservable(e,r);if(i.isArrayLike(e))return new l.ArrayLikeObservable(e,r)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,r=this.scheduler;return null==r?t[h.observable]().subscribe(e):t[h.observable]().subscribe(new d.ObserveOnSubscriber(e,r,0))},t}(f.Observable);t.FromObservable=b},868:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(115),i=function(e){function t(t,r){e.call(this),this.promise=t,this.scheduler=r}return n(t,e),t.create=function(e,r){return new t(e,r)},t.prototype._subscribe=function(e){var t=this,r=this.promise,n=this.scheduler;if(null==n)this._isScalar?e.closed||(e.next(this.value),e.complete()):r.then((function(r){t.value=r,t._isScalar=!0,e.closed||(e.next(r),e.complete())}),(function(t){e.closed||e.error(t)})).then(null,(function(e){o.root.setTimeout((function(){throw e}))}));else if(this._isScalar){if(!e.closed)return n.schedule(s,0,{value:this.value,subscriber:e})}else r.then((function(r){t.value=r,t._isScalar=!0,e.closed||e.add(n.schedule(s,0,{value:r,subscriber:e}))}),(function(t){e.closed||e.add(n.schedule(c,0,{err:t,subscriber:e}))})).then(null,(function(e){o.root.setTimeout((function(){throw e}))}))},t}(r(60).Observable);function s(e){var t=e.value,r=e.subscriber;r.closed||(r.next(t),r.complete())}function c(e){var t=e.err,r=e.subscriber;r.closed||r.error(t)}t.PromiseObservable=i},869:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(115),i=r(60),s=r(266),c=function(e){function t(t,r){if(e.call(this),this.scheduler=r,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[s.iterator];if(!t&&"string"==typeof e)return new a(e);if(!t&&void 0!==e.length)return new u(e);if(!t)throw new TypeError("object is not iterable");return e[s.iterator]()}(t)}return n(t,e),t.create=function(e,r){return new t(e,r)},t.dispatch=function(e){var t=e.index,r=e.hasError,n=e.iterator,o=e.subscriber;if(r)o.error(e.error);else{var i=n.next();i.done?o.complete():(o.next(i.value),e.index=t+1,o.closed?"function"==typeof n.return&&n.return():this.schedule(e))}},t.prototype._subscribe=function(e){var r=this.iterator,n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{index:0,iterator:r,subscriber:e});for(;;){var o=r.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed){"function"==typeof r.return&&r.return();break}}},t}(i.Observable);t.IteratorObservable=c;var a=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=e.length),this.str=e,this.idx=t,this.len=r}return e.prototype[s.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),u=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=function(e){var t=+e.length;if(isNaN(t))return 0;if(0===t||(r=t,"number"!=typeof r||!o.root.isFinite(r)))return t;var r;if((t=function(e){var t=+e;if(0===t)return t;if(isNaN(t))return t;return t<0?-1:1}(t)*Math.floor(Math.abs(t)))<=0)return 0;if(t>l)return l;return t}(e)),this.arr=e,this.idx=t,this.len=r}return e.prototype[s.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}();var l=Math.pow(2,53)-1},870:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(60),i=r(459),s=r(264),c=function(e){function t(t,r){e.call(this),this.arrayLike=t,this.scheduler=r,r||1!==t.length||(this._isScalar=!0,this.value=t[0])}return n(t,e),t.create=function(e,r){var n=e.length;return 0===n?new s.EmptyObservable:1===n?new i.ScalarObservable(e[0],r):new t(e,r)},t.dispatch=function(e){var t=e.arrayLike,r=e.index,n=e.length,o=e.subscriber;o.closed||(r>=n?o.complete():(o.next(t[r]),e.index=r+1,this.schedule(e)))},t.prototype._subscribe=function(e){var r=this.arrayLike,n=this.scheduler,o=r.length;if(n)return n.schedule(t.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:e});for(var i=0;i<o&&!e.closed;i++)e.next(r[i]);e.complete()},t}(o.Observable);t.ArrayLikeObservable=c},871:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(116),i=r(872);t.observeOn=function(e,t){return void 0===t&&(t=0),function(r){return r.lift(new s(e,t))}};var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=s;var c=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return n(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new a(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(i.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(i.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(i.Notification.createComplete())},t}(o.Subscriber);t.ObserveOnSubscriber=c;var a=function(e,t){this.notification=e,this.destination=t};t.ObserveOnMessage=a},872:function(e,t,r){"use strict";var n=r(60),o=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.error);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=o},873:function(e,t,r){"use strict";var n=r(60),o=r(874);n.Observable.prototype.filter=o.filter},874:function(e,t,r){"use strict";var n=r(875);t.filter=function(e,t){return n.filter(e,t)(this)}},875:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(116);t.filter=function(e,t){return function(r){return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,r,n){e.call(this,t),this.predicate=r,this.thisArg=n,this.count=0}return n(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(o.Subscriber)},876:function(e,t,r){"use strict";var n=r(60),o=r(877);n.Observable.prototype.map=o.map},877:function(e,t,r){"use strict";var n=r(878);t.map=function(e,t){return n.map(e,t)(this)}},878:function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);function n(){this.constructor=e}e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=r(116);t.map=function(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new i(e,t))}};var i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}();t.MapOperator=i;var s=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return n(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},882:function(e,t,r){var n,o;n=this,o=function(){var e={},t="undefined"!=typeof window&&window,r="undefined"!=typeof document&&document,n=r&&r.documentElement,o=t.matchMedia||t.msMatchMedia,i=o?function(e){return!!o.call(t,e).matches}:function(){return!1},s=e.viewportW=function(){var e=n.clientWidth,r=t.innerWidth;return e<r?r:e},c=e.viewportH=function(){var e=n.clientHeight,r=t.innerHeight;return e<r?r:e};function a(){return{width:s(),height:c()}}function u(e,t){return!(!(e=e&&!e.nodeType?e[0]:e)||1!==e.nodeType)&&function(e,t){var r={};return t=+t||0,r.width=(r.right=e.right+t)-(r.left=e.left-t),r.height=(r.bottom=e.bottom+t)-(r.top=e.top-t),r}(e.getBoundingClientRect(),t)}return e.mq=i,e.matchMedia=o?function(){return o.apply(t,arguments)}:function(){return{}},e.viewport=a,e.scrollX=function(){return t.pageXOffset||n.scrollLeft},e.scrollY=function(){return t.pageYOffset||n.scrollTop},e.rectangle=u,e.aspect=function(e){var t=(e=null==e?a():1===e.nodeType?u(e):e).height,r=e.width;return t="function"==typeof t?t.call(e):t,(r="function"==typeof r?r.call(e):r)/t},e.inX=function(e,t){var r=u(e,t);return!!r&&r.right>=0&&r.left<=s()},e.inY=function(e,t){var r=u(e,t);return!!r&&r.bottom>=0&&r.top<=c()},e.inViewport=function(e,t){var r=u(e,t);return!!r&&r.bottom>=0&&r.right>=0&&r.top<=c()&&r.left<=s()},e},e.exports?e.exports=o():n.verge=o()},884:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exposeTo=void 0;var n=r(885),o=r(191),i=r(436),s=(0,o.exposer)("CLOCK",(function(e){var t="1"===(0,i.getKey)(e.location.href,"clock");return new n.Clock(t)}));t.exposeTo=s},885:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Clock=void 0;var o=n(r(32)),i=n(r(33)),s=n(r(886)),c=function(){function e(t,r){(0,o.default)(this,e),this.startTime=t,this.duration=(0,s.default)(this.startTime),this.enableLogs=r}return(0,i.default)(e,[{key:"toMiliseconds",value:function(){return 1e3*this.duration[0]+this.duration[1]/1e6}},{key:"log",value:function(e,t){(this.enableLogs||t)&&console.log("%c ".concat(e,": ").concat(this.toMiliseconds(),"ms"),"background: blue; color: white; display: block;")}}]),e}(),a=function(){function e(t){(0,o.default)(this,e),this.startTime=(0,s.default)(),this.enableLogs=t}return(0,i.default)(e,[{key:"stop",value:function(){return new c(this.startTime,this.enableLogs)}}]),e}();t.Clock=a},886:function(e,t,r){(function(t,r){e.exports=t.hrtime||function(e){var t=.001*o.call(n),r=Math.floor(t),i=Math.floor(t%1*1e9);e&&(r-=e[0],(i-=e[1])<0&&(r--,i+=1e9));return[r,i]};var n=r.performance||{},o=n.now||n.mozNow||n.msNow||n.oNow||n.webkitNow||function(){return(new Date).getTime()}}).call(this,r(84),r(73))},887:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToTop=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=window.pageYOffset,i=e-o;window.requestAnimationFrame((function e(s){r||(r=s);var c=s-r,a=Math.min(c/t,1);window.scrollTo(0,o+i*a),c<t?window.requestAnimationFrame(e):n()}))},t.default=t.EASINGS=void 0;var n={LINEAR:function(e){return e},IN_OUT_QUART:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}};t.EASINGS=n;var o=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.LINEAR;return new Promise((function(n){var i=window===e;if(r<=0)n();else{var s=i?e.pageYOffset:e.scrollTop,c=t-s,a=Date.now()+r;requestAnimationFrame((function e(){var i=1-(a-Date.now())/r;if(i>=0&&i<=1){var l=o(i)*c;u(Math.floor(s+l)),requestAnimationFrame(e)}else u(t),n()}))}function u(t){i?e.scroll(0,t):e.scrollTop=t}}))};t.default=o},888:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return l.apply(this,arguments)};var o=n(r(40)),i=n(r(41)),s=r(889),c=r(893);function a(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(){return(l=(0,i.default)(o.default.mark((function e(t){var r,n,i,s,u,l,d,h,b,v,y;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.disableNavigation,i=t.referTraffic,s=t.href,u=t.redirectUrl,l=t.newTab,d=void 0!==l&&l,i){e.next=26;break}if(0!==r.indexOf(u)){e.next=26;break}r=r.substr(r.indexOf("#")+1),r=decodeURIComponent(r),h=r.split("&"),b=a(h),e.prev=7,b.s();case 9:if((v=b.n()).done){e.next=18;break}if("to_url"!==(y=v.value).split("=")[0]){e.next=16;break}return r=decodeURIComponent(y.split("=")[1]),e.next=15,f(h,s);case 15:return e.abrupt("break",18);case 16:e.next=9;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),b.e(e.t0);case 23:return e.prev=23,b.f(),e.finish(23);case 26:(0,c.notifyNavigationEvent)(r),n||p(r,d);case 28:case"end":return e.stop()}}),e,null,[[7,20,23,26]])})))).apply(this,arguments)}function p(e,t){var r=document.createElement("a");r.setAttribute("href",e),"http:"!==r.protocol&&"https:"!==r.protocol||e.length&&(t?window.open(e,"_blank"):window.location.href=e)}function f(e,t){return d.apply(this,arguments)}function d(){return(d=(0,i.default)(o.default.mark((function e(t,r){var n,i,c,u,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},i=a(t);try{for(i.s();!(c=i.n()).done;)u=c.value,n[u.split("=")[0]]=u.split("=")[1]}catch(e){i.e(e)}finally{i.f()}return l={events:[{type:"generated-page-view",version:1,value:{from:{spot_id:n.from_spot,source:n.source,url:r},to:{spot_id:n.to_spot,url:n.to_url}}}]},e.next=6,s.track.execute(l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},889:function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.track=void 0;var o=n(r(34)),i=n(r(85)),s=r(98),c=r(890);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var u=(0,s.createDefaultResource)(c.apiUrl,"post","/track",(function(e){var t=(0,i.default)({},e);return this.performRequest(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t))}),{withCredentials:!0});t.track=u},890:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.apiUrl=void 0,n=r(891),"staging"===window.__SPOTIMENV__&&(n=r(892));var o=n.cdn;t.apiUrl=o},891:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cdn=t.url=void 0;t.url="https://tracker.spot.im";t.cdn="https://www.spot.im/api/tracker"},892:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cdn=t.url=void 0;t.url="https://staging-tracker.spot.im";t.cdn="https://v2.staging-spot.im/api/tracker"},893:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"shouldOpenLogin",{enumerable:!0,get:function(){return o.shouldOpenLogin}}),Object.defineProperty(t,"notifyLoginEvent",{enumerable:!0,get:function(){return i.notifyLoginEvent}}),Object.defineProperty(t,"notifyNavigationEvent",{enumerable:!0,get:function(){return s.notifyNavigationEvent}}),t.notifyTypes=void 0;var n=r(894),o=r(895),i=r(896),s=r(897),c={LOGIN:n.LOGIN,NAVIGATION:n.NAVIGATION};t.notifyTypes=c},894:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NEWSFEED_LOAD=t.NAVIGATION=t.LOGIN=void 0;t.LOGIN="LOGIN";t.NAVIGATION="NAVIGATION";t.NEWSFEED_LOAD="NEWSFEED_LOAD"},895:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldOpenLogin=function(){var e=!0;"function"==typeof window.spotImShouldOpenLogin&&(e=window.spotImShouldOpenLogin());return e}},896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyLoginEvent=function(e){n("Dispatching ".concat("spot-im-login"," on document with detail.connectType === ").concat(e));var t=new CustomEvent("spot-im-login",{detail:{connectType:e}});document.dispatchEvent(t)};var n=(0,r(463).getDebugger)("Events")},897:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifyNavigationEvent=function(e){n("Dispatching ".concat("spot-im-navigation"," on document with detail.url === ").concat(e));var t=new CustomEvent("spot-im-navigation",{detail:{url:e}});document.dispatchEvent(t)};var n=(0,r(463).getDebugger)("Events")}}]);
//# sourceMappingURL=vendors~boot-bundle.js.map